            MBIOS.LST       BIOS ROM Analysis			Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 1


				PAGE  59,132

				;лллллллллллллллллллллллллллллллллллллллллллллллллллллллллллллллллллллллллл
				;лл					                                 лл
				;лл				BIOS	                                 лл
				;лл					                                 лл
				;лл      Created:			                                 лл
				;лл      Passes:    5          Analysis	Options on: QRS                  лл
				;лл					                                 лл
				;лллллллллллллллллллллллллллллллллллллллллллллллллллллллллллллллллллллллллл

				.err     Target Assembler set to NONE, re-assembly not recommended

				.486p

				.387


				; The following equates show data references outside the range of the program.

     = 0054			vectr_15h_off	equ	54h			; (0000:0054=240h)
     = 0056			vectr_15h_seg	equ	56h			; (0000:0056=20Bh)
     = 0074			video_hdw_off	equ	74h			; (0000:0074=0F0A4h)
     = 0078			disk_parm_off	equ	78h			; (0000:0078=522h)
     = 007C			graph_tbl_off	equ	7Ch			; (0000:007C=5A2Fh)
     = 0104			data_2e		equ	104h			; (0000:0104=40h)
     = 0818			data_4e		equ	818h			;*(0000:0818=4FF0h)
     = 081A			data_5e		equ	81Ah			;*(0000:081A=0F773h)
     = 0820			data_6e		equ	820h			;*(0000:0820=0FEh)
     = 0822			data_7e		equ	822h			;*(0000:0822=0FF0h)
     = 082C			data_8e		equ	82Ch			;*(0000:082C=0B8F0h)
     = 0836			data_9e		equ	836h			;*(0000:0836=2)
     = 0848			data_10e	equ	848h			;*(0000:0848=9Bh)
     = 089E			data_11e	equ	89Eh			;*(0000:089E=0)
     = 7C00			data_12e	equ	7C00h			;*(0000:7C00=0)
     = 7DFE			data_13e	equ	7DFEh			;*(0000:7DFE=64D4h)
     = E270			data_14e	equ	0E270h			;*(0000:E270=0BBh)
     = 01FE			data_25e	equ	1FEh			;*(0040:01FE=0D9h)
     = 0472			data_26e	equ	472h			;*(0040:0472=0C000h)
     = 0D33			data_27e	equ	0D33h			;*(0040:0D33=0)
     = 13D2			data_28e	equ	13D2h			;*(0040:13D2=0C6h)
     = 13E0			data_29e	equ	13E0h			;*(0040:13E0=0D4h)
     = 13E2			data_30e	equ	13E2h			;*(0040:13E2=0D6h)
     = 13E6			data_31e	equ	13E6h			;*(0040:13E6=0DAh)
     = 1404			data_32e	equ	1404h			;*(0040:1404=0F8h)
     = 1409			data_33e	equ	1409h			;*(0040:1409=0FDh)
     = 1412			data_34e	equ	1412h			;*(0040:1412=84h)
     = 1818			data_35e	equ	1818h			;*(0040:1818=33h)
     = 2000			data_36e	equ	2000h			;*(0040:2000=75C0h)
     = 201A			data_37e	equ	201Ah			;*(0040:201A=0C359h)
     = 2810			data_38e	equ	2810h			;*(0040:2810=9008h)
     = 2AAA			data_39e	equ	2AAAh			;*(0040:2AAA=0CDh)
     = 3000			data_40e	equ	3000h			;*(0040:3000=60h)
     = 3008			data_41e	equ	3008h			;*(0040:3008=0D2h)
     = 3206			data_42e	equ	3206h			;*(0040:3206=0F6h)
     = 3A0F			data_43e	equ	3A0Fh			;*(0040:3A0F=3D02h)
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 2

     = 5555			data_44e	equ	5555h			;*(0040:5555=0)
     = 578C			data_45e	equ	578Ch			;*(0040:578C=0)
     = 5E41			data_46e	equ	5E41h			;*(0040:5E41=92FFh)
     = 7C00			data_47e	equ	7C00h			;*(0040:7C00=0)
     = 7DFE			data_48e	equ	7DFEh			;*(0040:7DFE=61FDh)
     = 9898			data_49e	equ	9898h			;*(0040:9898=2Eh)
     = BA66			data_50e	equ	0BA66h			;*(0040:BA66=0)
     = 0010			data_51e	equ	10h			;*(2000:0010=0FBh)
     = E05B			data_52e	equ	0E05Bh			;*(2000:E05B=0DFh)
     = FFE0			data_53e	equ	0FFE0h			;*(2000:FFE0=0FFh)
     = 0016			data_54e	equ	16h			;*(3000:0016=0FFh)
     = 13E2			data_55e	equ	13E2h			;*(3000:13E2=0FFh)
     = 13E4			data_56e	equ	13E4h			;*(3000:13E4=0FFh)
     = 13FE			data_57e	equ	13FEh			;*(3000:13FE=0FFh)
     = 1400			data_58e	equ	1400h			;*(3000:1400=0FFFFh)
     = 1410			data_59e	equ	1410h			;*(3000:1410=0FFFFh)
     = 0000			data_60e	equ	0			;*(4000:0000=0FFFFh)
     = 0002			data_61e	equ	2			;*(4000:0002=0FFFFh)
     = 0004			data_62e	equ	4			;*(4000:0004=0FFFFh)
     = 0006			data_64e	equ	6			;*(4000:0006=0FFFFh)
     = 0008			data_65e	equ	8			;*(4000:0008=0FFFFh)
     = 000A			data_66e	equ	0Ah			;*(4000:000A=0FFFFh)
     = 000C			data_67e	equ	0Ch			;*(4000:000C=0FFFFh)
     = 000E			data_68e	equ	0Eh			;*(4000:000E=0FFFFh)
     = 0010			data_69e	equ	10h			;*(4000:0010=0FFFFh)
     = 0012			data_70e	equ	12h			;*(4000:0012=0FFFFh)
     = 0014			data_71e	equ	14h			;*(4000:0014=0FFFFh)
     = 0016			data_72e	equ	16h			;*(4000:0016=0FFh)
     = 2016			data_73e	equ	2016h			;*(4000:2016=4C43h)
     = 3008			data_75e	equ	3008h			;*(4000:3008=44h)
     = 3206			data_76e	equ	3206h			;*(4000:3206=0)
     = 3A0F			data_77e	equ	3A0Fh			;*(4000:3A0F=0F700h)
     = 5E41			data_78e	equ	5E41h			;*(4000:5E41=0)
     = 0073			data_79e	equ	73h			;*(5000:0073=0FFh)
     = 2C86			data_80e	equ	2C86h			;*(5000:2C86=0FFFFh)
     = 8428			data_81e	equ	8428h			;*(5000:8428=0FFh)
     = FA6E			data_82e	equ	0FA6Eh			; (C000:FA6E=0FFh)
     = 00E0			data_314e	equ	0E0h			; (F008:00E0=0FFh)
     = 00E1			data_315e	equ	0E1h			; (F008:00E1=0FFh)
     = 00E2			data_316e	equ	0E2h			; (F008:00E2=0FFFFh)

				;------------------------------------------------------------  seg_a   ----

				seg_a		segment	use16 at 0

0000:0000  0F9E			vector_0h_off	dw	0F9Eh			;  xref F000:CAFF
0000:0002  00C9			vector_0h_seg	dw	0C9h
0000:0004  0465			vector_1h_off	dw	465h
0000:0006  0070			vector_1h_seg	dw	70h
0000:0008  0016			vector_2h_off	dw	16h
0000:000A  0A6D			vector_2h_seg	dw	0A6Dh
0000:000C  0465			vector_3h_off	dw	465h
0000:000E  0070			vector_3h_seg	dw	70h
0000:0010  0465			vector_4h_off	dw	465h
0000:0012  0070			vector_4h_seg	dw	70h
0000:0014  FF54			vector_5h_off	dw	0FF54h
0000:0016  F000			vector_5h_seg	dw	0F000h
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 3

0000:0018  EA7A			vector_6h_off	dw	0EA7Ah
0000:001A  F000			vector_6h_seg	dw	0F000h
0000:001C  EA22			vector_7h_off	dw	0EA22h
0000:001E  F000			vector_7h_seg	dw	0F000h
0000:0020  001F			vector_8h_off	dw	1Fh			;  xref F000:ADDA, F000:ADE8
										;       F000:AE12
0000:0022  0A6D			vector_8h_seg	dw	0A6Dh			;  xref F000:ADD6, F000:ADEE
										;       F000:AE16, F000:F227
0000:0024  0028			vector_9h_off	dw	28h			;  xref F000:ADD2, F000:ADDE
										;       F000:AE1A
0000:0026  0A6D			vector_9h_seg	dw	0A6Dh			;  xref F000:ADCE, F000:ADE4
										;       F000:AE1E, F000:F15B
										;       F000:F1B0, F000:F1BF
										;       F000:F2C6, F000:F2DC
										;       F000:F2E4, F000:F2EB
										;       F000:F2F6, F000:F32A
0000:0028  003A			vector_Ah_off	dw	3Ah			; Data table (indexed access)
0000:002A  0A6D			vector_Ah_seg	dw	0A6Dh
0000:002C  0052			vector_Bh_off	dw	52h
0000:002E  0A6D			vector_Bh_seg	dw	0A6Dh
0000:0030  006A			vector_Ch_off	dw	6Ah
0000:0032  0A6D			vector_Ch_seg	dw	0A6Dh
0000:0034  332B			vector_Dh_off	dw	332Bh
0000:0036  1FFB			vector_Dh_seg	dw	1FFBh
0000:0038  009A			vector_Eh_off	dw	9Ah
0000:003A  0A6D			vector_Eh_seg	dw	0A6Dh
0000:003C  0465			vector_Fh_off	dw	465h
0000:003E  0070			vector_Fh_seg	dw	70h
0000:0040  0819			vectr_10h_off	dw	819h			;  xref F000:90FE
0000:0042  0251			vectr_10h_seg	dw	251h
0000:0044  F84D			vectr_11h_off	dw	0F84Dh
0000:0046  F000			vectr_11h_seg	dw	0F000h
0000:0048  F841			vectr_12h_off	dw	0F841h
0000:004A  F000			vectr_12h_seg	dw	0F000h
0000:004C  03EE			vectr_13h_off	dw	3EEh
0000:004E  0070			vectr_13h_seg	dw	70h

						org	400h

0000:0400  03F8			@rs232_port_1_	dw	3F8h			; Duplicates
0000:0402  02F8			@rs232_port_2_	dw	2F8h			; (see 0040:0000 for
0000:0404  0000			@rs232_port_3_	dw	0			; full information)
0000:0406  0000			@rs232_port_4_	dw	0
0000:0408  0378			@prn_port_1_	dw	378h
0000:040A  0000			@prn_port_2_	dw	0
0000:040C  0000			@prn_port_3_	dw	0
0000:040E  0000			BIOS_data_seg_	dw	0
0000:0410  4463			equip_bits_	dw	4463h
0000:0412  F2			manufactr_test_	db	0F2h
0000:0413  0280			main_ram_size_	dw	280h
0000:0415  0801			error_codes_	dw	801h
0000:0417  20			keybd_flags_1_	db	20h
0000:0418  00			keybd_flags_2_	db	0
0000:0419  00			keybd_alt_num_	db	0
0000:041A  0038			keybd_q_head_	dw	38h
0000:041C  0038			keybd_q_tail_	dw	38h
0000:041E  50E0 50E0 50E0	keybd_queue_	dw	50E0h, 50E0h, 50E0h
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 4

0000:0424  50E0 50E0 50E0			dw	50E0h, 50E0h, 50E0h
0000:042A  48E0 1C0D 0231			dw	48E0h, 1C0Dh, 231h
0000:0430  1579 1C0D 2267			dw	1579h, 1C0Dh, 2267h
0000:0436  1579 3D00 011B			dw	1579h, 3D00h, 11Bh
0000:043C  50E0					dw	50E0h
0000:043E  00			dsk_recal_stat_	db	0
0000:043F  00			dsk_motor_stat_	db	0
0000:0440  00			dsk_motor_tmr_	db	0
0000:0441  00			dsk_ret_code_	db	0
0000:0442  C0			dsk_status_1_	db	0C0h
0000:0443  00			dsk_status_2_	db	0
0000:0444  00			dsk_status_3_	db	0
0000:0445  00			dsk_status_4_	db	0
0000:0446  00			dsk_status_5_	db	0
0000:0447  00			dsk_status_6_	db	0
0000:0448  00			dsk_status_7_	db	0
0000:0449  03			video_mode_	db	3
0000:044A  0050			video_columns_	dw	50h
0000:044C  1000			video_buf_siz_	dw	1000h
0000:044E  0000			video_pag_off_	dw	0
0000:0450  184F			vid_curs_pos0_	dw	184Fh
0000:0452  0000			vid_curs_pos1_	dw	0
0000:0454  0000			vid_curs_pos2_	dw	0
0000:0456  0000			vid_curs_pos3_	dw	0
0000:0458  0000			vid_curs_pos4_	dw	0
0000:045A  0000			vid_curs_pos5_	dw	0
0000:045C  0000			vid_curs_pos6_	dw	0
0000:045E  0000			vid_curs_pos7_	dw	0
0000:0460  200E			vid_curs_mode_	dw	200Eh
0000:0462  00			video_page_	db	0
0000:0463  03D4			@video_port_	dw	3D4h
0000:0465  29			video_mode_reg_	db	29h
0000:0466  30			video_color_	db	30h
0000:0467  17A4			@gen_use_ptr_	dw	17A4h
0000:0469  857D			@gen_use_seg_	dw	857Dh
0000:046B  FF			gen_int_occurd_	db	0FFh
0000:046C  DE0F			timer_low_	dw	0DE0Fh
0000:046E  0012			timer_hi_	dw	12h
0000:0470  00			timer_rolled_	db	0
0000:0471  00			keybd_break_	db	0
0000:0472  0000			warm_boot_flag_	dw	0
0000:0474  00			hdsk_status_1_	db	0
0000:0475  01			hdsk_count_	db	1
0000:0476  08			hdsk_head_ctrl_	db	8
0000:0477  00			hdsk_ctrl_port_	db	0
0000:0478  14			prn_timeout_1_	db	14h
0000:0479  14			prn_timeout_2_	db	14h
0000:047A  14			prn_timeout_3_	db	14h
0000:047B  14			prn_timeout_4_	db	14h
0000:047C  01			rs232_timeout1_	db	1
0000:047D  01			rs232_timeout2_	db	1
0000:047E  01			rs232_timeout3_	db	1
0000:047F  01			rs232_timeout4_	db	1
0000:0480  001E			@keybd_begin_	dw	1Eh
0000:0482  003E			@keybd_end_	dw	3Eh
0000:0484  18			video_rows_	db	18h
0000:0485  0010			video_pixels_	dw	10h
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 5

0000:0487  60			video_options_	db	60h
0000:0488  F9			video_switches_	db	0F9h
0000:0489  01			video_1_save_	db	1
0000:048A  0B			video_2_save_	db	0Bh
0000:048B  81			dsk_data_rate_	db	81h
0000:048C  50			hdsk_status_2_	db	50h
0000:048D  01			hdsk_error_	db	1
0000:048E  00			hdsk_complete_	db	0
0000:048F  33			dsk_options_	db	33h
0000:0490  07			dsk0_media_st_	db	7
0000:0491  02			dsk1_media_st_	db	2
0000:0492  00			dsk0_start_st_	db	0
0000:0493  00			dsk1_start_st_	db	0
0000:0494  00			dsk0_cylinder_	db	0
0000:0495  00			dsk1_cylinder_	db	0
0000:0496  10			keybd_flags_3_	db	10h
0000:0497  12			keybd_flags_4_	db	12h
0000:0498  0000			@timer_waitoff_	dw	0
0000:049A  0000			@timer_waitseg_	dw	0
0000:049C  0000			timer_clk_low_	dw	0
0000:049E  0000			timer_clk_hi_	dw	0
0000:04A0  00			timer_clk_flag_	db	0
0000:04A1  0007[00]				db	7 dup (0)
0000:04A8  3F 4E 00 C0				db	 3Fh, 4Eh, 00h,0C0h
0000:04AC  0024[00]				db	36 dup (0)

				seg_a		ends



				;------------------------------------------------------------  seg_b   ----

				seg_b		segment	use16 at 40h

0040:0000  03F8			@rs232_port_1	dw	3F8h			; Data table (indexed access)
										;  xref F000:C10C, F000:F92C
0040:0002  02F8			@rs232_port_2	dw	2F8h
0040:0004  0000			@rs232_port_3	dw	0			;  xref F000:C525, F000:C5ED
										;       F000:C60C, F000:C648
0040:0006  0000			@rs232_port_4	dw	0
0040:0008  0378			@prn_port_1	dw	378h			; Data table (indexed access)
										;  xref F000:F89D
0040:000A  0000			@prn_port_2	dw	0			;  xref F000:C5E9
0040:000C  0000			@prn_port_3	dw	0			;  xref F000:922A, F000:C11A
0040:000E  0000			BIOS_data_seg	dw	0			;  xref F000:85F7, F000:F113
0040:0010  4463			equip_bits	dw	4463h			;  xref F000:7553, F000:7D3A
										;       F000:CCE9, F000:F854
0040:0012  F2			manufactr_test	db	0F2h			;  xref F000:B383
0040:0013  0280			main_ram_size	dw	280h			;  xref F000:D64A, F000:F846
0040:0015  0801			error_codes	dw	801h			;  xref F000:861F, F000:9F90
										;       F000:BE0A, F000:C971
0040:0017  20			keybd_flags_1	db	20h			;  xref F000:885C, F000:88CB
										;       F000:88F6, F000:893A
										;       F000:8982, F000:8997
										;       F000:8A10, F000:8AC9
										;       F000:8AE8, F000:8B0B
										;       F000:8B27, F000:8B7A
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 6

										;       F000:8B81, F000:AB41
										;       F000:ADBB, F000:B529
										;       F000:B541, F000:E38D
										;       F000:F3F2, F000:F42B
0040:0018  00			keybd_flags_2	db	0			;  xref F000:88AF, F000:88B9
										;       F000:88E6, F000:88EA
										;       F000:8921, F000:8953
										;       F000:8965, F000:896C
										;       F000:898E, F000:8A2D
										;       F000:8A49, F000:AB2D
										;       F000:F3E8, F000:F3EE
										;       F000:F3FC, F000:F407
										;       F000:F41F, F000:F426
0040:0019  00			keybd_alt_num	db	0			;  xref F000:8902, F000:89C6
										;       F000:89D7, F000:89E4
										;       F000:89EA
0040:001A  0038			keybd_q_head	dw	38h			;  xref F000:8A65, F000:8BA6
										;       F000:AAEA, F000:E2C8
										;       F000:E2E0, F000:E341
0040:001C  0038			keybd_q_tail	dw	38h			;  xref F000:8A68, F000:8B9E
										;       F000:8BB2, F000:AAE2
										;       F000:AAF2, F000:E2CC
										;       F000:E345
0040:001E  50E0 50E0 50E0	keybd_queue	dw	50E0h, 50E0h, 50E0h
0040:0024  50E0 50E0 50E0			dw	50E0h, 50E0h, 50E0h
0040:002A  48E0 1C0D 0231			dw	48E0h, 1C0Dh, 231h
0040:0030  1579 1C0D 2267			dw	1579h, 1C0Dh, 2267h
0040:0036  1579 3D00 011B			dw	1579h, 3D00h, 11Bh
0040:003C  50E0					dw	50E0h
0040:003E  00			dsk_recal_stat	db	0			;  xref F000:C99C, F000:C9A2
										;       F000:C9ED, F000:CBA9
										;       F000:CCA9, F000:CF37
										;       F000:CF46, F000:CF7D
										;       F000:CF93, F000:CFF4
										;       F000:D006, F000:D106
										;       F000:D302, F000:D309
										;       F000:D327, F000:D43A
										;       F000:D465, F000:D484
										;       F000:D5B4, F000:E837
0040:003F  00			dsk_motor_stat	db	0			;  xref F000:C9A5, F000:C9AD
										;       F000:CB46, F000:CC3B
										;       F000:D054, F000:D147
										;       F000:D151, F000:D157
										;       F000:D167, F000:D16C
										;       F000:D17F, F000:D1B1
										;       F000:D435, F000:D43F
										;       F000:E0A5
0040:0040  00			dsk_motor_tmr	db	0			;  xref F000:A8C0, F000:C9E2
										;       F000:CB0C, F000:D142
										;       F000:D1E8, F000:D58B
										;       F000:E093, F000:E09A
0040:0041  00			dsk_ret_code	db	0			;  xref F000:C95C, F000:C9CD
										;       F000:C9FF, F000:CA13
										;       F000:CA40, F000:CA51
										;       F000:CA6E, F000:CAB5
										;       F000:CAF8, F000:CB1B
										;       F000:CC0D, F000:CC23
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 7

										;       F000:CCC1, F000:CCC8
										;       F000:CCDB, F000:CDAB
										;       F000:CF1C, F000:CF89
										;       F000:CFC8, F000:D084
										;       F000:D12F, F000:D552
0040:0042  C0			dsk_status_1	db	0C0h			;  xref F000:CF5B, F000:D01B
										;       F000:D1D1, F000:D3A9
										;       F000:D41A
0040:0043  00			dsk_status_2	db	0			;  xref F000:D421
0040:0044  00			dsk_status_3	db	0
0040:0045  00			dsk_status_4	db	0
0040:0046  00			dsk_status_5	db	0
0040:0047  00			dsk_status_6	db	0
0040:0048  00			dsk_status_7	db	0
0040:0049  03			video_mode	db	3			;  xref F000:7593, F000:770B
										;       F000:7719, F000:7739
										;       F000:77B4, F000:77F2
										;       F000:78F3, F000:7904
										;       F000:7935, F000:793C
										;       F000:7985, F000:79EE
										;       F000:7A21, F000:7A28
										;       F000:7A64, F000:7A95
										;       F000:7A9C, F000:7AF8
										;       F000:7C21, F000:7CA8
										;       F000:7CAF, F000:7CE7
										;       F000:7F06, F000:8A39
0040:004A  0050			video_columns	dw	50h			;  xref F000:75C1, F000:7686
										;       F000:7726, F000:77E2
										;       F000:7808, F000:781E
										;       F000:791E, F000:7978
										;       F000:7A0B, F000:7A7F
										;       F000:7AE8, F000:7C24
										;       F000:7C97, F000:7CC0
										;       F000:7EF6
0040:004C  1000			video_buf_siz	dw	1000h			;  xref F000:75DC, F000:7782
										;       F000:792B, F000:7A18
										;       F000:7A8C
0040:004E  0000			video_page_off	dw	0			;  xref F000:75E1, F000:768E
										;       F000:7704, F000:7786
										;       F000:7812
0040:0050  184F			vid_curs_pos0	dw	184Fh			; Data table (indexed access)
										;  xref F000:75E7, F000:7671
										;       F000:76BF, F000:7794
										;       F000:7918, F000:7972
										;       F000:7A05, F000:7A79
										;       F000:7AE2, F000:7C48
										;       F000:7C69
0040:0052  0000			vid_curs_pos1	dw	0
0040:0054  0000			vid_curs_pos2	dw	0
0040:0056  0000			vid_curs_pos3	dw	0
0040:0058  0000			vid_curs_pos4	dw	0
0040:005A  0000			vid_curs_pos5	dw	0
0040:005C  0000			vid_curs_pos6	dw	0
0040:005E  0000			vid_curs_pos7	dw	0
0040:0060  200E			vid_curs_mode	dw	200Eh			;  xref F000:7627, F000:7657
										;       F000:76C3
0040:0062  00			video_page	db	0			;  xref F000:75E4, F000:7675
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 8

										;       F000:777C, F000:7BE5
										;       F000:7C2D, F000:7E9C
0040:0063  03D4			@video_port	dw	3D4h			;  xref F000:758F, F000:7698
										;       F000:76CC, F000:7943
										;       F000:7A3D, F000:7AAF
										;       F000:7BA7, F000:D783
										;       F000:D7D9, F000:D7EA
0040:0065  29			video_mode_reg	db	29h			;  xref F000:75A9, F000:7648
										;       F000:78FA, F000:8A40
0040:0066  30			video_color	db	30h			;  xref F000:759E, F000:7651
										;       F000:7B8B, F000:7BA4
0040:0067  17A4			@gen_use_ptr	dw	17A4h			;  xref F000:8477, F000:8550
										;       F000:8585, F000:AE55
										;       F000:FA4C
0040:0069  857D			@gen_use_seg	dw	857Dh			;  xref F000:847B, F000:854C
										;       F000:8581
0040:006B  FF			gen_int_occured	db	0FFh			;  xref F000:F7A2
0040:006C  DE10			timer_low	dw	0DE10h			;  xref F000:ABBF, F000:ABCC
										;       F000:E065
0040:006E  0012			timer_hi	dw	12h			;  xref F000:ABC3, F000:ABD0
										;       F000:E068
0040:0070  00			timer_rolled	db	0			;  xref F000:ABBB, F000:ABC9
0040:0071  00			keybd_break	db	0			;  xref F000:8A6B
0040:0072  0000			warm_boot_flag	dw	0			;  xref F000:89A2, F000:ADB4
										;       F000:AE01, F000:AE09
										;       F000:AE2C, F000:AE40
										;       F000:AE48, F000:AE86
0040:0074  00			hdsk_status_1	db	0			;  xref F000:9EFC, F000:9F3F
										;       F000:A00F, F000:A014
										;       F000:A019, F000:A11F
										;       F000:A17A, F000:A1BA
										;       F000:A1F3, F000:A279
										;       F000:A2BC, F000:A2C6
										;       F000:A2F0, F000:A349
										;       F000:A381, F000:A3F1
										;       F000:A424, F000:A459
										;       F000:A485, F000:A4A9
										;       F000:A507, F000:A572
										;       F000:A974, F000:AA2B
										;       F000:AA44
0040:0075  01			hdsk_count	db	1			;  xref F000:A119, F000:A3E0
0040:0076  08			hdsk_head_ctrl	db	8			;  xref F000:A190, F000:A211
										;       F000:A579, F000:A63F
										;       F000:A646
0040:0077  00			hdsk_ctrl_port	db	0
0040:0078  14			prn_timeout_1	db	14h			; Data table (indexed access)
										;  xref F000:F8C0
0040:0079  14			prn_timeout_2	db	14h
0040:007A  14			prn_timeout_3	db	14h
0040:007B  14			prn_timeout_4	db	14h
0040:007C  01			rs232_timeout_1	db	1			; Data table (indexed access)
										;  xref F000:F936
0040:007D  01			rs232_timeout_2	db	1
0040:007E  01			rs232_timeout_3	db	1
0040:007F  01			rs232_timeout_4	db	1
0040:0080  001E			@keybd_begin	dw	1Eh			;  xref F000:8A62, F000:E3EA
0040:0082  003E			@keybd_end	dw	3Eh			;  xref F000:E3E4
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 9

0040:0084  18			video_rows	db	18h			;  xref F000:757B, F000:7EED
										;       F000:F3B1
0040:0085  0010			video_pixels	dw	10h
0040:0087  60			video_options	db	60h
0040:0088  F9			video_switches	db	0F9h
0040:0089  01			video_1_save	db	1
0040:008A  0B			video_2_save	db	0Bh
0040:008B  81			dsk_data_rate	db	81h			;  xref F000:CF0D, F000:CF12
										;       F000:D5F6, F000:D5FE
										;       F000:D603
0040:008C  50			hdsk_status_2	db	50h			;  xref F000:A2E4, F000:A41E
										;       F000:A456, F000:A4A3
										;       F000:A4B9
0040:008D  01			hdsk_error	db	1			;  xref F000:9F7E, F000:A33B
										;       F000:A4DE
0040:008E  00			hdsk_complete	db	0			;  xref F000:9F61, F000:A48B
										;       F000:A51A, F000:E84E
0040:008F  33			dsk_options	db	33h			;  xref F000:C92D, F000:C9B0
										;       F000:C9B6
0040:0090  07			dsk0_media_st	db	7			; Data table (indexed access)
										;  xref F000:C91B, F000:C98C
										;       F000:C991, F000:CA19
										;       F000:CAC9, F000:CB25
										;       F000:CB87, F000:CC2B
										;       F000:CD23, F000:CD50
										;       F000:CE58, F000:CFB3
										;       F000:CFE2, F000:D039
										;       F000:D0BE, F000:D4C9
										;       F000:D4E0, F000:D4FC
										;       F000:D567, F000:D5ED
0040:0091  02			dsk1_media_st	db	2
0040:0092  00			dsk0_start_st	db	0
0040:0093  00			dsk1_start_st	db	0
0040:0094  00			dsk0_cylinder	db	0			;  xref F000:C994, F000:C999
										;       F000:CFAC, F000:D030
0040:0095  00			dsk1_cylinder	db	0
0040:0096  10			keybd_flags_3	db	10h			;  xref F000:882F, F000:8838
										;       F000:8841, F000:8848
										;       F000:8855, F000:8864
										;       F000:8870, F000:887B
										;       F000:88DD, F000:88F0
										;       F000:894A, F000:8ADB
										;       F000:8B61, F000:8BC5
										;       F000:AB3A, F000:E3EF
										;       F000:E3F5, F000:E3FB
0040:0097  12			keybd_flags_4	db	12h			;  xref F000:8804, F000:880F
										;       F000:E327, F000:E32E
										;       F000:E34D, F000:E354
										;       F000:E397, F000:E3A7
										;       F000:E3AC, F000:E3B0
										;       F000:E3BA, F000:E3C6
										;       F000:F47C, F000:F484
										;       F000:F48F, F000:F498
0040:0098  0000			@timer_wait_off	dw	0			;  xref F000:E99F, F000:F751
0040:009A  0000			@timer_wait_seg	dw	0			;  xref F000:E9A3
0040:009C  0000			timer_clk_low	dw	0			;  xref F000:E9A7, F000:F737
0040:009E  0000			timer_clk_hi	dw	0			;  xref F000:E9AB, F000:F73D
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 10

0040:00A0  00			timer_clk_flag	db	0			;  xref F000:8693, F000:E98F
										;       F000:E99A, F000:F74C
0040:00A1  00			lan_1		db	0
0040:00A2  00			lan_2		db	0
0040:00A3  00			lan_3		db	0
0040:00A4  00			lan_4		db	0
0040:00A5  00			lan_5		db	0
0040:00A6  00			lan_6		db	0
0040:00A7  00			lan_7		db	0
0040:00A8  C0004E3F		@video_sav_tbls	dd	0C0004E3Fh
0040:00AC  0044[00]				db	68 dup (0)
0040:00F0  00			data_24		db	0			;  xref F000:7842
0040:00F1  000F[00]				db	15 dup (0)
0040:0100  00			prn_scrn_stat_b	db	0

				seg_b		ends



				;------------------------------------------------------------  seg_c   ----

				seg_c		segment	use16 at 50h

0050:0000  00			prn_scrn_stat	db	0			;  xref F000:F364, F000:F3C8
0050:0001  00					db	0

				seg_c		ends



				;------------------------------------------------------------  seg_d   ----

				seg_d		segment	para public use16
						assume cs:seg_d  , ds:seg_b

F000:0000  FFFF FFFF		data_83		dw	0FFFFh, 0FFFFh		;  xref F000:AF4C
F000:0004  FF			data_84		db	0FFh			;  xref F000:8CD9
F000:0005  0008[FF]				db	8 dup (0FFh)
F000:000D  FF			data_85		db	0FFh			;  xref F000:BCC9
F000:000E  01F0[FF]				db	496 dup (0FFh)
F000:01FE  FF			data_86		db	0FFh			;  xref F000:C59F
F000:01FF  02A0[FF]				db	672 dup (0FFh)
F000:049F  FF			data_87		db	0FFh			;  xref F000:9C2D, 9D05
F000:04A0  0900[FF]				db	2304 dup (0FFh)
F000:0DA0			loc_2:						;  xref F000:834B
F000:0DA0 њ0DCB[FF]				db	3531 dup (0FFh)
F000:1B6B			loc_3:						;  xref F000:8351
F000:1B6B њ001B[FF]				db	27 dup (0FFh)
F000:1B86			loc_4:						;  xref F000:834E
F000:1B86 њ1F39[FF]				db	7993 dup (0FFh)
F000:3ABF			loc_5:						;  xref F000:8357
F000:3ABF њ2B8C[FF]				db	11148 dup (0FFh)
F000:664B			loc_6:						;  xref F000:8348
F000:664B њ08B5[FF]				db	2229 dup (0FFh)
F000:6F00  55 AA 49 CB				db	 55h,0AAh, 49h,0CBh
F000:6F04  000C[00]				db	12 dup (0)
F000:6F10  5F 33 32 5F 20 6F			db	 5Fh, 33h, 32h, 5Fh, 20h, 6Fh
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 11

F000:6F16  0F 00 00 01 3E 00			db	 0Fh, 00h, 00h, 01h, 3Eh, 00h
F000:6F1C  00 00 00 00 3D 24			db	 00h, 00h, 00h, 00h, 3Dh, 24h
F000:6F22  50 43 49 B0 80 75			db	 50h, 43h, 49h,0B0h, 80h, 75h
F000:6F28  17 B0 81 0A DB 75			db	 17h,0B0h, 81h, 0Ah,0DBh, 75h
F000:6F2E  11 BB 00 00 0F 00			db	 11h,0BBh, 00h, 00h, 0Fh, 00h
F000:6F34  B9 00 00 01 00 BA			db	0B9h, 00h, 00h, 01h, 00h,0BAh
F000:6F3A  41 6F 00 00 B0 00			db	 41h, 6Fh, 00h, 00h,0B0h, 00h
F000:6F40  CB 66 9C 80 FC B1			db	0CBh, 66h, 9Ch, 80h,0FCh,0B1h
F000:6F46  74 08 B4 81 F9 E9			db	 74h, 08h,0B4h, 81h,0F9h,0E9h
F000:6F4C  87 00 00 00				db	 87h, 00h, 00h, 00h
F000:6F50			loc_7:
F000:6F50  3C 01				cmp	al,1
F000:6F52  75 07				jne	short loc_8		; Jump if not equal
F000:6F54  E8 0092				call	sub_1			; (6FE9)
F000:6F57  00 00				add	[bx+si],al
F000:6F59  EB 7C				jmp	short loc_21		; (6FD7)
F000:6F5B			loc_8:						;  xref F000:6F52
F000:6F5B  3C 02				cmp	al,2
F000:6F5D  75 07				jne	short loc_9		; Jump if not equal
F000:6F5F  E8 009E				call	sub_2			; (7000)
F000:6F62  00 00				add	[bx+si],al
F000:6F64  EB 71				jmp	short loc_21		; (6FD7)
F000:6F66			loc_9:						;  xref F000:6F5D
F000:6F66  3C 03				cmp	al,3
F000:6F68  75 07				jne	short loc_10		; Jump if not equal
F000:6F6A  E8 00B7				call	sub_3			; (7024)
F000:6F6D  00 00				add	[bx+si],al
F000:6F6F  EB 66				jmp	short loc_21		; (6FD7)
F000:6F71			loc_10:						;  xref F000:6F68
F000:6F71  3C 06				cmp	al,6
F000:6F73  75 07				jne	short loc_11		; Jump if not equal
F000:6F75  E8 00CD				call	sub_4			; (7045)
F000:6F78  00 00				add	[bx+si],al
F000:6F7A  EB 5B				jmp	short loc_21		; (6FD7)
F000:6F7C			loc_11:						;  xref F000:6F73
F000:6F7C  3C 08				cmp	al,8
F000:6F7E  75 07				jne	short loc_12		; Jump if not equal
F000:6F80  E8 00C8				call	sub_5			; (704B)
F000:6F83  00 00				add	[bx+si],al
F000:6F85  EB 50				jmp	short loc_21		; (6FD7)
F000:6F87			loc_12:						;  xref F000:6F7E
F000:6F87  3C 09				cmp	al,9
F000:6F89  75 07				jne	short loc_13		; Jump if not equal
F000:6F8B  E8 00DA				call	sub_6			; (7068)
F000:6F8E  00 00				add	[bx+si],al
F000:6F90  EB 45				jmp	short loc_21		; (6FD7)
F000:6F92			loc_13:						;  xref F000:6F89
F000:6F92  3C 0A				cmp	al,0Ah
F000:6F94  75 07				jne	short loc_14		; Jump if not equal
F000:6F96  E8 00EC				call	sub_7			; (7085)
F000:6F99  00 00				add	[bx+si],al
F000:6F9B  EB 3A				jmp	short loc_21		; (6FD7)
F000:6F9D			loc_14:						;  xref F000:6F94
F000:6F9D  3C 0B				cmp	al,0Bh
F000:6F9F  75 07				jne	short loc_15		; Jump if not equal
F000:6FA1  E8 00FE				call	sub_8			; (70A2)
F000:6FA4  00 00				add	[bx+si],al
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 12

F000:6FA6  EB 2F				jmp	short loc_21		; (6FD7)
F000:6FA8			loc_15:						;  xref F000:6F9F
F000:6FA8  3C 0C				cmp	al,0Ch
F000:6FAA  75 07				jne	short loc_16		; Jump if not equal
F000:6FAC  E8 0110				call	sub_9			; (70BF)
F000:6FAF  00 00				add	[bx+si],al
F000:6FB1  EB 24				jmp	short loc_21		; (6FD7)
F000:6FB3			loc_16:						;  xref F000:6FAA
F000:6FB3  3C 0D				cmp	al,0Dh
F000:6FB5  75 07				jne	short loc_17		; Jump if not equal
F000:6FB7  E8 0122				call	sub_10			; (70DC)
F000:6FBA  00 00				add	[bx+si],al
F000:6FBC  EB 19				jmp	short loc_21		; (6FD7)
F000:6FBE			loc_17:						;  xref F000:6FB5
F000:6FBE  3C 0E				cmp	al,0Eh
F000:6FC0  75 07				jne	short loc_18		; Jump if not equal
F000:6FC2  E8 0134				call	sub_11			; (70F9)
F000:6FC5  00 00				add	[bx+si],al
F000:6FC7  EB 0E				jmp	short loc_21		; (6FD7)
F000:6FC9			loc_18:						;  xref F000:6FC0
F000:6FC9  3C 0F				cmp	al,0Fh
F000:6FCB  75 07				jne	short loc_19		; Jump if not equal
F000:6FCD  E8 0181				call	sub_13			; (7151)
F000:6FD0  00 00				add	[bx+si],al
F000:6FD2  EB 03				jmp	short loc_21		; (6FD7)
F000:6FD4			loc_19:						;  xref F000:6FCB
F000:6FD4  B4 81				mov	ah,81h
F000:6FD6  F9					stc				; Set carry flag
F000:6FD7			loc_21:						;  xref F000:6F59, 6F64, 6F6F, 6F7A
										;            6F85, 6F90, 6F9B, 6FA6
										;            6FB1, 6FBC, 6FC7, 6FD2
F000:6FD7  72 04				jc	short loc_23		; Jump if carry Set
F000:6FD9  66| 9D				popfd				; Pop flags
F000:6FDB  F8					clc				; Clear carry flag

F000:6FDC			loc_ret_22:					;  xref F000:6FE0
F000:6FDC њCB					retf				; Return far
F000:6FDD			loc_23:						;  xref F000:6FD7
F000:6FDD  66| 9D				popfd				; Pop flags
F000:6FDF  F9					stc				; Set carry flag
F000:6FE0  EB FA				jmp	short loc_ret_22	; (6FDC)
							                        ;* No entry point to code
F000:6FE2  E8 03F8				call	sub_20			; (73DD)
F000:6FE5  00 00				add	[bx+si],al
F000:6FE7  B4 00				mov	ah,0

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:6F54
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_1		proc	near
F000:6FE9  F8					clc				; Clear carry flag
F000:6FEA  C3					retn
				sub_1		endp

           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 13

							                        ;* No entry point to code
F000:6FEB  E8 03EF				call	sub_20			; (73DD)
F000:6FEE  00 00				add	[bx+si],al
F000:6FF0  E8 042F				call	sub_21			; (7422)
F000:6FF3  00 00				add	[bx+si],al
F000:6FF5  BA 4350				mov	dx,4350h
F000:6FF8  49					dec	cx
F000:6FF9  20 66 BB				and	[bp-45h],ah
F000:6FFC  10 02				adc	[bp+si],al
F000:6FFE  B4 00				mov	ah,0

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:6F5F
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_2		proc	near
F000:7000  F8					clc				; Clear carry flag
F000:7001  C3					retn
				sub_2		endp

							                        ;* No entry point to code
F000:7002  66| 83 FA FF				cmp	edx,0FFFFFFFFh
F000:7006  74 19				je	short loc_26		; Jump if equal
F000:7008  52					push	dx
F000:7009  C1 E2 10				shl	dx,10h			; Shift w/zeros fill
F000:700C  66| 8B D1				mov	edx,ecx
F000:700F  C1 C2 10				rol	dx,10h			; Rotate
F000:7012  32 DB				xor	bl,bl			; Zero register
F000:7014  E8 016E				call	sub_15			; (7185)
F000:7017  00 00				add	[bx+si],al
F000:7019  B4 00				mov	ah,0
F000:701B  73 02				jnc	short loc_24		; Jump if carry=0
F000:701D  B4 86				mov	ah,86h
F000:701F			loc_24:						;  xref F000:701B
F000:701F  5A					pop	dx

F000:7020			loc_ret_25:					;  xref F000:7024
F000:7020 њC3					retn
F000:7021			loc_26:						;  xref F000:7006
F000:7021  B4 83				mov	ah,83h
F000:7023  F9					stc				; Set carry flag

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:6F6A
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_3		proc	near
F000:7024  EB FA				jmp	short loc_ret_25	; (7020)
				sub_3		endp

							                        ;* No entry point to code
F000:7026  52					push	dx
F000:7027  8B D1				mov	dx,cx
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 14

F000:7029  81 E2 FFFF				and	dx,0FFFFh
F000:702D  FF 00				inc	word ptr [bx+si]
F000:702F  81 FA FFFF				cmp	dx,0FFFFh
F000:7033  FF 00				inc	word ptr [bx+si]
F000:7035  F9					stc				; Set carry flag
F000:7036  74 0B				jz	short loc_27		; Jump if zero
F000:7038  B3 01				mov	bl,1
F000:703A  E8 0148				call	sub_15			; (7185)
F000:703D  00 00				add	[bx+si],al
F000:703F  B4 00				mov	ah,0
F000:7041  73 02				jnc	short loc_28		; Jump if carry=0
F000:7043			loc_27:						;  xref F000:7036
F000:7043  B4 86				mov	ah,86h

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:6F75
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_4		proc	near
F000:7045			loc_28:						;  xref F000:7041
F000:7045  5A					pop	dx
F000:7046  C3					retn
				sub_4		endp

F000:7047  E8 DB 03 00				db	0E8h,0DBh, 03h, 00h

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:6F80
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_5		proc	near
F000:704B  00 C3				add	bl,al
F000:704D  66| 56				push	esi
F000:704F  66| BE 8566FF00			mov	esi,8566FF00h
F000:7055  FE 75 0D E8 CE 03			db	0FEh, 75h, 0Dh,0E8h,0CEh, 03h
F000:705B  00 00 72 06 B4 00			db	 00h, 00h, 72h, 06h,0B4h, 00h
F000:7061  F8					db	0F8h
F000:7062			loc_29:						;  xref F000:7068
F000:7062 њ66| 5E				pop	esi
F000:7064  C3					retn
				sub_5		endp

F000:7065  F9 B4 87				db	0F9h,0B4h, 87h

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:6F8B
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_6		proc	near
F000:7068  EB F8				jmp	short loc_29		; (7062)
				sub_6		endp
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 15


							                        ;* No entry point to code
F000:706A  66| 56				push	esi
F000:706C  66| BE 8566FF01			mov	esi,8566FF01h
F000:7072  FE 75 0D E8 B1 03			db	0FEh, 75h, 0Dh,0E8h,0B1h, 03h
F000:7078  00 00 72 06 B4 00			db	 00h, 00h, 72h, 06h,0B4h, 00h
F000:707E  F8					db	0F8h
F000:707F			loc_30:						;  xref F000:7085
F000:707F њ66| 5E				pop	esi
F000:7081  C3					retn
F000:7082  F9 B4 87				db	0F9h,0B4h, 87h

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:6F96
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_7		proc	near
F000:7085  EB F8				jmp	short loc_30		; (707F)
				sub_7		endp

							                        ;* No entry point to code
F000:7087  66| 56				push	esi
F000:7089  66| BE 8566FF03			mov	esi,8566FF03h
F000:708F  FE 75 0D E8 94 03			db	0FEh, 75h, 0Dh,0E8h, 94h, 03h
F000:7095  00 00 72 06 B4 00			db	 00h, 00h, 72h, 06h,0B4h, 00h
F000:709B  F8					db	0F8h
F000:709C			loc_31:						;  xref F000:70A2
F000:709C њ66| 5E				pop	esi
F000:709E  C3					retn
F000:709F  F9 B4 87				db	0F9h,0B4h, 87h

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:6FA1
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_8		proc	near
F000:70A2  EB F8				jmp	short loc_31		; (709C)
				sub_8		endp

							                        ;* No entry point to code
F000:70A4  66| 56				push	esi
F000:70A6  66| BE 8566FF00			mov	esi,8566FF00h
F000:70AC  FE 75 0D E8 C0 03			db	0FEh, 75h, 0Dh,0E8h,0C0h, 03h
F000:70B2  00 00 72 06 B4 00			db	 00h, 00h, 72h, 06h,0B4h, 00h
F000:70B8  F8					db	0F8h
F000:70B9			loc_32:						;  xref F000:70BF
F000:70B9 њ66| 5E				pop	esi
F000:70BB  C3					retn
F000:70BC  F9 B4 87				db	0F9h,0B4h, 87h

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
           MBIOS.LST       BIOS ROM Analysis			Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 16

				;         Called from:   F000:6FAC
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_9		proc	near
F000:70BF  EB F8				jmp	short loc_32		; (70B9)
				sub_9		endp

							                        ;* No entry point to code
F000:70C1  66| 56				push	esi
F000:70C3  66| BE 8566FF01			mov	esi,8566FF01h
F000:70C9  FE 75 0D E8 A3 03			db	0FEh, 75h, 0Dh,0E8h,0A3h, 03h
F000:70CF  00 00 72 06 B4 00			db	 00h, 00h, 72h, 06h,0B4h, 00h
F000:70D5  F8					db	0F8h
F000:70D6			loc_33:						;  xref F000:70DC
F000:70D6 њ66| 5E				pop	esi
F000:70D8  C3					retn
F000:70D9  F9 B4 87				db	0F9h,0B4h, 87h

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:6FB7
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_10		proc	near
F000:70DC  EB F8				jmp	short loc_33		; (70D6)
				sub_10		endp

							                        ;* No entry point to code
F000:70DE  66| 56				push	esi
F000:70E0  66| BE 8566FF03			mov	esi,8566FF03h
F000:70E6  FE 75 0D E8 86 03			db	0FEh, 75h, 0Dh,0E8h, 86h, 03h
F000:70EC  00 00 72 06 B4 00			db	 00h, 00h, 72h, 06h,0B4h, 00h
F000:70F2  F8					db	0F8h
F000:70F3			loc_34:						;  xref F000:70F9
F000:70F3 њ66| 5E				pop	esi
F000:70F5  C3					retn
F000:70F6  F9 B4 87				db	0F9h,0B4h, 87h

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:6FC2
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_11		proc	near
F000:70F9  EB F8				jmp	short loc_34		; (70F3)
				sub_11		endp

							                        ;* No entry point to code
F000:70FB  51					push	cx
F000:70FC  66| 50				push	eax
F000:70FE  56					push	si
F000:70FF  57					push	di
F000:7100  06					push	es
F000:7101  53					push	bx
F000:7102  E8 0000				call	sub_12			; (7105)
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 17


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:7102
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_12		proc	near
F000:7105  00 00				add	[bx+si],al
F000:7107  5B					pop	bx
F000:7108  81 EB 7107				sub	bx,7107h
F000:710C  00 00				add	[bx+si],al
F000:710E  0F B7 B3 E009			movzx	esi,word ptr [bp+di-1FF7h]	; Mov w/zero extend
F000:7113  00 00				add	[bx+si],al
F000:7115  0F B7 B4 0D33			movzx	esi,word ptr ds:data_27e[si]	; (0040:0D33=0) Mov w/zero extend
F000:711A  E0 FF FF 03 F3 0F			db	0E0h,0FFh,0FFh, 03h,0F3h, 0Fh
F000:7120  B6 4E 01 5B 66 8B			db	0B6h, 4Eh, 01h, 5Bh, 66h, 8Bh
F000:7126  5E 02 83 C6 04 66			db	 5Eh, 02h, 83h,0C6h, 04h, 66h
F000:712C  C1 E1 04 66 26 8B			db	0C1h,0E1h, 04h, 66h, 26h, 8Bh
F000:7132  07 66 26 89 0F 66			db	 07h, 66h, 26h, 89h, 0Fh, 66h
F000:7138  3B C1 72 12 26 C4			db	 3Bh,0C1h, 72h, 12h, 26h,0C4h
F000:713E  7F 02 F3 A4 32 ED			db	 7Fh, 02h,0F3h,0A4h, 32h,0EDh
F000:7144  F8					db	0F8h
F000:7145			loc_35:						;  xref F000:7151
F000:7145 њ07					pop	es
F000:7146  5F					pop	di
F000:7147  5E					pop	si
F000:7148  66| 58				pop	eax
F000:714A  8A E5				mov	ah,ch
F000:714C  59					pop	cx
F000:714D  C3					retn
				sub_12		endp

F000:714E  B5 89 F9				db	0B5h, 89h,0F9h

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:6FCD
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_13		proc	near
F000:7151  EB F2				jmp	short loc_35		; (7145)
				sub_13		endp

							                        ;* No entry point to code
F000:7153  66| 51				push	ecx
F000:7155  66| 52				push	edx
F000:7157  80 FD 0F				cmp	ch,0Fh
F000:715A  77 20				ja	short loc_37		; Jump if above
F000:715C  8A D1				mov	dl,cl
F000:715E  80 EA 0A				sub	dl,0Ah
F000:7161  80 FA 03				cmp	dl,3
F000:7164  77 16				ja	short loc_37		; Jump if above
F000:7166  FE C2				inc	dl
F000:7168  66| 50				push	eax
F000:716A  8A C5				mov	al,ch
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 18

F000:716C  E8 011F				call	sub_18			; (728E)
F000:716F  00 00				add	[bx+si],al
F000:7171  66| 58				pop	eax
F000:7173  72 07				jc	short loc_37		; Jump if carry Set
F000:7175  B4 00				mov	ah,0
F000:7177			loc_36:						;  xref F000:717F
F000:7177 њ66| 5A				pop	edx
F000:7179  66| 59				pop	ecx
F000:717B  C3					retn
F000:717C			loc_37:						;  xref F000:715A, 7164, 7173
F000:717C  F9					stc				; Set carry flag
F000:717D  B4 88				mov	ah,88h

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:719B
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_14		proc	near
F000:717F  EB F6				jmp	short loc_36		; (7177)
				sub_14		endp

F000:7181  E8 53 02 00				db	0E8h, 53h, 02h, 00h

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:7014, 703A
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_15		proc	near
F000:7185  00 C3				add	bl,al
F000:7187  66| 50				push	eax
F000:7189  51					push	cx
F000:718A  66| 56				push	esi
F000:718C  66| 57				push	edi
F000:718E  8A C3				mov	al,bl
F000:7190  E8 024A				call	sub_20			; (73DD)
F000:7193  00 00				add	[bx+si],al
F000:7195  8A F9				mov	bh,cl
F000:7197  32 DB				xor	bl,bl			; Zero register
F000:7199  66| 53				push	ebx
F000:719B  E8 FFE1				call	sub_14			; (717F)
F000:719E  FF FF C0 E3 03 66			db	0FFh,0FFh,0C0h,0E3h, 03h, 66h
F000:71A4  BF 00 00 E8 DB FE			db	0BFh, 00h, 00h,0E8h,0DBh,0FEh
F000:71AA  FF FF 83 F9 FF 74			db	0FFh,0FFh, 83h,0F9h,0FFh, 74h
F000:71B0  40 66 BF 0E 00 E8			db	 40h, 66h,0BFh, 0Eh, 00h,0E8h
F000:71B6  93 FE FF FF F6 C1			db	 93h,0FEh,0FFh,0FFh,0F6h,0C1h
F000:71BC  80 74 03 80 CB 07			db	 80h, 74h, 03h, 80h,0CBh, 07h
F000:71C2  0A C0 75 0B 66 BF			db	 0Ah,0C0h, 75h, 0Bh, 66h,0BFh
F000:71C8  00 00 E8 B8 FE FF			db	 00h, 00h,0E8h,0B8h,0FEh,0FFh
F000:71CE  FF EB 0C 66 BF 08			db	0FFh,0EBh, 0Ch, 66h,0BFh, 08h
F000:71D4  00 E8 AD FE FF FF			db	 00h,0E8h,0ADh,0FEh,0FFh,0FFh
F000:71DA  C1 E9 08 3B CA 75			db	0C1h,0E9h, 08h, 3Bh,0CAh, 75h
F000:71E0  07 66 0B F6 74 1B			db	 07h, 66h, 0Bh,0F6h, 74h, 1Bh
F000:71E6  66 4E F6 C3 07 74			db	 66h, 4Eh,0F6h,0C3h, 07h, 74h
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 19

F000:71EC  04 FE CB EB D1 66			db	 04h,0FEh,0CBh,0EBh,0D1h, 66h
F000:71F2  5B FE C3 80 FB 1F			db	 5Bh,0FEh,0C3h, 80h,0FBh, 1Fh
F000:71F8  76 9F FE CF 79 99			db	 76h, 9Fh,0FEh,0CFh, 79h, 99h
F000:71FE  F9 EB 03 66 58 F8			db	0F9h,0EBh, 03h, 66h, 58h,0F8h
F000:7204  66 5F 66 5E 59 66			db	 66h, 5Fh, 66h, 5Eh, 59h, 66h
F000:720A  58 C3 00 00				db	 58h,0C3h, 00h, 00h

				;пппп External Entry into Subroutine пппппппппппппппппппппппппппппппппппппп
				;
				;         Called from:   F000:7293

				sub_16:
F000:720E  00 00				add	[bx+si],al
F000:7210  66| 53				push	ebx
F000:7212  66| 51				push	ecx
F000:7214  66| 56				push	esi
F000:7216  53					push	bx
F000:7217  E8 0000				call	sub_17			; (721A)

				;пппп External Entry into Subroutine пппппппппппппппппппппппппппппппппппппп
				;
				;         Called from:   F000:7217

				sub_17:
F000:721A  00 00				add	[bx+si],al
F000:721C  5B					pop	bx
F000:721D  81 EB 721C				sub	bx,721Ch
F000:7221  00 00				add	[bx+si],al
F000:7223  0F B7 B3 E009			movzx	esi,word ptr [bp+di-1FF7h]	; Mov w/zero extend
F000:7228  00 00				add	[bx+si],al
F000:722A  0F B7 B4 0D33			movzx	esi,word ptr ds:data_27e[si]	; (0040:0D33=0) Mov w/zero extend
F000:722F  E0 FF FF 03 F3 0F			db	0E0h,0FFh,0FFh, 03h,0F3h, 0Fh
F000:7235  B6 4E 01 83 C6 04			db	0B6h, 4Eh, 01h, 83h,0C6h, 04h
F000:723B  5B 80 E3 F8 86 FB			db	 5Bh, 80h,0E3h,0F8h, 86h,0FBh
F000:7241  67 66 39 1C 74 20			db	 67h, 66h, 39h, 1Ch, 74h, 20h
F000:7247  66 83 C6 10 E2 F4			db	 66h, 83h,0C6h, 10h,0E2h,0F4h
F000:724D  66 81 FB 00 88 75			db	 66h, 81h,0FBh, 00h, 88h, 75h
F000:7253  10 86 DF E8 BE 02			db	 10h, 86h,0DFh,0E8h,0BEh, 02h
F000:7259  00 00 24 03 E8 31			db	 00h, 00h, 24h, 03h,0E8h, 31h
F000:725F  01 00 00 EB B2 F9			db	 01h, 00h, 00h,0EBh,0B2h,0F9h
F000:7265  EB 22 67 66 8D 74			db	0EBh, 22h, 67h, 66h, 8Dh, 74h
F000:726B  02 67 8A 64 0C FE			db	 02h, 67h, 8Ah, 64h, 0Ch,0FEh
F000:7271  CA 8A F2 C0 E2 02			db	0CAh, 8Ah,0F2h,0C0h,0E2h, 02h
F000:7277  2A D6 66 83 E2 0F			db	 2Ah,0D6h, 66h, 83h,0E2h, 0Fh
F000:727D  66 03 F2 67 8A 04			db	 66h, 03h,0F2h, 67h, 8Ah, 04h
F000:7283  67 66 8B 54 01 F8			db	 67h, 66h, 8Bh, 54h, 01h,0F8h
F000:7289  66 5E 66 59 66			db	 66h, 5Eh, 66h, 59h, 66h

				;пппп External Entry into Subroutine пппппппппппппппппппппппппппппппппппппп
				;
				;         Called from:   F000:716C

				sub_18:
F000:728E  5B					pop	bx
F000:728F  C3					retn
				sub_15		endp

           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 20

							                        ;* No entry point to code
F000:7290  60					pusha				; Save all regs
F000:7291  8A E8				mov	ch,al
F000:7293  E8 FF78				call	sub_16			; (720E)
F000:7296  FF FF 0F 82 F0 00			db	0FFh,0FFh, 0Fh, 82h,0F0h, 00h
F000:729C  00 00 0A C0 0F 84			db	 00h, 00h, 0Ah,0C0h, 0Fh, 84h
F000:72A2  EA 00 00 00 3C F0			db	0EAh, 00h, 00h, 00h, 3Ch,0F0h
F000:72A8  0F 83 DF 00 00 00			db	 0Fh, 83h,0DFh, 00h, 00h, 00h
F000:72AE  FE C8 66 53 8A DD			db	0FEh,0C8h, 66h, 53h, 8Ah,0DDh
F000:72B4  32 FF 66 0F A3 DA			db	 32h,0FFh, 66h, 0Fh,0A3h,0DAh
F000:72BA  66 5B 0F 83 CE 00			db	 66h, 5Bh, 0Fh, 83h,0CEh, 00h
F000:72C0  00 00 60 8A CC FE			db	 00h, 00h, 60h, 8Ah,0CCh,0FEh
F000:72C6  C9 8A E9 D0 E1 8A			db	0C9h, 8Ah,0E9h,0D0h,0E1h, 8Ah
F000:72CC  D0 D2 E2 B3 FC D2			db	0D0h,0D2h,0E2h,0B3h,0FCh,0D2h
F000:72D2  C3 8A CD B6 01 D2			db	0C3h, 8Ah,0CDh,0B6h, 01h,0D2h
F000:72D8  E6 B0 F5 E6 70 E4			db	0E6h,0B0h,0F5h,0E6h, 70h,0E4h
F000:72DE  71 0A C6 8A E0 B0			db	 71h, 0Ah,0C6h, 8Ah,0E0h,0B0h
F000:72E4  F5 E6 70 8A C4 E6			db	0F5h,0E6h, 70h, 8Ah,0C4h,0E6h
F000:72EA  71 B0 F4 E6 70 E4			db	 71h,0B0h,0F4h,0E6h, 70h,0E4h
F000:72F0  71 22 C3 0A C2 8A			db	 71h, 22h,0C3h, 0Ah,0C2h, 8Ah
F000:72F6  E0 B0 F4 E6 70 8A			db	0E0h,0B0h,0F4h,0E6h, 70h, 8Ah
F000:72FC  C4 E6 71 61 8A C8			db	0C4h,0E6h, 71h, 61h, 8Ah,0C8h
F000:7302  B4 01 D2 E4 66 50			db	0B4h, 01h,0D2h,0E4h, 66h, 50h
F000:7308  B0 46 E8 AE 01 00			db	0B0h, 46h,0E8h,0AEh, 01h, 00h
F000:730E  00 0A C4 8A E0 B0			db	 00h, 0Ah,0C4h, 8Ah,0E0h,0B0h
F000:7314  46 E8 D2 01 00 00			db	 46h,0E8h,0D2h, 01h, 00h, 00h
F000:731A  66 58 80 FD 0E 74			db	 66h, 58h, 80h,0FDh, 0Eh, 74h
F000:7320  05 80 FD 0F 75 0B			db	 05h, 80h,0FDh, 0Fh, 75h, 0Bh
F000:7326  E8 EE 01 00 00 A8			db	0E8h,0EEh, 01h, 00h, 00h,0A8h
F000:732C  08 75 02 32 E4			db	 08h, 75h, 02h, 32h,0E4h
F000:7331			loc_38:
F000:7331  66| 50				push	eax
F000:7333  B0 47				mov	al,47h			; 'G'
F000:7335  E8 0183				call	sub_22			; (74BB)
F000:7338  00 00				add	[bx+si],al
F000:733A  0A C4				or	al,ah
F000:733C  8A E0				mov	ah,al
F000:733E  B0 47				mov	al,47h			; 'G'
F000:7340  E8 01A7				call	sub_23			; (74EA)
F000:7343  00 00				add	[bx+si],al
F000:7345  66| 58				pop	eax
F000:7347  66| 51				push	ecx
F000:7349  D2 EC				shr	ah,cl			; Shift w/zeros fill
F000:734B  8A C4				mov	al,ah
F000:734D  32 E4				xor	ah,ah			; Zero register
F000:734F  8A CD				mov	cl,ch
F000:7351  66| D3 E0				shl	eax,cl			; Shift w/zeros fill
F000:7354  66| 8B C8				mov	ecx,eax
F000:7357  66| BA 0AEC04D0			mov	edx,0AEC04D0h
F000:735D  C1 EE 66				shr	si,66h			; 'f' Shift w/zeros fill
F000:7360  42					inc	dx
F000:7361  EC					in	al,dx			; port 4D1h ??i/o non-standard
F000:7362  0A C5				or	al,ch
F000:7364  EE					out	dx,al			; port 4D1h ??i/o non-standard
F000:7365  66| 59				pop	ecx
F000:7367  8A C1				mov	al,cl
F000:7369  D0 E8				shr	al,1			; Shift w/zeros fill
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 21

F000:736B  04 43				add	al,43h			; 'C'
F000:736D  8A E0				mov	ah,al
F000:736F  E8 0149				call	sub_22			; (74BB)
F000:7372  00 00				add	[bx+si],al
F000:7374  F6 C1 01				test	cl,1
F000:7377  8A CD				mov	cl,ch
F000:7379  75 07				jnz	short loc_39		; Jump if not zero
F000:737B  24 0F				and	al,0Fh
F000:737D  C0 E5 04				shl	ch,4			; Shift w/zeros fill
F000:7380  EB 02				jmp	short loc_40		; (7384)
F000:7382			loc_39:						;  xref F000:7379
F000:7382  24 F0				and	al,0F0h
F000:7384			loc_40:						;  xref F000:7380
F000:7384  0A C5				or	al,ch
F000:7386  86 C4				xchg	al,ah
F000:7388  E8 015F				call	sub_23			; (74EA)
F000:738B  00 00				add	[bx+si],al
F000:738D  F8					clc				; Clear carry flag
F000:738E			loc_41:						;  xref F000:7391
F000:738E њ61					popa				; Restore all regs
F000:738F  C3					retn
							                        ;* No entry point to code
F000:7390  F9					stc				; Set carry flag
F000:7391  EB FB				jmp	short loc_41		; (738E)
							                        ;* No entry point to code
F000:7393  66| 51				push	ecx
F000:7395  66| 50				push	eax
F000:7397  66| 53				push	ebx
F000:7399  53					push	bx
F000:739A  E8 0000				call	sub_19			; (739D)

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:739A
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_19		proc	near
F000:739D  00 00				add	[bx+si],al
F000:739F  5B					pop	bx
F000:73A0  81 EB 739F				sub	bx,739Fh
F000:73A4  00 00				add	[bx+si],al
F000:73A6  0F B7 B3 E009			movzx	esi,word ptr [bp+di-1FF7h]	; Mov w/zero extend
F000:73AB  00 00				add	[bx+si],al
F000:73AD  0F B7 B4 0D33			movzx	esi,word ptr ds:data_27e[si]	; (0040:0D33=0) Mov w/zero extend
F000:73B2  E0 FF FF 03 F3 83			db	0E0h,0FFh,0FFh, 03h,0F3h, 83h
F000:73B8  C6 04				db	0C6h, 04h
F000:73BA  5B					db	5Bh
F000:73BB			loc_42:						;  xref F000:73C7
F000:73BB њ66| 83 F9 00				cmp	ecx,0
F000:73BF  74 08				je	short loc_43		; Jump if equal
F000:73C1  66| 49				dec	ecx
F000:73C3  66| 83 C6 10				add	esi,10h
F000:73C7  EB F2				jmp	short loc_42		; (73BB)
F000:73C9			loc_43:						;  xref F000:73BF
F000:73C9  67| 66| 8B 04 86			mov	eax,[esi][eax*4]
F000:73CE  C4 66 5B				les	sp,dword ptr [bp+5Bh]	; Load 32 bit ptr
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 22

F000:73D1  66| 8B D8				mov	ebx,eax
F000:73D4  66| 58				pop	eax
F000:73D6  66| 59				pop	ecx
F000:73D8  C3					retn
				sub_19		endp

F000:73D9  80 EB 1F F6				db	 80h,0EBh, 1Fh,0F6h

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:6FE2, 6FEB, 7190
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_20		proc	near
F000:73DD  DB C3				db	0DBh,0C3h
F000:73DF  66 50 66 53 66 52			db	'fPfSfRfWfQ2'
F000:73E5  66 57 66 51 32
F000:73EA  D2 66 BB 00 00 66			db	0D2h, 66h,0BBh, 00h, 00h, 66h
F000:73F0  BF 0A 00 E8 72 FC			db	0BFh, 0Ah, 00h,0E8h, 72h,0FCh
F000:73F6  FF FF 72 18 66 81			db	0FFh,0FFh, 72h, 18h, 66h, 81h
F000:73FC  F9 04 06 75 11 66			db	0F9h, 04h, 06h, 75h, 11h, 66h
F000:7402  BF 1A 00 E8 43 FC			db	0BFh, 1Ah, 00h,0E8h, 43h,0FCh
F000:7408  FF FF 72 06 38 D1			db	0FFh,0FFh, 72h, 06h, 38h,0D1h
F000:740E  76 02 8A D1 80 C3			db	 76h, 02h, 8Ah,0D1h, 80h,0C3h
F000:7414  08 73 D8 66 59 8A			db	 08h, 73h,0D8h, 66h, 59h, 8Ah
F000:741A  CA					db	0CAh
F000:741B  66 5F 66 5A 66 5B			db	 66h, 5Fh, 66h, 5Ah, 66h, 5Bh
F000:7421  66					db	 66h

				;пппп External Entry into Subroutine пппппппппппппппппппппппппппппппппппппп
				;
				;         Called from:   F000:6FF0

				sub_21:
F000:7422  58					pop	ax
F000:7423  C3					retn
				sub_20		endp

							                        ;* No entry point to code
F000:7424  B0 01				mov	al,1
F000:7426  C3					retn
							                        ;* No entry point to code
F000:7427  B4 81				mov	ah,81h
F000:7429  F9					stc				; Set carry flag
F000:742A  C3					retn
							                        ;* No entry point to code
F000:742B  50					push	ax
F000:742C  66| 52				push	edx
F000:742E  B4 80				mov	ah,80h
F000:7430  8A C7				mov	al,bh
F000:7432  C1 E0 10				shl	ax,10h			; Shift w/zeros fill
F000:7435  66| 8B C7				mov	eax,edi
F000:7438  8A E3				mov	ah,bl
F000:743A  24 FC				and	al,0FCh
F000:743C  66| BA 9C660CF8			mov	edx,9C660CF8h
F000:7442  FA					cli				; Disable interrupts
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 23

F000:7443  EF					out	dx,ax			; port 0CF8h ??i/o non-standard
F000:7444  66| 8B D7				mov	edx,edi
F000:7447  66| 83 E2 03				and	edx,3
F000:744B  66| 81 C2 81660CFC			add	edx,81660CFCh
F000:7452  FE 00				inc	byte ptr [bx+si]
F000:7454  FF 75 05				push	word ptr [di+5]
F000:7457  EC					in	al,dx			; port 0CFCh ??i/o non-standard
F000:7458  8A C8				mov	cl,al
F000:745A  EB 11				jmp	short loc_44		; (746D)
							                        ;* No entry point to code
F000:745C  66| 81 FE 0775FF01			cmp	esi,775FF01h
F000:7463  66| ED				in	eax,dx			; port 0CFCh ??i/o non-standard
F000:7465  66| 8B C8				mov	ecx,eax
F000:7468  EB 03				jmp	short loc_44		; (746D)
F000:746A  ED 8B C8				db	0EDh, 8Bh,0C8h
F000:746D			loc_44:						;  xref F000:745A, 7468
F000:746D  66| 9D				popfd				; Pop flags
F000:746F  66| 5A				pop	edx
F000:7471  58					pop	ax
F000:7472  F8					clc				; Clear carry flag
F000:7473  C3					retn
							                        ;* No entry point to code
F000:7474  50					push	ax
F000:7475  66| 52				push	edx
F000:7477  B4 80				mov	ah,80h
F000:7479  8A C7				mov	al,bh
F000:747B  C1 E0 10				shl	ax,10h			; Shift w/zeros fill
F000:747E  66| 8B C7				mov	eax,edi
F000:7481  8A E3				mov	ah,bl
F000:7483  24 FC				and	al,0FCh
F000:7485  66| BA 9C660CF8			mov	edx,9C660CF8h
F000:748B  FA					cli				; Disable interrupts
F000:748C  EF					out	dx,ax			; port 0CF8h ??i/o non-standard
F000:748D  66| 8B D7				mov	edx,edi
F000:7490  66| 83 E2 03				and	edx,3
F000:7494  66| 81 C2 81660CFC			add	edx,81660CFCh
F000:749B  FE 00				inc	byte ptr [bx+si]
F000:749D  FF 75 05				push	word ptr [di+5]
F000:74A0  8A C1				mov	al,cl
F000:74A2			loc_45:						;  xref F000:7515
F000:74A2  EE					out	dx,al			; port 0CFCh ??i/o non-standard
F000:74A3  EB 11		;*		jmp	short loc_48		;*(74B6)
F000:74A3  EB 11				db	0EBh, 11h
							                        ;* No entry point to code
F000:74A5  66| 81 FE 0775FF01			cmp	esi,775FF01h
F000:74AC  66| 8B C1				mov	eax,ecx
F000:74AF  66| EF				out	dx,eax			; port 0CFCh ??i/o non-standard
F000:74B1  EB 03		;*		jmp	short loc_48		;*(74B6)
F000:74B1  EB 03				db	0EBh, 03h
F000:74B3  8B					db	8Bh
F000:74B4			loc_47:						;  xref F000:750D
F000:74B4  C1 EF 66				shr	di,66h			; 'f' Shift w/zeros fill
F000:74B7  9D					popf				; Pop flags
F000:74B9			loc_49:						;  xref F000:7505
F000:74B8  66| 5A				pop	edx
F000:74BA  58					pop	ax

           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 24

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:7335, 736F
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_22		proc	near
F000:74BB  F8					clc				; Clear carry flag
F000:74BC  C3					retn
				sub_22		endp

							                        ;* No entry point to code
F000:74BD  66| 52				push	edx
F000:74BF  66| 51				push	ecx
F000:74C1  50					push	ax
F000:74C2  66| 8B C8				mov	ecx,eax
F000:74C5  25 00FC				and	ax,0FCh
F000:74C8  00 00				add	[bx+si],al
F000:74CA  0D 9000				or	ax,9000h
F000:74CD  00 80 BA66				add	ds:data_50e[bx+si],al	; (0040:BA66=0)
F000:74D1  F8					clc				; Clear carry flag
F000:74D2  0C EF				or	al,0EFh
F000:74D4  67 E3 FF 67 E3 FF			db	 67h,0E3h,0FFh, 67h,0E3h,0FFh
F000:74DA  B2 FC 80 E1 03 02			db	0B2h,0FCh, 80h,0E1h, 03h, 02h
F000:74E0  D1 EC				db	0D1h,0ECh

F000:74E2			locloop_52:
F000:74E2  8A C8				mov	cl,al
F000:74E4  58					pop	ax
F000:74E5  8A C1				mov	al,cl
F000:74E8			loc_53:						;  xref F000:7519
F000:74E7  66| 59				pop	ecx

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:7340, 7388
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_23		proc	near
F000:74E9  66| 5A				pop	edx
F000:74EB  C3					retn
				sub_23		endp

							                        ;* No entry point to code
F000:74EC  66| 52				push	edx
F000:74EE  66| 51				push	ecx
F000:74F0  50					push	ax
F000:74F1  66| 8B C8				mov	ecx,eax
F000:74F4  25 00FC				and	ax,0FCh
F000:74F7  00 00				add	[bx+si],al
F000:74F9  0D 9000				or	ax,9000h
F000:74FC  00 80 BA66				add	ds:data_50e[bx+si],al	; (0040:BA66=0)
F000:7500  7B 75		;*		jnp	short loc_70		;*Jump if not parity
F000:7500  7B 75				db	 7Bh, 75h
F000:7502  57					push	di
F000:7503  76 5F				jbe	short loc_65		; Jump if below or =
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 25

F000:7505  76 B2				jbe	loc_49			; Jump if below or =
F000:7507  76 CA		;*		jbe	loc_51			;*Jump if below or =
F000:7507  76 CA				db	 76h,0CAh
F000:7509  76 72		;*		jbe	short loc_73		;*Jump if below or =
F000:7509  76 72				db	 76h, 72h
F000:750B  77 A1		;*		ja	loc_46			;*Jump if above
F000:750B  77 A1				db	 77h,0A1h
F000:750D  77 A5				ja	loc_47			; Jump if above
F000:750F  77 02				ja	short loc_56		; Jump if above
F000:7511  79 EE		;*		jns	loc_55			;*Jump if not sign
F000:7511  79 EE				db	 79h,0EEh
F000:7513			loc_56:						;  xref F000:750F
F000:7513  79 64		;*		jns	short loc_72		;*Jump if not sign
F000:7513  79 64				db	 79h, 64h
F000:7515  7A 8B				jp	loc_45			; Jump if parity=1

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_24		proc	near
F000:7517  7B B0		;*		jnp	loc_50			;*Jump if not parity
F000:7517  7B B0				db	 7Bh,0B0h
F000:7519  7B CD				jnp	loc_53			; Jump if not parity
F000:751B  7B D8		;*		jnp	loc_54			;*Jump if not parity
F000:751B  7B D8				db	 7Bh,0D8h
F000:751D  7B 21				jnp	short loc_58		; Jump if not parity
F000:751F  7C 34		;*		jl	short loc_59		;*Jump if <
F000:751F  7C 34				db	 7Ch, 34h
F000:7521  7C 34		;*		jl	short loc_60		;*Jump if <
F000:7521  7C 34				db	 7Ch, 34h
F000:7523  7C 34		;*		jl	short loc_61		;*Jump if <
F000:7523  7C 34				db	 7Ch, 34h
F000:7525  7C 35		;*		jl	short loc_62		;*Jump if <
F000:7525  7C 35				db	 7Ch, 35h
F000:7527  7C FB		;*		jl	loc_57			;*Jump if <
F000:7527  7C FB				db	 7Ch,0FBh
F000:7529  FC					cld				; Clear direction
F000:752A  80 FC 0E				cmp	ah,0Eh
F000:752D  74 40				je	short loc_67		; Jump if equal
F000:752F  80 FC 02				cmp	ah,2
F000:7532  74 3E				je	short loc_68		; Jump if equal
F000:7534  80 FC 03				cmp	ah,3
F000:7537  74 3C				je	short loc_69		; Jump if equal
F000:7539  80 FC 05				cmp	ah,5
F000:753C  74 3A				je	short loc_71		; Jump if equal
F000:753E  60					pusha				; Save all regs
F000:753F  1E					push	ds
F000:7540			loc_58:						;  xref F000:751D
F000:7540  06					push	es
F000:7541  80 FC 13				cmp	ah,13h
F000:7544  77 25				ja	short loc_66		; Jump if above
F000:7546  50					push	ax
F000:7547  8A C4				mov	al,ah
F000:7549  98					cbw				; Convrt byte to word
F000:754A  8B F8				mov	di,ax
F000:754C  B8 0040				mov	ax,seg_b
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 26

F000:754F  8E D8				mov	ds,ax
F000:7551  74 10				jz	short loc_64		; Jump if zero
F000:7553  A0 0010				mov	al,byte ptr equip_bits	; (0040:0010=63h)
F000:7556  24 30				and	al,30h			; '0'
F000:7558  3C 30				cmp	al,30h			; '0'
F000:755A  B8 B000				mov	ax,0B000h
F000:755D  74 02				jz	short loc_63		; Jump if zero
F000:755F  B4 B8				mov	ah,0B8h
F000:7561			loc_63:						;  xref F000:755D
F000:7561  8E C0				mov	es,ax
F000:7563			loc_64:						;  xref F000:7551
F000:7563  58					pop	ax
F000:7564			loc_65:						;  xref F000:7503
F000:7564  D1 E7				shl	di,1			; Shift w/zeros fill
F000:7566  2E: FF 95 7500			call	word ptr cs:[7500h][di]	;*(F000:7500=757Bh)
F000:756B			loc_66:						;  xref F000:7544
F000:756B  07					pop	es
F000:756C  1F					pop	ds
F000:756D  61					popa				; Restore all regs
F000:756E  CF					iret				; Interrupt return
F000:756F			loc_67:						;  xref F000:752D
F000:756F  E9 0666				jmp	loc_164			; (7BD8)
F000:7572			loc_68:						;  xref F000:7532
F000:7572  E9 00EA				jmp	loc_82			; (765F)
F000:7575			loc_69:						;  xref F000:7537
F000:7575  E9 013A				jmp	loc_85			; (76B2)
F000:7578			loc_71:						;  xref F000:753C
F000:7578  E9 01F7				jmp	loc_97			; (7772)
							                        ;* No entry point to code
F000:757B  C6 06 0084 18			mov	video_rows,18h		; (0040:0084=18h)
F000:7580  8C C2				mov	dx,es
F000:7582  80 FE B0				cmp	dh,0B0h
F000:7585  BA 03D4				mov	dx,3D4h
F000:7588  75 05				jnz	short loc_74		; Jump if not zero
F000:758A  BA 03B4				mov	dx,3B4h
F000:758D  B0 07				mov	al,7
F000:758F			loc_74:						;  xref F000:7588
F000:758F  89 16 0063				mov	@video_port,dx		; (0040:0063=3D4h)
F000:7593  A2 0049				mov	video_mode,al		; (0040:0049=3)
F000:7596  B4 3F				mov	ah,3Fh			; '?'
F000:7598  3C 06				cmp	al,6
F000:759A  74 02				je	short loc_75		; Jump if equal
F000:759C  B4 30				mov	ah,30h			; '0'
F000:759E			loc_75:						;  xref F000:759A
F000:759E  88 26 0066				mov	video_color,ah		; (0040:0066=30h)
F000:75A2  8A E0				mov	ah,al
F000:75A4 њBB F0F4				mov	bx,offset video_hdwr_mode	; (F000:F0F4=2Ch)
F000:75A7  2E: D7				xlat	cs:[bx]			; al=[al+[bx]] table
F000:75A9  A2 0065				mov	video_mode_reg,al	; (0040:0065=29h)
F000:75AC  24 37				and	al,37h			; '7'
F000:75AE  83 C2 04				add	dx,4
F000:75B1  EE					out	dx,al			; port 3B8h, MDA video control
F000:75B2  83 EA 04				sub	dx,4
F000:75B5  B0 28				mov	al,28h			; '('
F000:75B7  F6 C4 02				test	ah,2
F000:75BA  74 02				jz	short loc_76		; Jump if zero
F000:75BC  B0 50				mov	al,50h			; 'P'
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 27

F000:75BE			loc_76:						;  xref F000:75BA
F000:75BE  8A DC				mov	bl,ah
F000:75C0  98					cbw				; Convrt byte to word
F000:75C1  A3 004A				mov	video_columns,ax	; (0040:004A=50h)
F000:75C4  B8 0800				mov	ax,800h
F000:75C7  80 FB 01				cmp	bl,1
F000:75CA  76 10				jbe	short loc_77		; Jump if below or =
F000:75CC  B8 1000				mov	ax,1000h
F000:75CF  80 FB 03				cmp	bl,3
F000:75D2  76 08				jbe	short loc_77		; Jump if below or =
F000:75D4  80 FB 07				cmp	bl,7
F000:75D7  74 03				je	short loc_77		; Jump if equal
F000:75D9  B8 4000				mov	ax,4000h
F000:75DC			loc_77:						;  xref F000:75CA, 75D2, 75D7
F000:75DC  A3 004C				mov	video_buf_siz,ax	; (0040:004C=1000h)
F000:75DF  33 C0				xor	ax,ax			; Zero register
F000:75E1  A3 004E				mov	video_page_off,ax	; (0040:004E=0)
F000:75E4  A2 0062				mov	video_page,al		; (0040:0062=0)
F000:75E7 њBF 0050				mov	di,seg seg_c
F000:75EA  B9 0008				mov	cx,8

F000:75ED			locloop_78:					;  xref F000:75F1
F000:75ED  89 05				mov	[di],ax
F000:75EF  47					inc	di
F000:75F0  47					inc	di
F000:75F1  E2 FA				loop	locloop_78		; Loop if cx > 0

F000:75F3  53					push	bx
F000:75F4  06					push	es
F000:75F5  8E C1				mov	es,cx
F000:75F7  26: C4 36 0074			les	si,dword ptr es:video_hdw_off	; (0000:0074=0F0A4h) Load 32 bit ptr
F000:75FC  80 FB 06				cmp	bl,6
F000:75FF  75 02				jne	short loc_79		; Jump if not equal
F000:7601  FE CB				dec	bl
F000:7603			loc_79:						;  xref F000:75FF
F000:7603  D0 EB				shr	bl,1			; Shift w/zeros fill
F000:7605  C0 E3 04				shl	bl,4			; Shift w/zeros fill
F000:7608  32 FF				xor	bh,bh			; Zero register
F000:760A  03 F3				add	si,bx
F000:760C  B9 0010				mov	cx,10h

F000:760F			locloop_80:					;  xref F000:761F
F000:760F  8A C7				mov	al,bh
F000:7611  EE					out	dx,al			; port 3B4h, MDA/EGA reg index
										;  al = 0, horiz char total
F000:7612  E3 00				jcxz	short $+2		; delay for I/O
F000:7614  42					inc	dx
F000:7615  26: 8A 04				mov	al,es:[si]
F000:7618  46					inc	si
F000:7619  EE					out	dx,al			; port 3B5h, MDA/EGA indxd data
F000:761A  E3 00				jcxz	short $+2		; delay for I/O
F000:761C  FE C7				inc	bh
F000:761E  4A					dec	dx
F000:761F  E2 EE				loop	locloop_80		; Loop if cx > 0

F000:7621  26: 8B 44 FA				mov	ax,es:[si-6]
F000:7625  86 C4				xchg	al,ah
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 28

F000:7627  A3 0060				mov	vid_curs_mode,ax	; (0040:0060=200Eh)
F000:762A  07					pop	es
F000:762B  5B					pop	bx
F000:762C  B9 0800				mov	cx,800h
F000:762F  B8 0720				mov	ax,720h
F000:7632  80 FB 07				cmp	bl,7
F000:7635  74 0A				je	short loc_81		; Jump if equal
F000:7637  B9 2000				mov	cx,2000h
F000:763A  80 FB 03				cmp	bl,3
F000:763D  76 02				jbe	short loc_81		; Jump if below or =
F000:763F  33 C0				xor	ax,ax			; Zero register
F000:7641			loc_81:						;  xref F000:7635, 763D
F000:7641  33 FF				xor	di,di			; Zero register
F000:7643  FA					cli				; Disable interrupts
F000:7644  FC					cld				; Clear direction
F000:7645  F3/ AB				rep	stosw			; Rep when cx >0 Store ax to es:[di]
F000:7647  FB					sti				; Enable interrupts
F000:7648  A0 0065				mov	al,video_mode_reg	; (0040:0065=29h)
F000:764B  83 C2 04				add	dx,4
F000:764E  EE					out	dx,al			; port 3B8h, MDA video control
F000:764F  E3 00				jcxz	short $+2		; delay for I/O
F000:7651  A0 0066				mov	al,video_color		; (0040:0066=30h)
F000:7654  42					inc	dx
F000:7655  EE					out	dx,al			; port 3B9h, CGA color(port3D9)
F000:7656  C3					retn
							                        ;* No entry point to code
F000:7657  89 0E 0060				mov	vid_curs_mode,cx	; (0040:0060=200Eh)
F000:765B  B0 0A				mov	al,0Ah
F000:765D  EB 39				jmp	short loc_84		; (7698)
F000:765F			loc_82:						;  xref F000:7572
F000:765F  1E					push	ds
F000:7660  50					push	ax
F000:7661  53					push	bx
F000:7662  51					push	cx
F000:7663  52					push	dx
F000:7664  B8 0040				mov	ax,seg_b
F000:7667  8E D8				mov	ds,ax
F000:7669  8A C7				mov	al,bh
F000:766B  8A DF				mov	bl,bh
F000:766D  32 FF				xor	bh,bh			; Zero register
F000:766F  D1 E3				shl	bx,1			; Shift w/zeros fill
F000:7671  89 97 0050				mov	vid_curs_pos0[bx],dx	; (0040:0050=184Fh)
F000:7675  3A 06 0062				cmp	al,video_page		; (0040:0062=0)
F000:7679  75 03				jne	short loc_83		; Jump if not equal
F000:767B  E8 0006				call	sub_25			; (7684)
F000:767E			loc_83:						;  xref F000:7679
F000:767E  5A					pop	dx
F000:767F  59					pop	cx
F000:7680  5B					pop	bx
F000:7681  58					pop	ax
F000:7682  1F					pop	ds
F000:7683  CF					iret				; Interrupt return

				;пппп External Entry into Subroutine пппппппппппппппппппппппппппппппппппппп
				;
				;         Called from:   F000:767B, 7798

           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 29

				sub_25:
F000:7684  8A C6				mov	al,dh
F000:7686  F6 26 004A				mul	byte ptr video_columns	; (0040:004A=50h) ax = data * al
F000:768A  32 F6				xor	dh,dh			; Zero register
F000:768C  03 C2				add	ax,dx
F000:768E  8B 0E 004E				mov	cx,video_page_off	; (0040:004E=0)
F000:7692  D1 E9				shr	cx,1			; Shift w/zeros fill
F000:7694  03 C8				add	cx,ax
F000:7696  B0 0E				mov	al,0Eh

				;пппп External Entry into Subroutine пппппппппппппппппппппппппппппппппппппп
				;
				;         Called from:   F000:778F

				sub_26:
F000:7698			loc_84:						;  xref F000:765D
F000:7698  8B 16 0063				mov	dx,@video_port		; (0040:0063=3D4h)
F000:769C  EE					out	dx,al			; port 3D4h, CGA/EGA reg index
										;  al = 0Ch, start address high
F000:769D  E3 00				jcxz	short $+2		; delay for I/O
F000:769F  42					inc	dx
F000:76A0  86 C5				xchg	al,ch
F000:76A2  EE					out	dx,al			; port 3D5h, CGA/EGA indxd data
F000:76A3  FE C5				inc	ch
F000:76A5  E3 00				jcxz	short $+2		; delay for I/O
F000:76A7  4A					dec	dx
F000:76A8  86 C5				xchg	al,ch
F000:76AA  EE					out	dx,al			; port 3D4h, CGA/EGA reg index
										;  al = 0Dh, start address low
F000:76AB  E3 00				jcxz	short $+2		; delay for I/O
F000:76AD  42					inc	dx
F000:76AE  86 C1				xchg	al,cl
F000:76B0  EE					out	dx,al			; port 3D5h, CGA/EGA indxd data
F000:76B1  C3					retn
F000:76B2			loc_85:						;  xref F000:7575
F000:76B2  1E					push	ds
F000:76B3  53					push	bx
F000:76B4  8A DF				mov	bl,bh
F000:76B6  32 FF				xor	bh,bh			; Zero register
F000:76B8  D1 E3				shl	bx,1			; Shift w/zeros fill
F000:76BA  BA 0040				mov	dx,seg seg_b
F000:76BD  8E DA				mov	ds,dx
F000:76BF  8B 97 0050				mov	dx,vid_curs_pos0[bx]	; (0040:0050=184Fh)
F000:76C3  8B 0E 0060				mov	cx,vid_curs_mode	; (0040:0060=200Eh)
F000:76C7  5B					pop	bx
F000:76C8  1F					pop	ds
F000:76C9  CF					iret				; Interrupt return
							                        ;* No entry point to code
F000:76CA  8B EC				mov	bp,sp
F000:76CC  8B 16 0063				mov	dx,@video_port		; (0040:0063=3D4h)
F000:76D0  83 C2 06				add	dx,6
F000:76D3  8B F2				mov	si,dx
F000:76D5  EC					in	al,dx			; port 3DAh, CGA/EGA vid status
F000:76D6  A8 04				test	al,4
F000:76D8  B4 00				mov	ah,0
F000:76DA  74 03				jz	short loc_86		; Jump if zero
F000:76DC  E9 008B				jmp	loc_95			; (776A)
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 30

F000:76DF			loc_86:						;  xref F000:76DA
F000:76DF  A8 02				test	al,2
F000:76E1  75 03				jnz	short loc_87		; Jump if not zero
F000:76E3  E9 0088				jmp	loc_96			; (776E)
F000:76E6			loc_87:						;  xref F000:76E1
F000:76E6  83 EA 06				sub	dx,6
F000:76E9  B0 10				mov	al,10h
F000:76EB  B5 11				mov	ch,11h
F000:76ED  EE					out	dx,al			; port 3D4h, CGA/EGA reg index
										;  al = 10h, light pen high
F000:76EE  E3 00				jcxz	short $+2		; delay for I/O
F000:76F0  E3 00				jcxz	short $+2		; delay for I/O
F000:76F2  42					inc	dx
F000:76F3  EC					in	al,dx			; port 3D5h, CGA/EGA indxd data
F000:76F4  86 C5				xchg	al,ch
F000:76F6  4A					dec	dx
F000:76F7  E3 00				jcxz	short $+2		; delay for I/O
F000:76F9  E3 00				jcxz	short $+2		; delay for I/O
F000:76FB  EE					out	dx,al			; port 3D4h, CGA/EGA reg index
										;  al = 11h, light pen low
F000:76FC  E3 00				jcxz	short $+2		; delay for I/O
F000:76FE  E3 00				jcxz	short $+2		; delay for I/O
F000:7700  42					inc	dx
F000:7701  EC					in	al,dx			; port 3D5h, CGA/EGA indxd data
F000:7702  86 C1				xchg	al,cl
F000:7704  A1 004E				mov	ax,video_page_off	; (0040:004E=0)
F000:7707  D1 E8				shr	ax,1			; Shift w/zeros fill
F000:7709  2B C8				sub	cx,ax
F000:770B  A0 0049				mov	al,video_mode		; (0040:0049=3)
F000:770E њBB F0FC				mov	bx,offset data_289	; (F000:F0FC=3)
F000:7711  2E: D7				xlat	cs:[bx]			; al=[al+[bx]] table
F000:7713  2B C8				sub	cx,ax
F000:7715  79 02				jns	short loc_88		; Jump if not sign
F000:7717  33 C9				xor	cx,cx			; Zero register
F000:7719			loc_88:						;  xref F000:7715
F000:7719  8A 26 0049				mov	ah,video_mode		; (0040:0049=3)
F000:771D  80 FC 04				cmp	ah,4
F000:7720  72 04				jb	short loc_89		; Jump if below
F000:7722  80 FC 07				cmp	ah,7
F000:7725  F5					cmc				; Complement carry
F000:7726			loc_89:						;  xref F000:7720
F000:7726  A0 004A				mov	al,byte ptr video_columns	; (0040:004A=50h)
F000:7729  91					xchg	cx,ax
F000:772A  72 02				jc	short loc_90		; Jump if carry Set
F000:772C  B1 28				mov	cl,28h			; '('
F000:772E			loc_90:						;  xref F000:772A
F000:772E  F6 F1				div	cl			; al, ah rem = ax/reg
F000:7730  8A E8				mov	ch,al
F000:7732  86 C4				xchg	al,ah
F000:7734  8B D0				mov	dx,ax
F000:7736  98					cbw				; Convrt byte to word
F000:7737  8B D8				mov	bx,ax
F000:7739  8A 26 0049				mov	ah,video_mode		; (0040:0049=3)
F000:773D  80 FC 04				cmp	ah,4
F000:7740  72 04				jb	short loc_91		; Jump if below
F000:7742  80 FC 07				cmp	ah,7
F000:7745  F5					cmc				; Complement carry
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 31

F000:7746			loc_91:						;  xref F000:7740
F000:7746  72 11				jc	short loc_92		; Jump if carry Set
F000:7748  D0 E5				shl	ch,1			; Shift w/zeros fill
F000:774A  C0 EE 02				shr	dh,2			; Shift w/zeros fill
F000:774D  80 FC 06				cmp	ah,6
F000:7750  75 0A				jne	short loc_93		; Jump if not equal
F000:7752  D0 E2				shl	dl,1			; Shift w/zeros fill
F000:7754  C1 E3 04				shl	bx,4			; Shift w/zeros fill
F000:7757  EB 06				jmp	short loc_94		; (775F)
F000:7759			loc_92:						;  xref F000:7746
F000:7759  C0 E5 03				shl	ch,3			; Shift w/zeros fill
F000:775C			loc_93:						;  xref F000:7750
F000:775C  C1 E3 03				shl	bx,3			; Shift w/zeros fill
F000:775F			loc_94:						;  xref F000:7757
F000:775F  89 56 10				mov	[bp+10h],dx
F000:7762  88 6E 13				mov	[bp+13h],ch
F000:7765  89 5E 0E				mov	[bp+0Eh],bx
F000:7768  B4 01				mov	ah,1
F000:776A			loc_95:						;  xref F000:76DC
F000:776A  8B D6				mov	dx,si
F000:776C  42					inc	dx
F000:776D  EE					out	dx,al			; port 3DBh, CGA light pen clr
F000:776E			loc_96:						;  xref F000:76E3
F000:776E  88 66 15				mov	[bp+15h],ah
F000:7771  C3					retn
F000:7772			loc_97:						;  xref F000:7578
F000:7772  1E					push	ds
F000:7773  50					push	ax
F000:7774  53					push	bx
F000:7775  51					push	cx
F000:7776  52					push	dx
F000:7777  BA 0040				mov	dx,seg seg_b
F000:777A  8E DA				mov	ds,dx
F000:777C  A2 0062				mov	video_page,al		; (0040:0062=0)
F000:777F  98					cbw				; Convrt byte to word
F000:7780  8B D8				mov	bx,ax
F000:7782  F7 26 004C				mul	video_buf_siz		; (0040:004C=1000h) ax = data * ax
F000:7786  A3 004E				mov	video_page_off,ax	; (0040:004E=0)
F000:7789  D1 E8				shr	ax,1			; Shift w/zeros fill
F000:778B  8B C8				mov	cx,ax
F000:778D  B0 0C				mov	al,0Ch
F000:778F  E8 FF06				call	sub_26			; (7698)
F000:7792  D1 E3				shl	bx,1			; Shift w/zeros fill
F000:7794  8B 97 0050				mov	dx,vid_curs_pos0[bx]	; (0040:0050=184Fh)
F000:7798  E8 FEE9				call	sub_25			; (7684)
F000:779B  5A					pop	dx
F000:779C  59					pop	cx
F000:779D  5B					pop	bx
F000:779E  58					pop	ax
F000:779F  1F					pop	ds
F000:77A0  CF					iret				; Interrupt return
				sub_24		endp

							                        ;* No entry point to code
F000:77A1  32 DB				xor	bl,bl			; Zero register
F000:77A3  EB 05				jmp	short loc_98		; (77AA)
F000:77A5  B3 FF 8B F2 FD			db	0B3h,0FFh, 8Bh,0F2h,0FDh
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 32

F000:77AA			loc_98:						;  xref F000:77A3
F000:77AA  1E					push	ds
F000:77AB  53					push	bx
F000:77AC  2B D1				sub	dx,cx
F000:77AE  81 C2 0101				add	dx,101h
F000:77B2  52					push	dx
F000:77B3  50					push	ax
F000:77B4  8A 26 0049				mov	ah,video_mode		; (0040:0049=3)
F000:77B8  80 FC 04				cmp	ah,4
F000:77BB  72 04				jb	short loc_99		; Jump if below
F000:77BD  80 FC 07				cmp	ah,7
F000:77C0  F5					cmc				; Complement carry
F000:77C1			loc_99:						;  xref F000:77BB
F000:77C1  BA 0028				mov	dx,28h
F000:77C4  73 20				jnc	short loc_103		; Jump if carry=0
F000:77C6  80 FC 02				cmp	ah,2
F000:77C9  74 05				je	short loc_100		; Jump if equal
F000:77CB  80 FC 03				cmp	ah,3
F000:77CE  75 12				jne	short loc_102		; Jump if not equal
F000:77D0			loc_100:					;  xref F000:77C9
F000:77D0  BA 03DA				mov	dx,3DAh
F000:77D3  51					push	cx
F000:77D4  33 C9				xor	cx,cx			; Zero register

F000:77D6			locloop_101:					;  xref F000:77D9
F000:77D6  EC					in	al,dx			; port 3DAh, CGA/EGA vid status
F000:77D7  A8 08				test	al,8
F000:77D9  E1 FB				loopz	locloop_101		; Loop if zf=1, cx>0

F000:77DB  59					pop	cx
F000:77DC  B0 25				mov	al,25h			; '%'
F000:77DE  BA 03D8				mov	dx,3D8h
F000:77E1  EE					out	dx,al			; port 3D8h, CGA video control
F000:77E2			loc_102:					;  xref F000:77CE
F000:77E2  8B 16 004A				mov	dx,video_columns	; (0040:004A=50h)
F000:77E6			loc_103:					;  xref F000:77C4
F000:77E6  8B EA				mov	bp,dx
F000:77E8  D1 E5				shl	bp,1			; Shift w/zeros fill
F000:77EA  22 DB				and	bl,bl
F000:77EC  74 04				jz	short loc_104		; Jump if zero
F000:77EE  F7 DD				neg	bp
F000:77F0  8B CE				mov	cx,si
F000:77F2			loc_104:					;  xref F000:77EC
F000:77F2  8A 26 0049				mov	ah,video_mode		; (0040:0049=3)
F000:77F6  80 FC 04				cmp	ah,4
F000:77F9  72 04				jb	short loc_105		; Jump if below
F000:77FB  80 FC 07				cmp	ah,7
F000:77FE  F5					cmc				; Complement carry
F000:77FF			loc_105:					;  xref F000:77F9
F000:77FF  91					xchg	cx,ax
F000:7800  8A CA				mov	cl,dl
F000:7802  8B D0				mov	dx,ax
F000:7804  73 16				jnc	short loc_106		; Jump if carry=0
F000:7806  8A C6				mov	al,dh
F000:7808  F6 26 004A				mul	byte ptr video_columns	; (0040:004A=50h) ax = data * al
F000:780C  32 F6				xor	dh,dh			; Zero register
F000:780E  03 C2				add	ax,dx
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 33

F000:7810  D1 E0				shl	ax,1			; Shift w/zeros fill
F000:7812  03 06 004E				add	ax,video_page_off	; (0040:004E=0)
F000:7816  8B F8				mov	di,ax
F000:7818  58					pop	ax
F000:7819  5A					pop	dx
F000:781A  EB 2D				jmp	short loc_109		; (7849)
F000:781C			loc_106:					;  xref F000:7804
F000:781C  8A C6				mov	al,dh
F000:781E  F6 26 004A				mul	byte ptr video_columns	; (0040:004A=50h) ax = data * al
F000:7822  C1 E0 02				shl	ax,2			; Shift w/zeros fill
F000:7825  32 F6				xor	dh,dh			; Zero register
F000:7827  03 C2				add	ax,dx
F000:7829  8B F8				mov	di,ax
F000:782B  58					pop	ax
F000:782C  5A					pop	dx
F000:782D  C0 E6 02				shl	dh,2			; Shift w/zeros fill
F000:7830  80 FD 06				cmp	ch,6
F000:7833  74 09				je	short loc_107		; Jump if equal
F000:7835  D1 E7				shl	di,1			; Shift w/zeros fill
F000:7837  D0 E2				shl	dl,1			; Shift w/zeros fill
F000:7839  22 DB				and	bl,bl
F000:783B  74 01				jz	short loc_107		; Jump if zero
F000:783D  47					inc	di
F000:783E			loc_107:					;  xref F000:7833, 783B
F000:783E  22 DB				and	bl,bl
F000:7840  74 04				jz	short loc_108		; Jump if zero
F000:7842 њ81 C7 00F0				add	di,offset data_24	; (0040:00F0=0)
F000:7846			loc_108:					;  xref F000:7840
F000:7846  C0 E0 02				shl	al,2			; Shift w/zeros fill
F000:7849			loc_109:					;  xref F000:781A
F000:7849  06					push	es
F000:784A  1F					pop	ds
F000:784B  8A FE				mov	bh,dh
F000:784D  0A C0				or	al,al			; Zero ?
F000:784F  74 68				jz	short loc_115		; Jump if zero
F000:7851  2A F0				sub	dh,al
F000:7853  74 64				jz	short loc_115		; Jump if zero
F000:7855  8A F8				mov	bh,al
F000:7857  F6 E1				mul	cl			; ax = reg * al
F000:7859  D1 E0				shl	ax,1			; Shift w/zeros fill
F000:785B  22 DB				and	bl,bl
F000:785D  74 02				jz	short loc_110		; Jump if zero
F000:785F  F7 D8				neg	ax
F000:7861			loc_110:					;  xref F000:785D
F000:7861  8B F7				mov	si,di
F000:7863  03 F0				add	si,ax
F000:7865  32 E4				xor	ah,ah			; Zero register
F000:7867  86 E5				xchg	ah,ch
F000:7869  80 FC 04				cmp	ah,4
F000:786C  72 04				jb	short loc_111		; Jump if below
F000:786E  80 FC 07				cmp	ah,7
F000:7871  F5					cmc				; Complement carry
F000:7872			loc_111:					;  xref F000:786C
F000:7872  53					push	bx
F000:7873  72 55				jc	short loc_117		; Jump if carry Set
F000:7875			loc_112:					;  xref F000:7897
F000:7875  8B C6				mov	ax,si
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 34

F000:7877  8B DF				mov	bx,di
F000:7879  8A CA				mov	cl,dl
F000:787B  F3/ A4				rep	movsb			; Rep when cx >0 Mov [si] to es:[di]
F000:787D  8B FB				mov	di,bx
F000:787F  8B F0				mov	si,ax
F000:7881 њ81 C6 2000				add	si,data_36e		; (0040:2000=0C0h)
F000:7885 њ81 C7 2000				add	di,data_36e		; (0040:2000=0C0h)
F000:7889  8A CA				mov	cl,dl
F000:788B  F3/ A4				rep	movsb			; Rep when cx >0 Mov [si] to es:[di]
F000:788D  8B FB				mov	di,bx
F000:788F  8B F0				mov	si,ax
F000:7891  03 F5				add	si,bp
F000:7893  03 FD				add	di,bp
F000:7895  FE CE				dec	dh
F000:7897  75 DC				jnz	loc_112			; Jump if not zero
F000:7899  5B					pop	bx
F000:789A			loc_113:					;  xref F000:78C6
F000:789A  58					pop	ax
F000:789B  8A C4				mov	al,ah
F000:789D  8A F7				mov	dh,bh
F000:789F			loc_114:					;  xref F000:78B5
F000:789F  8B DF				mov	bx,di
F000:78A1  8A CA				mov	cl,dl
F000:78A3  F3/ AA				rep	stosb			; Rep when cx >0 Store al to es:[di]
F000:78A5  8B FB				mov	di,bx
F000:78A7 њ81 C7 2000				add	di,data_36e		; (0040:2000=0C0h)
F000:78AB  8A CA				mov	cl,dl
F000:78AD  F3/ AA				rep	stosb			; Rep when cx >0 Store al to es:[di]
F000:78AF  8B FB				mov	di,bx
F000:78B1  03 FD				add	di,bp
F000:78B3  FE CE				dec	dh
F000:78B5  75 E8				jnz	loc_114			; Jump if not zero
F000:78B7  1F					pop	ds
F000:78B8  C3					retn
F000:78B9			loc_115:					;  xref F000:784F, 7853
F000:78B9  32 E4				xor	ah,ah			; Zero register
F000:78BB  86 E5				xchg	ah,ch
F000:78BD  80 FC 04				cmp	ah,4
F000:78C0  72 04				jb	short loc_116		; Jump if below
F000:78C2  80 FC 07				cmp	ah,7
F000:78C5  F5					cmc				; Complement carry
F000:78C6			loc_116:					;  xref F000:78C0
F000:78C6  73 D2				jnc	loc_113			; Jump if carry=0
F000:78C8  EB 15				jmp	short loc_118		; (78DF)
F000:78CA			loc_117:					;  xref F000:7873, 78DC
F000:78CA  8B C6				mov	ax,si
F000:78CC  8B DF				mov	bx,di
F000:78CE  8A CA				mov	cl,dl
F000:78D0  F3/ A5				rep	movsw			; Rep when cx >0 Mov [si] to es:[di]
F000:78D2  8B FB				mov	di,bx
F000:78D4  8B F0				mov	si,ax
F000:78D6  03 F5				add	si,bp
F000:78D8  03 FD				add	di,bp
F000:78DA  FE CE				dec	dh
F000:78DC  75 EC				jnz	loc_117			; Jump if not zero
F000:78DE  5B					pop	bx
F000:78DF			loc_118:					;  xref F000:78C8
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 35

F000:78DF  58					pop	ax
F000:78E0  B0 20				mov	al,20h			; ' '
F000:78E2  8A F7				mov	dh,bh
F000:78E4			loc_119:					;  xref F000:78F0
F000:78E4  8B DF				mov	bx,di
F000:78E6  8A CA				mov	cl,dl
F000:78E8  F3/ AB				rep	stosw			; Rep when cx >0 Store ax to es:[di]
F000:78EA  8B FB				mov	di,bx
F000:78EC  03 FD				add	di,bp
F000:78EE  FE CE				dec	dh
F000:78F0  75 F2				jnz	loc_119			; Jump if not zero
F000:78F2  1F					pop	ds
F000:78F3  80 3E 0049 07			cmp	video_mode,7		; [0040:0049=3]
F000:78F8  74 07				je	short loc_ret_120	; Jump if equal
F000:78FA  A0 0065				mov	al,video_mode_reg	; (0040:0065=29h)
F000:78FD  BA 03D8				mov	dx,3D8h
F000:7900  EE					out	dx,al			; port 3D8h, CGA video control

F000:7901			loc_ret_120:					;  xref F000:78F8
F000:7901  C3					retn
							                        ;* No entry point to code
F000:7902  8B EC				mov	bp,sp
F000:7904  8A 26 0049				mov	ah,video_mode		; (0040:0049=3)
F000:7908  80 FC 07				cmp	ah,7
F000:790B  74 05				je	short loc_121		; Jump if equal
F000:790D  80 FC 04				cmp	ah,4
F000:7910  73 56				jae	short loc_125		; Jump if above or =
F000:7912			loc_121:					;  xref F000:790B
F000:7912  8A DF				mov	bl,bh
F000:7914  32 FF				xor	bh,bh			; Zero register
F000:7916  D1 E3				shl	bx,1			; Shift w/zeros fill
F000:7918  8B 97 0050				mov	dx,vid_curs_pos0[bx]	; (0040:0050=184Fh)
F000:791C  8A C6				mov	al,dh
F000:791E  F6 26 004A				mul	byte ptr video_columns	; (0040:004A=50h) ax = data * al
F000:7922  32 F6				xor	dh,dh			; Zero register
F000:7924  03 C2				add	ax,dx
F000:7926  D1 E0				shl	ax,1			; Shift w/zeros fill
F000:7928  D1 EB				shr	bx,1			; Shift w/zeros fill
F000:792A  93					xchg	bx,ax
F000:792B  F7 26 004C				mul	video_buf_siz		; (0040:004C=1000h) ax = data * ax
F000:792F  03 C3				add	ax,bx
F000:7931  8B F0				mov	si,ax
F000:7933  FA					cli				; Disable interrupts
F000:7934  FC					cld				; Clear direction
F000:7935  80 3E 0049 07			cmp	video_mode,7		; (0040:0049=3)
F000:793A  74 26				je	short loc_124		; Jump if equal
F000:793C  80 3E 0049 02			cmp	video_mode,2		; (0040:0049=3)
F000:7941  72 1F				jb	short loc_124		; Jump if below
F000:7943  8B 16 0063				mov	dx,@video_port		; (0040:0063=3D4h)
F000:7947  83 C2 06				add	dx,6
F000:794A  33 C9				xor	cx,cx			; Zero register

F000:794C			locloop_122:					;  xref F000:7957
F000:794C  FB					sti				; Enable interrupts
F000:794D  FC					cld				; Clear direction
F000:794E  FA					cli				; Disable interrupts
F000:794F  FC					cld				; Clear direction
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 36

F000:7950  EC					in	al,dx			; port 3DAh, CGA/EGA vid status
F000:7951  A8 08				test	al,8
F000:7953  75 0D				jnz	short loc_124		; Jump if not zero
F000:7955  A8 01				test	al,1
F000:7957  E0 F3				loopnz	locloop_122		; Loop if zf=0, cx>0

F000:7959  33 C9				xor	cx,cx			; Zero register

F000:795B			locloop_123:					;  xref F000:7960
F000:795B  EC					in	al,dx			; port 3DAh, CGA/EGA vid status
F000:795C  E3 00				jcxz	short $+2		; delay for I/O
F000:795E  A8 09				test	al,9
F000:7960  E1 F9				loopz	locloop_123		; Loop if zf=1, cx>0

F000:7962			loc_124:					;  xref F000:793A, 7941, 7953
F000:7962  26: AD				lods	word ptr es:[si]	; String [si] to ax
F000:7964  FB					sti				; Enable interrupts
F000:7965  E9 0080				jmp	loc_130			; (79E8)
F000:7968			loc_125:					;  xref F000:7910
F000:7968 њBF 0008				mov	di,offset @prn_port_1	; (0040:0008=78h)
F000:796B  2B E7				sub	sp,di
F000:796D  F7 DF				neg	di
F000:796F  BB 2000				mov	bx,2000h
F000:7972  8B 16 0050				mov	dx,vid_curs_pos0	; (0040:0050=184Fh)
F000:7976  8A C6				mov	al,dh
F000:7978  F6 26 004A				mul	byte ptr video_columns	; (0040:004A=50h) ax = data * al
F000:797C  C1 E0 02				shl	ax,2			; Shift w/zeros fill
F000:797F  32 F6				xor	dh,dh			; Zero register
F000:7981  03 C2				add	ax,dx
F000:7983  8B F0				mov	si,ax
F000:7985  80 3E 0049 06			cmp	video_mode,6		; (0040:0049=3)
F000:798A  8C C1				mov	cx,es
F000:798C  8E D9				mov	ds,cx
F000:798E  74 13				jz	short loc_127		; Jump if zero
F000:7990  D1 E6				shl	si,1			; Shift w/zeros fill
F000:7992			loc_126:					;  xref F000:799F
F000:7992  8B 04				mov	ax,[si]
F000:7994  E8 0370				call	sub_30			; (7D07)
F000:7997  8B 00				mov	ax,[bx+si]
F000:7999  83 C6 50				add	si,50h
F000:799C  E8 0368				call	sub_30			; (7D07)
F000:799F  75 F1				jnz	loc_126			; Jump if not zero
F000:79A1  EB 0F				jmp	short loc_128		; (79B2)
F000:79A3			loc_127:					;  xref F000:798E, 79B0
F000:79A3  8A 04				mov	al,[si]
F000:79A5  88 03				mov	[bp+di],al
F000:79A7  47					inc	di
F000:79A8  8A 00				mov	al,[bx+si]
F000:79AA  83 C6 50				add	si,50h
F000:79AD  88 03				mov	[bp+di],al
F000:79AF  47					inc	di
F000:79B0  75 F1				jnz	loc_127			; Jump if not zero
F000:79B2			loc_128:					;  xref F000:79A1
F000:79B2  8C D7				mov	di,ss
F000:79B4  8E DF				mov	ds,di
F000:79B6  8C CF				mov	di,cs
F000:79B8  8E C7				mov	es,di
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 37

F000:79BA њBF FA6E				mov	di,data_82e		; (C000:FA6E=0FFh)
F000:79BD  32 C0				xor	al,al			; Zero register
F000:79BF			loc_129:					;  xref F000:79D3, 79E6
F000:79BF њ8B F4				mov	si,sp
F000:79C1  B9 0008				mov	cx,8
F000:79C4  FA					cli				; Disable interrupts
F000:79C5  FC					cld				; Clear direction
F000:79C6  F3/ A6				repe	cmpsb			; Rep zf=1+cx >0 Cmp [si] to es:[di]
F000:79C8  FB					sti				; Enable interrupts
F000:79C9  74 1D				jz	short loc_130		; Jump if zero
F000:79CB  FE C0				inc	al
F000:79CD  74 19				jz	short loc_130		; Jump if zero
F000:79CF  03 F9				add	di,cx
F000:79D1  3C 80				cmp	al,80h
F000:79D3  75 EA				jne	loc_129			; Jump if not equal
F000:79D5  33 C0				xor	ax,ax			; Zero register
F000:79D7  8E C0				mov	es,ax
F000:79D9  26: C4 3E 007C			les	di,dword ptr es:graph_tbl_off	; (0000:007C=5A2Fh) Load 32 bit ptr
F000:79DE  8C C1				mov	cx,es
F000:79E0  0B CF				or	cx,di
F000:79E2  74 04				jz	short loc_130		; Jump if zero
F000:79E4  B0 80				mov	al,80h
F000:79E6  EB D7				jmp	short loc_129		; (79BF)
F000:79E8			loc_130:					;  xref F000:7965, 79C9, 79CD, 79E2
F000:79E8  89 46 14				mov	[bp+14h],ax
F000:79EB  8B E5				mov	sp,bp
F000:79ED  C3					retn
							                        ;* No entry point to code
F000:79EE  8A 26 0049				mov	ah,video_mode		; (0040:0049=3)
F000:79F2  80 FC 07				cmp	ah,7
F000:79F5  74 05				je	short loc_131		; Jump if equal
F000:79F7  80 FC 04				cmp	ah,4
F000:79FA  73 74				jae	short loc_139		; Jump if above or =
F000:79FC			loc_131:					;  xref F000:79F5
F000:79FC  8A E3				mov	ah,bl
F000:79FE  50					push	ax
F000:79FF  8A DF				mov	bl,bh
F000:7A01  32 FF				xor	bh,bh			; Zero register
F000:7A03  D1 E3				shl	bx,1			; Shift w/zeros fill
F000:7A05  8B 97 0050				mov	dx,vid_curs_pos0[bx]	; (0040:0050=184Fh)
F000:7A09  8A C6				mov	al,dh
F000:7A0B  F6 26 004A				mul	byte ptr video_columns	; (0040:004A=50h) ax = data * al
F000:7A0F  32 F6				xor	dh,dh			; Zero register
F000:7A11  03 C2				add	ax,dx
F000:7A13  D1 E0				shl	ax,1			; Shift w/zeros fill
F000:7A15  D1 EB				shr	bx,1			; Shift w/zeros fill
F000:7A17  93					xchg	bx,ax
F000:7A18  F7 26 004C				mul	video_buf_siz		; (0040:004C=1000h) ax = data * ax
F000:7A1C  03 C3				add	ax,bx
F000:7A1E  8B F8				mov	di,ax
F000:7A20  58					pop	ax
F000:7A21  80 3E 0049 07			cmp	video_mode,7		; (0040:0049=3)
F000:7A26  74 07				je	short loc_132		; Jump if equal
F000:7A28  80 3E 0049 02			cmp	video_mode,2		; (0040:0049=3)
F000:7A2D  73 0A				jae	short loc_134		; Jump if above or =
F000:7A2F			loc_132:					;  xref F000:7A26
F000:7A2F  FA					cli				; Disable interrupts
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 38

F000:7A30  FC					cld				; Clear direction
F000:7A31  AB					stosw				; Store ax to es:[di]
F000:7A32  49					dec	cx
F000:7A33  74 02				jz	short loc_133		; Jump if zero
F000:7A35  F3/ AB				rep	stosw			; Rep when cx >0 Store ax to es:[di]
F000:7A37			loc_133:					;  xref F000:7A33
F000:7A37  FB					sti				; Enable interrupts
F000:7A38  C3					retn
F000:7A39			loc_134:					;  xref F000:7A2D
F000:7A39  8B D8				mov	bx,ax
F000:7A3B  8B F1				mov	si,cx
F000:7A3D  8B 16 0063				mov	dx,@video_port		; (0040:0063=3D4h)
F000:7A41  83 C2 06				add	dx,6
F000:7A44			loc_135:					;  xref F000:7A61
F000:7A44  33 C9				xor	cx,cx			; Zero register

F000:7A46			locloop_136:					;  xref F000:7A51
F000:7A46  FB					sti				; Enable interrupts
F000:7A47  FC					cld				; Clear direction
F000:7A48  FA					cli				; Disable interrupts
F000:7A49  FC					cld				; Clear direction
F000:7A4A  EC					in	al,dx			; port 3DAh, CGA/EGA vid status
F000:7A4B  A8 08				test	al,8
F000:7A4D  75 0D				jnz	short loc_138		; Jump if not zero
F000:7A4F  A8 01				test	al,1
F000:7A51  E0 F3				loopnz	locloop_136		; Loop if zf=0, cx>0

F000:7A53  33 C9				xor	cx,cx			; Zero register

F000:7A55			locloop_137:					;  xref F000:7A5A
F000:7A55  EC					in	al,dx			; port 3DAh, CGA/EGA vid status
F000:7A56  E3 00				jcxz	short $+2		; delay for I/O
F000:7A58  A8 09				test	al,9
F000:7A5A  E1 F9				loopz	locloop_137		; Loop if zf=1, cx>0

F000:7A5C			loc_138:					;  xref F000:7A4D
F000:7A5C  8B C3				mov	ax,bx
F000:7A5E  AB					stosw				; Store ax to es:[di]
F000:7A5F  FB					sti				; Enable interrupts
F000:7A60  4E					dec	si
F000:7A61  75 E1				jnz	loc_135			; Jump if not zero
F000:7A63  C3					retn
							                        ;* No entry point to code
F000:7A64  8A 26 0049				mov	ah,video_mode		; (0040:0049=3)
F000:7A68  80 FC 07				cmp	ah,7
F000:7A6B  74 05				je	short loc_140		; Jump if equal
F000:7A6D  80 FC 04				cmp	ah,4
F000:7A70			loc_139:					;  xref F000:79FA
F000:7A70  73 65				jae	short loc_148		; Jump if above or =
F000:7A72			loc_140:					;  xref F000:7A6B
F000:7A72  50					push	ax
F000:7A73  8A DF				mov	bl,bh
F000:7A75  32 FF				xor	bh,bh			; Zero register
F000:7A77  D1 E3				shl	bx,1			; Shift w/zeros fill
F000:7A79  8B 97 0050				mov	dx,vid_curs_pos0[bx]	; (0040:0050=184Fh)
F000:7A7D  8A C6				mov	al,dh
F000:7A7F  F6 26 004A				mul	byte ptr video_columns	; (0040:004A=50h) ax = data * al
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 39

F000:7A83  32 F6				xor	dh,dh			; Zero register
F000:7A85  03 C2				add	ax,dx
F000:7A87  D1 E0				shl	ax,1			; Shift w/zeros fill
F000:7A89  D1 EB				shr	bx,1			; Shift w/zeros fill
F000:7A8B  93					xchg	bx,ax
F000:7A8C  F7 26 004C				mul	video_buf_siz		; (0040:004C=1000h) ax = data * ax
F000:7A90  03 C3				add	ax,bx
F000:7A92  8B F8				mov	di,ax
F000:7A94  58					pop	ax
F000:7A95  80 3E 0049 07			cmp	video_mode,7		; (0040:0049=3)
F000:7A9A  74 07				je	short loc_141		; Jump if equal
F000:7A9C  80 3E 0049 02			cmp	video_mode,2		; (0040:0049=3)
F000:7AA1  73 08				jae	short loc_143		; Jump if above or =
F000:7AA3			loc_141:					;  xref F000:7A9A
F000:7AA3  FA					cli				; Disable interrupts
F000:7AA4  FC					cld				; Clear direction

F000:7AA5			locloop_142:					;  xref F000:7AA7
F000:7AA5  AA					stosb				; Store al to es:[di]
F000:7AA6  47					inc	di
F000:7AA7  E2 FC				loop	locloop_142		; Loop if cx > 0

F000:7AA9  FB					sti				; Enable interrupts
F000:7AAA  C3					retn
F000:7AAB			loc_143:					;  xref F000:7AA1
F000:7AAB  8A D8				mov	bl,al
F000:7AAD  8B F1				mov	si,cx
F000:7AAF  8B 16 0063				mov	dx,@video_port		; (0040:0063=3D4h)
F000:7AB3  83 C2 06				add	dx,6
F000:7AB6			loc_144:					;  xref F000:7AD4
F000:7AB6  33 C9				xor	cx,cx			; Zero register

F000:7AB8			locloop_145:					;  xref F000:7AC3
F000:7AB8  FB					sti				; Enable interrupts
F000:7AB9  FC					cld				; Clear direction
F000:7ABA  FA					cli				; Disable interrupts
F000:7ABB  FC					cld				; Clear direction
F000:7ABC  EC					in	al,dx			; port 3DAh, CGA/EGA vid status
F000:7ABD  A8 08				test	al,8
F000:7ABF  75 0D				jnz	short loc_147		; Jump if not zero
F000:7AC1  A8 01				test	al,1
F000:7AC3  E0 F3				loopnz	locloop_145		; Loop if zf=0, cx>0

F000:7AC5  33 C9				xor	cx,cx			; Zero register

F000:7AC7			locloop_146:					;  xref F000:7ACC
F000:7AC7  EC					in	al,dx			; port 3DAh, CGA/EGA vid status
F000:7AC8  E3 00				jcxz	short $+2		; delay for I/O
F000:7ACA  A8 09				test	al,9
F000:7ACC  E1 F9				loopz	locloop_146		; Loop if zf=1, cx>0

F000:7ACE			loc_147:					;  xref F000:7ABF
F000:7ACE  8A C3				mov	al,bl
F000:7AD0  AA					stosb				; Store al to es:[di]
F000:7AD1  FB					sti				; Enable interrupts
F000:7AD2  47					inc	di
F000:7AD3  4E					dec	si
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 40

F000:7AD4  75 E0				jnz	loc_144			; Jump if not zero
F000:7AD6  C3					retn
F000:7AD7			loc_148:					;  xref F000:7A70
F000:7AD7  55					push	bp
F000:7AD8  8B E9				mov	bp,cx
F000:7ADA  50					push	ax
F000:7ADB  83 E0 7F				and	ax,7Fh
F000:7ADE  C1 E0 03				shl	ax,3			; Shift w/zeros fill
F000:7AE1  50					push	ax
F000:7AE2  8B 16 0050				mov	dx,vid_curs_pos0	; (0040:0050=184Fh)
F000:7AE6  8A C6				mov	al,dh
F000:7AE8  F6 26 004A				mul	byte ptr video_columns	; (0040:004A=50h) ax = data * al
F000:7AEC  C1 E0 02				shl	ax,2			; Shift w/zeros fill
F000:7AEF  32 F6				xor	dh,dh			; Zero register
F000:7AF1  03 C2				add	ax,dx
F000:7AF3  8B F8				mov	di,ax
F000:7AF5 њBE FA6E				mov	si,data_82e		; (C000:FA6E=0FFh)
F000:7AF8  8A 36 0049				mov	dh,video_mode		; (0040:0049=3)
F000:7AFC  8A D3				mov	dl,bl
F000:7AFE  0E					push	cs
F000:7AFF  1F					pop	ds
F000:7B00  58					pop	ax
F000:7B01  5B					pop	bx
F000:7B02  22 DB				and	bl,bl
F000:7B04  79 08				jns	short loc_149		; Jump if not sign
F000:7B06  33 F6				xor	si,si			; Zero register
F000:7B08  8E DE				mov	ds,si
F000:7B0A  C5 36 007C				lds	si,dword ptr ds:graph_tbl_off	; (0000:007C=5A2Fh) Load 32 bit ptr
F000:7B0E			loc_149:					;  xref F000:7B04
F000:7B0E  03 F0				add	si,ax
F000:7B10  80 FE 06				cmp	dh,6
F000:7B13  74 43				je	short loc_155		; Jump if equal
F000:7B15  D1 E7				shl	di,1			; Shift w/zeros fill
F000:7B17  8A C2				mov	al,dl
F000:7B19  24 03				and	al,3
F000:7B1B  32 F6				xor	dh,dh			; Zero register
F000:7B1D			loc_150:					;  xref F000:7B22
F000:7B1D  0A F0				or	dh,al
F000:7B1F  C0 E0 02				shl	al,2			; Shift w/zeros fill
F000:7B22  75 F9				jnz	loc_150			; Jump if not zero
F000:7B24			loc_151:					;  xref F000:7B54
F000:7B24  B9 0004				mov	cx,4

F000:7B27			locloop_152:					;  xref F000:7B4A
F000:7B27  8A 04				mov	al,[si]
F000:7B29  46					inc	si
F000:7B2A  E8 01F1				call	sub_31			; (7D1E)
F000:7B2D  79 03				jns	short loc_153		; Jump if not sign
F000:7B2F  26: 33 05				xor	ax,es:[di]
F000:7B32			loc_153:					;  xref F000:7B2D
F000:7B32  26: 89 05				mov	es:[di],ax
F000:7B35  8A 04				mov	al,[si]
F000:7B37  46					inc	si
F000:7B38  E8 01E3				call	sub_31			; (7D1E)
F000:7B3B  79 05				jns	short loc_154		; Jump if not sign
F000:7B3D  26: 33 85 2000			xor	ax,es:data_36e[di]	; (0040:2000=75C0h)
F000:7B42			loc_154:					;  xref F000:7B3B
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 41

F000:7B42  26: 89 85 2000			mov	es:data_36e[di],ax	; (0040:2000=75C0h)
F000:7B47  83 C7 50				add	di,50h
F000:7B4A  E2 DB				loop	locloop_152		; Loop if cx > 0

F000:7B4C  81 EF 013E				sub	di,13Eh
F000:7B50  83 EE 08				sub	si,8
F000:7B53  4D					dec	bp
F000:7B54  75 CE				jnz	loc_151			; Jump if not zero
F000:7B56  5D					pop	bp
F000:7B57  C3					retn
F000:7B58			loc_155:					;  xref F000:7B13
F000:7B58  D0 E2				shl	dl,1			; Shift w/zeros fill
F000:7B5A  9F					lahf				; Load ah from flags
F000:7B5B			loc_156:					;  xref F000:7B87
F000:7B5B  B9 0004				mov	cx,4

F000:7B5E			locloop_157:					;  xref F000:7B7D
F000:7B5E  8A 04				mov	al,[si]
F000:7B60  46					inc	si
F000:7B61  9E					sahf				; Store ah into flags
F000:7B62  73 03				jnc	short loc_158		; Jump if carry=0
F000:7B64  26: 32 05				xor	al,es:[di]
F000:7B67			loc_158:					;  xref F000:7B62
F000:7B67  26: 88 05				mov	es:[di],al
F000:7B6A  8A 04				mov	al,[si]
F000:7B6C  46					inc	si
F000:7B6D  9E					sahf				; Store ah into flags
F000:7B6E  73 05				jnc	short loc_159		; Jump if carry=0
F000:7B70  26: 32 85 2000			xor	al,es:data_36e[di]	; (0040:2000=0C0h)
F000:7B75			loc_159:					;  xref F000:7B6E
F000:7B75  26: 88 85 2000			mov	es:data_36e[di],al	; (0040:2000=0C0h)
F000:7B7A  83 C7 50				add	di,50h
F000:7B7D  E2 DF				loop	locloop_157		; Loop if cx > 0

F000:7B7F  81 EF 013F				sub	di,13Fh
F000:7B83  83 EE 08				sub	si,8
F000:7B86  4D					dec	bp
F000:7B87  75 D2				jnz	loc_156			; Jump if not zero
F000:7B89  5D					pop	bp
F000:7B8A  C3					retn
							                        ;* No entry point to code
F000:7B8B  A0 0066				mov	al,video_color		; (0040:0066=30h)
F000:7B8E  22 FF				and	bh,bh
F000:7B90  74 0B				jz	short loc_160		; Jump if zero
F000:7B92  0C 20				or	al,20h			; ' '
F000:7B94  F6 C3 01				test	bl,1
F000:7B97  75 0B				jnz	short loc_161		; Jump if not zero
F000:7B99  24 DF				and	al,0DFh
F000:7B9B  EB 07				jmp	short loc_161		; (7BA4)
F000:7B9D			loc_160:					;  xref F000:7B90
F000:7B9D  24 E0				and	al,0E0h
F000:7B9F  80 E3 1F				and	bl,1Fh
F000:7BA2  0A C3				or	al,bl
F000:7BA4			loc_161:					;  xref F000:7B97, 7B9B
F000:7BA4  A2 0066				mov	video_color,al		; (0040:0066=30h)
F000:7BA7  8B 16 0063				mov	dx,@video_port		; (0040:0063=3D4h)
F000:7BAB  83 C2 05				add	dx,5
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 42

F000:7BAE  EE					out	dx,al			; port 3D9h, CGA color control
F000:7BAF  C3					retn
							                        ;* No entry point to code
F000:7BB0  8A D8				mov	bl,al
F000:7BB2  E8 011A				call	sub_29			; (7CCF)
F000:7BB5  8A E3				mov	ah,bl
F000:7BB7  22 DD				and	bl,ch
F000:7BB9  22 E4				and	ah,ah
F000:7BBB  79 04				jns	short loc_162		; Jump if not sign
F000:7BBD  32 C3				xor	al,bl
F000:7BBF  EB 06				jmp	short loc_163		; (7BC7)
F000:7BC1			loc_162:					;  xref F000:7BBB
F000:7BC1  F6 D5				not	ch
F000:7BC3  22 C5				and	al,ch
F000:7BC5  0A C3				or	al,bl
F000:7BC7			loc_163:					;  xref F000:7BBF
F000:7BC7  D2 C8				ror	al,cl			; Rotate
F000:7BC9  26: 88 04				mov	es:[si],al
F000:7BCC  C3					retn
							                        ;* No entry point to code
F000:7BCD  E8 00FF				call	sub_29			; (7CCF)
F000:7BD0  22 C5				and	al,ch
F000:7BD2  8B EC				mov	bp,sp
F000:7BD4  88 46 14				mov	[bp+14h],al
F000:7BD7  C3					retn
F000:7BD8			loc_164:					;  xref F000:756F
F000:7BD8  1E					push	ds
F000:7BD9  50					push	ax
F000:7BDA  53					push	bx
F000:7BDB  51					push	cx
F000:7BDC  52					push	dx
F000:7BDD  50					push	ax
F000:7BDE  B8 0040				mov	ax,seg_b
F000:7BE1  8E D8				mov	ds,ax
F000:7BE3  B4 03				mov	ah,3
F000:7BE5  8A 3E 0062				mov	bh,video_page		; (0040:0062=0)
F000:7BE9  CD 10				int	10h			; Video display   ah=functn 03h
										;  get cursor loc in dx, mode cx
F000:7BEB  58					pop	ax
F000:7BEC  3C 0D				cmp	al,0Dh
F000:7BEE  76 0F				jbe	short loc_168		; Jump if below or =
F000:7BF0			loc_165:					;  xref F000:7C0B
F000:7BF0  B4 0A				mov	ah,0Ah
F000:7BF2  E8 009B				call	sub_27			; (7C90)
F000:7BF5			loc_166:					;  xref F000:7C10, 7C1B, 7C1F
F000:7BF5 њB4 02				mov	ah,2
F000:7BF7  CD 10				int	10h			; Video display   ah=functn 02h
										;  set cursor location in dx
F000:7BF9			loc_167:					;  xref F000:7C15
F000:7BF9 њ5A					pop	dx
F000:7BFA  59					pop	cx
F000:7BFB  5B					pop	bx
F000:7BFC  58					pop	ax
F000:7BFD  1F					pop	ds
F000:7BFE  CF					iret				; Interrupt return
F000:7BFF			loc_168:					;  xref F000:7BEE
F000:7BFF  74 16				jz	short loc_170		; Jump if zero
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 43

F000:7C01  3C 08				cmp	al,8
F000:7C03  74 14				je	short loc_171		; Jump if equal
F000:7C05  3C 07				cmp	al,7
F000:7C07  74 09				je	short loc_169		; Jump if equal
F000:7C09  3C 0A				cmp	al,0Ah
F000:7C0B  75 E3				jne	loc_165			; Jump if not equal
F000:7C0D  E8 008F				call	sub_28			; (7C9F)
F000:7C10  EB E3				jmp	short loc_166		; (7BF5)
F000:7C12			loc_169:					;  xref F000:7C07
F000:7C12  E8 71EB				call	sub_370			; (EE00)
F000:7C15  EB E2				jmp	short loc_167		; (7BF9)
F000:7C17			loc_170:					;  xref F000:7BFF
F000:7C17  32 D2				xor	dl,dl			; Zero register
F000:7C19			loc_171:					;  xref F000:7C03
F000:7C19  22 D2				and	dl,dl
F000:7C1B  74 D8				jz	loc_166			; Jump if zero
F000:7C1D  FE CA				dec	dl
F000:7C1F  EB D4				jmp	short loc_166		; (7BF5)
							                        ;* No entry point to code
F000:7C21  A0 0049				mov	al,video_mode		; (0040:0049=3)
F000:7C24  8A 26 004A				mov	ah,byte ptr video_columns	; (0040:004A=50h)
F000:7C28  8B EC				mov	bp,sp
F000:7C2A  89 46 14				mov	[bp+14h],ax
F000:7C2D  A0 0062				mov	al,video_page		; (0040:0062=0)
F000:7C30  88 46 0F				mov	[bp+0Fh],al
F000:7C33  C3					retn
							                        ;* No entry point to code
F000:7C34  C3					retn
							                        ;* No entry point to code
F000:7C35  3C 04				cmp	al,4
F000:7C37  73 56				jae	short loc_ret_177	; Jump if above or =
F000:7C39  E3 54				jcxz	short loc_ret_177	; Jump if cx=0
F000:7C3B  98					cbw				; Convrt byte to word
F000:7C3C  8B F8				mov	di,ax
F000:7C3E  8B F3				mov	si,bx
F000:7C40  32 DB				xor	bl,bl			; Zero register
F000:7C42  86 DF				xchg	bl,bh
F000:7C44  87 DE				xchg	bx,si
F000:7C46  D1 E6				shl	si,1			; Shift w/zeros fill
F000:7C48  FF B4 0050				push	vid_curs_pos0[si]	; (0040:0050=184Fh)
F000:7C4C  B4 02				mov	ah,2
F000:7C4E  CD 10				int	10h			; Video display   ah=functn 02h
										;  set cursor location in dx

F000:7C50			locloop_172:					;  xref F000:7C84
F000:7C50  26: 8A 46 00				mov	al,es:[bp]
F000:7C54  45					inc	bp
F000:7C55  3C 08				cmp	al,8
F000:7C57  74 0C				je	short loc_173		; Jump if equal
F000:7C59  3C 0D				cmp	al,0Dh
F000:7C5B  74 08				je	short loc_173		; Jump if equal
F000:7C5D  3C 07				cmp	al,7
F000:7C5F  74 04				je	short loc_173		; Jump if equal
F000:7C61  3C 0A				cmp	al,0Ah
F000:7C63  75 0A				jne	short loc_174		; Jump if not equal
F000:7C65			loc_173:					;  xref F000:7C57, 7C5B, 7C5F
F000:7C65  B4 0E				mov	ah,0Eh
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 44

F000:7C67  CD 10				int	10h			; Video display   ah=functn 0Eh
										;  write char al, teletype mode
F000:7C69  8B 94 0050				mov	dx,vid_curs_pos0[si]	; (0040:0050=184Fh)
F000:7C6D  EB 11				jmp	short loc_176		; (7C80)
F000:7C6F			loc_174:					;  xref F000:7C63
F000:7C6F  83 FF 01				cmp	di,1
F000:7C72  76 05				jbe	short loc_175		; Jump if below or =
F000:7C74  26: 8A 5E 00				mov	bl,es:[bp]
F000:7C78  45					inc	bp
F000:7C79			loc_175:					;  xref F000:7C72
F000:7C79  B4 09				mov	ah,9
F000:7C7B  51					push	cx
F000:7C7C  E8 0011				call	sub_27			; (7C90)
F000:7C7F  59					pop	cx
F000:7C80			loc_176:					;  xref F000:7C6D
F000:7C80  B4 02				mov	ah,2
F000:7C82  CD 10				int	10h			; Video display   ah=functn 02h
										;  set cursor location in dx
F000:7C84  E2 CA				loop	locloop_172		; Loop if cx > 0

F000:7C86  5A					pop	dx
F000:7C87  D1 EF				shr	di,1			; Shift w/zeros fill
F000:7C89  72 04				jc	short loc_ret_177	; Jump if carry Set
F000:7C8B  B4 02				mov	ah,2
F000:7C8D  CD 10				int	10h			; Video display   ah=functn 02h
										;  set cursor location in dx

F000:7C8F			loc_ret_177:					;  xref F000:7C37, 7C39, 7C89
F000:7C8F  C3					retn

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:7BF2, 7C7C
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_27		proc	near
F000:7C90  B9 0001				mov	cx,1
F000:7C93  CD 10				int	10h			; Video display   ah=functn 0Ah
										;  set char al at present curs
										;   cx=# of chars to replicate
F000:7C95  FE C2				inc	dl
F000:7C97  3A 16 004A				cmp	dl,byte ptr video_columns	; (0040:004A=50h)
F000:7C9B  75 31				jne	short loc_ret_180	; Jump if not equal
F000:7C9D  32 D2				xor	dl,dl			; Zero register

				;пппп External Entry into Subroutine пппппппппппппппппппппппппппппппппппппп
				;
				;         Called from:   F000:7C0D

				sub_28:
F000:7C9F  FE C6				inc	dh
F000:7CA1  80 FE 19				cmp	dh,19h
F000:7CA4  75 28				jne	short loc_ret_180	; Jump if not equal
F000:7CA6  FE CE				dec	dh
F000:7CA8  80 3E 0049 07			cmp	video_mode,7		; (0040:0049=3)
F000:7CAD  74 09				je	short loc_178		; Jump if equal
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 45

F000:7CAF  80 3E 0049 04			cmp	video_mode,4		; (0040:0049=3)
F000:7CB4  B4 00				mov	ah,0
F000:7CB6  73 04				jnc	short loc_179		; Jump if carry=0
F000:7CB8			loc_178:					;  xref F000:7CAD
F000:7CB8  B4 08				mov	ah,8
F000:7CBA  CD 10				int	10h			; Video display   ah=functn 08h
										;  get char al & attrib ah @curs
F000:7CBC			loc_179:					;  xref F000:7CB6
F000:7CBC  53					push	bx
F000:7CBD  52					push	dx
F000:7CBE  33 C9				xor	cx,cx			; Zero register
F000:7CC0  8A 16 004A				mov	dl,byte ptr video_columns	; (0040:004A=50h)
F000:7CC4  FE CA				dec	dl
F000:7CC6  BB 0601				mov	bx,601h
F000:7CC9  93					xchg	bx,ax
F000:7CCA  CD 10				int	10h			; Video display   ah=functn 06h
										;  scroll up, al=lines
										;   bh=attrib, cx+dx=window size
F000:7CCC  5A					pop	dx
F000:7CCD  5B					pop	bx

F000:7CCE			loc_ret_180:					;  xref F000:7C9B, 7CA4
F000:7CCE  C3					retn
				sub_27		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:7BB2, 7BCD
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_29		proc	near
F000:7CCF  D1 CA				ror	dx,1			; Rotate
F000:7CD1  B0 50				mov	al,50h			; 'P'
F000:7CD3  F6 E2				mul	dl			; ax = reg * al
F000:7CD5  D0 E6				shl	dh,1			; Shift w/zeros fill
F000:7CD7  73 03				jnc	short loc_181		; Jump if carry=0
F000:7CD9  05 2000				add	ax,2000h
F000:7CDC			loc_181:					;  xref F000:7CD7
F000:7CDC  8B F0				mov	si,ax
F000:7CDE  8B C1				mov	ax,cx
F000:7CE0  B9 0103				mov	cx,103h
F000:7CE3  B2 07				mov	dl,7
F000:7CE5  22 D0				and	dl,al
F000:7CE7  80 3E 0049 06			cmp	video_mode,6		; (0040:0049=3)
F000:7CEC  73 0B				jae	short loc_182		; Jump if above or =
F000:7CEE  B9 0302				mov	cx,302h
F000:7CF1  B2 03				mov	dl,3
F000:7CF3  22 D0				and	dl,al
F000:7CF5  D0 E2				shl	dl,1			; Shift w/zeros fill
F000:7CF7  FE C2				inc	dl
F000:7CF9			loc_182:					;  xref F000:7CEC
F000:7CF9  FE C2				inc	dl
F000:7CFB  D3 E8				shr	ax,cl			; Shift w/zeros fill
F000:7CFD  03 F0				add	si,ax
F000:7CFF  8A CA				mov	cl,dl
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 46

F000:7D01  26: 8A 04				mov	al,es:[si]
F000:7D04  D2 C0				rol	al,cl			; Rotate
F000:7D06  C3					retn
				sub_29		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:7994, 799C
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_30		proc	near
F000:7D07  8B D0				mov	dx,ax
F000:7D09  D1 E0				shl	ax,1			; Shift w/zeros fill
F000:7D0B  0B C2				or	ax,dx
F000:7D0D  86 C4				xchg	al,ah
F000:7D0F  B9 0008				mov	cx,8

F000:7D12			locloop_183:					;  xref F000:7D18
F000:7D12  D1 E0				shl	ax,1			; Shift w/zeros fill
F000:7D14  D0 D2				rcl	dl,1			; Rotate thru carry
F000:7D16  D1 E0				shl	ax,1			; Shift w/zeros fill
F000:7D18  E2 F8				loop	locloop_183		; Loop if cx > 0

F000:7D1A  88 13				mov	[bp+di],dl
F000:7D1C  47					inc	di
F000:7D1D  C3					retn
				sub_30		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:7B2A, 7B38
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_31		proc	near
F000:7D1E  B4 08				mov	ah,8
F000:7D20			loc_184:					;  xref F000:7D28
F000:7D20  D0 E0				shl	al,1			; Shift w/zeros fill
F000:7D22  D1 D3				rcl	bx,1			; Rotate thru carry
F000:7D24  D1 E3				shl	bx,1			; Shift w/zeros fill
F000:7D26  FE CC				dec	ah
F000:7D28  75 F6				jnz	loc_184			; Jump if not zero
F000:7D2A  8B C3				mov	ax,bx
F000:7D2C  D1 E8				shr	ax,1			; Shift w/zeros fill
F000:7D2E  0B C3				or	ax,bx
F000:7D30  22 C6				and	al,dh
F000:7D32  22 E6				and	ah,dh
F000:7D34  86 C4				xchg	al,ah
F000:7D36  22 D2				and	dl,dl
F000:7D38  C3					retn
				sub_31		endp

							                        ;* No entry point to code
F000:7D39  50					push	ax
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 47

F000:7D3A  A0 0010				mov	al,byte ptr equip_bits	; (0040:0010=63h)
F000:7D3D  24 30				and	al,30h			; '0'
F000:7D3F  3C 30				cmp	al,30h			; '0'
F000:7D41  58					pop	ax
F000:7D42  C3					retn
F000:7D43  00					db	0

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:7E42
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_32		proc	near
F000:7D44  57					push	di
F000:7D45  C6 06 0073 50			mov	byte ptr warm_boot_flag+1,50h	; (0040:0073=0) 'P'
F000:7D4A  E8 598D				call	sub_311			; (D6DA)
F000:7D4D  B9 0003				mov	cx,3
F000:7D50  B8 0C1D				mov	ax,0C1Dh

F000:7D53			locloop_185:					;  xref F000:7D63
F000:7D53  50					push	ax
F000:7D54  51					push	cx
F000:7D55  8B D0				mov	dx,ax
F000:7D57  E8 5965				call	sub_303			; (D6BF)
F000:7D5A  E8 000F				call	sub_33			; (7D6C)
F000:7D5D  59					pop	cx
F000:7D5E  58					pop	ax
F000:7D5F  74 04				jz	short loc_186		; Jump if zero
F000:7D61  FE C4				inc	ah
F000:7D63  E2 EE				loop	locloop_185		; Loop if cx > 0

F000:7D65			loc_186:					;  xref F000:7D5F
F000:7D65  C6 06 0073 00			mov	byte ptr warm_boot_flag+1,0	; (0040:0073=0)
F000:7D6A  5F					pop	di
F000:7D6B  C3					retn
				sub_32		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:7D5A
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_33		proc	near
F000:7D6C  E8 6EBF				call	sub_353			; (EC2E)
F000:7D6F  75 40				jnz	short loc_192		; Jump if not zero
F000:7D71  E8 006F				call	sub_35			; (7DE3)
F000:7D74  E3 38				jcxz	short loc_191		; Jump if cx=0
F000:7D76  51					push	cx
F000:7D77  E8 7086				call	sub_370			; (EE00)
F000:7D7A  E8 2F73				call	sub_167			; (ACF0)
F000:7D7D  59					pop	cx
F000:7D7E  B7 B8				mov	bh,0B8h
F000:7D80  B3 80				mov	bl,80h

           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 48

F000:7D82			locloop_187:					;  xref F000:7D97, 7D99
F000:7D82 њE8 008A				call	sub_37			; (7E0F)
F000:7D85  74 1F				jz	short loc_190		; Jump if zero
F000:7D87  72 1B				jc	short loc_189		; Jump if carry Set
F000:7D89  E8 004A				call	sub_34			; (7DD6)
F000:7D8C  8A C7				mov	al,bh
F000:7D8E  FE C7				inc	bh
F000:7D90  E8 6E4E				call	sub_348			; (EBE1)
F000:7D93  38 D8				cmp	al,bl
F000:7D95  75 04				jne	short loc_188		; Jump if not equal
F000:7D97  E2 E9				loop	locloop_187		; Loop if cx > 0

F000:7D99  EB E7				jmp	short locloop_187	; (7D82)
F000:7D9B			loc_188:					;  xref F000:7D95, 7DA0, 7DD0
F000:7D9B  E8 0071				call	sub_37			; (7E0F)
F000:7D9E  74 06				jz	short loc_190		; Jump if zero
F000:7DA0  73 F9				jnc	loc_188			; Jump if carry=0
F000:7DA2  EB 02				jmp	short loc_190		; (7DA6)
F000:7DA4			loc_189:					;  xref F000:7D87, 7DC7
F000:7DA4  E3 08				jcxz	short loc_191		; Jump if cx=0
F000:7DA6			loc_190:					;  xref F000:7D85, 7D9E, 7DA2, 7DC5
F000:7DA6  B0 58				mov	al,58h			; 'X'
F000:7DA8  E8 591A				call	sub_305			; (D6C5)
F000:7DAB  0B E4				or	sp,sp			; Zero ?
F000:7DAD  C3					retn
F000:7DAE			loc_191:					;  xref F000:7D74, 7DA4, 7DB4
F000:7DAE  3B E4				cmp	sp,sp
F000:7DB0  C3					retn
F000:7DB1			loc_192:					;  xref F000:7D6F
F000:7DB1  E8 0045				call	sub_36			; (7DF9)
F000:7DB4  E3 F8				jcxz	loc_191			; Jump if cx=0
F000:7DB6  56					push	si
F000:7DB7  51					push	cx
F000:7DB8  E8 7045				call	sub_370			; (EE00)
F000:7DBB  E8 2F36				call	sub_168			; (ACF4)
F000:7DBE  59					pop	cx
F000:7DBF  5E					pop	si
F000:7DC0  B3 80				mov	bl,80h

F000:7DC2			locloop_193:					;  xref F000:7DD2, 7DD4
F000:7DC2 њE8 004A				call	sub_37			; (7E0F)
F000:7DC5  74 DF				jz	loc_190			; Jump if zero
F000:7DC7  72 DB				jc	loc_189			; Jump if carry Set
F000:7DC9  E8 000A				call	sub_34			; (7DD6)
F000:7DCC  2E: AC				lods	byte ptr cs:[si]	; String [si] to al
F000:7DCE  38 C3				cmp	bl,al
F000:7DD0  75 C9				jne	loc_188			; Jump if not equal
F000:7DD2  E2 EE				loop	locloop_193		; Loop if cx > 0

F000:7DD4  EB EC				jmp	short locloop_193	; (7DC2)
				sub_33		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:7D89, 7DC9
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 49

				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_34		proc	near
F000:7DD6			loc_194:					;  xref F000:7DE0
F000:7DD6  F6 C3 C3				test	bl,0C3h
F000:7DD9  7A 01				jp	short loc_195		; Jump if parity=1
F000:7DDB  F9					stc				; Set carry flag
F000:7DDC			loc_195:					;  xref F000:7DD9
F000:7DDC  D0 DB				rcr	bl,1			; Rotate thru carry
F000:7DDE  FE C8				dec	al
F000:7DE0  75 F4				jnz	loc_194			; Jump if not zero
F000:7DE2  C3					retn
				sub_34		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:7D71
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_35		proc	near
F000:7DE3  33 C9				xor	cx,cx			; Zero register
F000:7DE5  B4 B8				mov	ah,0B8h
F000:7DE7			loc_196:					;  xref F000:7DF6
F000:7DE7  8A C4				mov	al,ah
F000:7DE9  E8 6DF5				call	sub_348			; (EBE1)
F000:7DEC  0A C0				or	al,al			; Zero ?
F000:7DEE  74 08				jz	short loc_ret_197	; Jump if zero
F000:7DF0  41					inc	cx
F000:7DF1  FE C4				inc	ah
F000:7DF3  80 FC BE				cmp	ah,0BEh
F000:7DF6  75 EF				jne	loc_196			; Jump if not equal

F000:7DF8			loc_ret_197:					;  xref F000:7DEE
F000:7DF8  C3					retn
				sub_35		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:7DB1
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_36		proc	near
F000:7DF9  33 C9				xor	cx,cx			; Zero register
F000:7DFB њBE 8238				mov	si,offset data_99	; (F000:8238=0)
F000:7DFE  56					push	si
F000:7DFF			loc_198:					;  xref F000:7E0B
F000:7DFF  2E: 80 3C 00				cmp	byte ptr cs:[si],0
F000:7E03  74 08				je	short loc_199		; Jump if equal
F000:7E05  41					inc	cx
F000:7E06  46					inc	si
F000:7E07  81 FE 823E				cmp	si,823Eh
F000:7E0B  75 F2				jne	loc_198			; Jump if not equal
F000:7E0D			loc_199:					;  xref F000:7E03
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 50

F000:7E0D  5E					pop	si
F000:7E0E  C3					retn
				sub_36		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:7D82, 7D9B, 7DC2
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_37		proc	near
F000:7E0F  53					push	bx
F000:7E10			loc_200:					;  xref F000:7E22, 7E30, 7E34
F000:7E10  FB					sti				; Enable interrupts
F000:7E11  E8 580A				call	sub_297			; (D61E)
F000:7E14  3C 1B				cmp	al,1Bh
F000:7E16  74 22				je	short loc_204		; Jump if equal
F000:7E18  3C 0D				cmp	al,0Dh
F000:7E1A  74 21				je	short loc_205		; Jump if equal
F000:7E1C  3C 39				cmp	al,39h			; '9'
F000:7E1E  77 0C				ja	short loc_202		; Jump if above
F000:7E20  3C 30				cmp	al,30h			; '0'
F000:7E22  72 EC				jb	loc_200			; Jump if below
F000:7E24  75 02				jnz	short loc_201		; Jump if not zero
F000:7E26  B0 3A				mov	al,3Ah			; ':'
F000:7E28			loc_201:					;  xref F000:7E24
F000:7E28  2C 2F				sub	al,2Fh			; '/'
F000:7E2A  EB 0C				jmp	short loc_203		; (7E38)
F000:7E2C			loc_202:					;  xref F000:7E1E
F000:7E2C  24 DF				and	al,0DFh
F000:7E2E  3C 41				cmp	al,41h			; 'A'
F000:7E30  72 DE				jb	loc_200			; Jump if below
F000:7E32  3C 5A				cmp	al,5Ah			; 'Z'
F000:7E34  77 DA				ja	loc_200			; Jump if above
F000:7E36  8A C4				mov	al,ah
F000:7E38			loc_203:					;  xref F000:7E2A
F000:7E38  0B E4				or	sp,sp			; Zero ?
F000:7E3A			loc_204:					;  xref F000:7E16
F000:7E3A  F8					clc				; Clear carry flag
F000:7E3B  EB 03				jmp	short loc_206		; (7E40)
F000:7E3D			loc_205:					;  xref F000:7E1A
F000:7E3D  0B E4				or	sp,sp			; Zero ?
F000:7E3F  F9					stc				; Set carry flag
F000:7E40			loc_206:					;  xref F000:7E3B
F000:7E40  5B					pop	bx
F000:7E41  C3					retn
				sub_37		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:AE4D
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_38		proc	near
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 51

F000:7E42  E8 FEFF				call	sub_32			; (7D44)
F000:7E45  74 18				jz	short loc_ret_209	; Jump if zero
F000:7E47  E8 8049				call	sub_407			; (FE93)
F000:7E4A  24 10				and	al,10h
F000:7E4C  74 0F				jz	short loc_208		; Jump if zero
F000:7E4E  E8 6FAF				call	sub_370			; (EE00)
F000:7E51  B9 0001				mov	cx,1
F000:7E54  B3 87				mov	bl,87h
F000:7E56  B0 02				mov	al,2
F000:7E58  E8 5875				call	sub_308			; (D6D0)
F000:7E5B			loc_207:					;  xref F000:7E5B
F000:7E5B  EB FE				jmp	short loc_207		; (7E5B)
F000:7E5D			loc_208:					;  xref F000:7E4C
F000:7E5D  0C FF				or	al,0FFh

F000:7E5F			loc_ret_209:					;  xref F000:7E45
F000:7E5F  C3					retn
				sub_38		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:A02F, A166
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_39		proc	near
F000:7E60  51					push	cx
F000:7E61  0A EE				or	ch,dh
F000:7E63  49					dec	cx
F000:7E64  59					pop	cx
F000:7E65  75 22				jnz	short loc_211		; Jump if not zero

				;пппп External Entry into Subroutine пппппппппппппппппппппппппппппппппппппп
				;
				;         Called from:   F000:A068

				sub_40:
F000:7E67  50					push	ax
F000:7E68  E8 801F				call	sub_406			; (FE8A)
F000:7E6B  A8 40				test	al,40h			; '@'
F000:7E6D  74 19				jz	short loc_210		; Jump if zero
F000:7E6F  F6 06 0016 08			test	byte ptr error_codes+1,8	; (0040:0016=8)
F000:7E74  74 12				jz	short loc_210		; Jump if zero
F000:7E76  58					pop	ax
F000:7E77  51					push	cx
F000:7E78  53					push	bx
F000:7E79  B1 02				mov	cl,2
F000:7E7B  B5 22				mov	ch,22h			; '"'
F000:7E7D  E8 000B				call	sub_41			; (7E8B)
F000:7E80  5B					pop	bx
F000:7E81  59					pop	cx
F000:7E82  74 05				jz	short loc_211		; Jump if zero
F000:7E84  B4 80				mov	ah,80h
F000:7E86  F9					stc				; Set carry flag
F000:7E87  C3					retn
F000:7E88			loc_210:					;  xref F000:7E6D, 7E74
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 52

F000:7E88  58					pop	ax
F000:7E89			loc_211:					;  xref F000:7E65, 7E82
F000:7E89  F8					clc				; Clear carry flag
F000:7E8A  C3					retn
				sub_39		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:7E7D
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_41		proc	near
F000:7E8B  1E					push	ds
F000:7E8C  60					pusha				; Save all regs
F000:7E8D  FB					sti				; Enable interrupts
F000:7E8E  83 EC 06				sub	sp,6
F000:7E91  8B EC				mov	bp,sp
F000:7E93  89 5E 00				mov	[bp],bx
F000:7E96  89 4E 02				mov	[bp+2],cx
F000:7E99  6A 40				push	40h
F000:7E9B  1F					pop	ds
F000:7E9C  8A 3E 0062				mov	bh,video_page		; (0040:0062=0)
F000:7EA0  E8 5818				call	sub_302			; (D6BB)
F000:7EA3  52					push	dx
F000:7EA4  51					push	cx
F000:7EA5  B9 0207				mov	cx,207h
F000:7EA8  E8 582B				call	sub_310			; (D6D6)
F000:7EAB  E8 003F				call	sub_42			; (7EED)
F000:7EAE  E8 00BD				call	sub_44			; (7F6E)
F000:7EB1  E8 0063				call	sub_43			; (7F17)
F000:7EB4  80 EA 02				sub	dl,2
F000:7EB7  E8 5807				call	sub_304			; (D6C1)
F000:7EBA			loc_212:					;  xref F000:7ED0
F000:7EBA  E8 6F43				call	sub_370			; (EE00)
F000:7EBD  E8 575E				call	sub_297			; (D61E)
F000:7EC0  B9 0001				mov	cx,1
F000:7EC3  50					push	ax
F000:7EC4  E8 580B				call	sub_309			; (D6D2)
F000:7EC7  58					pop	ax
F000:7EC8  24 DF				and	al,0DFh
F000:7ECA  3C 59				cmp	al,59h			; 'Y'
F000:7ECC  74 04				je	short loc_213		; Jump if equal
F000:7ECE  3C 4E				cmp	al,4Eh			; 'N'
F000:7ED0  75 E8				jne	loc_212			; Jump if not equal
F000:7ED2			loc_213:					;  xref F000:7ECC
F000:7ED2  88 46 04				mov	[bp+4],al
F000:7ED5  8B D7				mov	dx,di
F000:7ED7  E8 00BA				call	sub_45			; (7F94)
F000:7EDA  59					pop	cx
F000:7EDB  5A					pop	dx
F000:7EDC  E8 57F7				call	sub_310			; (D6D6)
F000:7EDF  E8 57DF				call	sub_304			; (D6C1)
F000:7EE2  8A 46 04				mov	al,[bp+4]
F000:7EE5  83 C4 06				add	sp,6
F000:7EE8  3C 59				cmp	al,59h			; 'Y'
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 53

F000:7EEA  61					popa				; Restore all regs
F000:7EEB  1F					pop	ds
F000:7EEC  C3					retn
				sub_41		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:7EAB
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_42		proc	near
F000:7EED  A0 0084				mov	al,video_rows		; (0040:0084=18h)
F000:7EF0  D0 E8				shr	al,1			; Shift w/zeros fill
F000:7EF2  FE C8				dec	al
F000:7EF4  8A F0				mov	dh,al
F000:7EF6  A1 004A				mov	ax,video_columns	; (0040:004A=50h)
F000:7EF9  8A 4E 03				mov	cl,[bp+3]
F000:7EFC  B5 00				mov	ch,0
F000:7EFE  2B C1				sub	ax,cx
F000:7F00  D1 E8				shr	ax,1			; Shift w/zeros fill
F000:7F02  8A D0				mov	dl,al
F000:7F04  B3 8F				mov	bl,8Fh
F000:7F06  A0 0049				mov	al,video_mode		; (0040:0049=3)
F000:7F09  3C 07				cmp	al,7
F000:7F0B  74 06				je	short loc_214		; Jump if equal
F000:7F0D  3C 03				cmp	al,3
F000:7F0F  76 02				jbe	short loc_214		; Jump if below or =
F000:7F11  B3 07				mov	bl,7
F000:7F13			loc_214:					;  xref F000:7F0B, 7F0F
F000:7F13  88 5E 05				mov	[bp+5],bl
F000:7F16  C3					retn
				sub_42		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:7EB1
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_43		proc	near
F000:7F17  80 FB 8F				cmp	bl,8Fh
F000:7F1A  74 1C				je	short loc_216		; Jump if equal
F000:7F1C  BE 0002				mov	si,2
F000:7F1F  FE CE				dec	dh
F000:7F21			loc_215:					;  xref F000:7F34
F000:7F21  E8 579D				call	sub_304			; (D6C1)
F000:7F24  B5 00				mov	ch,0
F000:7F26  8A 4E 03				mov	cl,[bp+3]
F000:7F29  B0 20				mov	al,20h			; ' '
F000:7F2B  E8 57A4				call	sub_309			; (D6D2)
F000:7F2E  8B D7				mov	dx,di
F000:7F30  02 76 02				add	dh,[bp+2]
F000:7F33  4E					dec	si
F000:7F34  75 EB				jnz	loc_215			; Jump if not zero
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 54

F000:7F36  8B D7				mov	dx,di
F000:7F38			loc_216:					;  xref F000:7F1A
F000:7F38  1E					push	ds
F000:7F39  32 C0				xor	al,al			; Zero register
F000:7F3B  E8 2E5D				call	sub_178			; (AD9B)
F000:7F3E  8A 4E 02				mov	cl,[bp+2]
F000:7F41  B5 00				mov	ch,0
F000:7F43			loc_217:					;  xref F000:7F6A
F000:7F43 њ51					push	cx
F000:7F44  8A 4E 03				mov	cl,[bp+3]

F000:7F47			locloop_218:					;  xref F000:7F59
F000:7F47  E8 5777				call	sub_304			; (D6C1)
F000:7F4A  AC					lodsb				; String [si] to al
F000:7F4B  0A C0				or	al,al			; Zero ?
F000:7F4D  74 0C				jz	short loc_219		; Jump if zero
F000:7F4F  51					push	cx
F000:7F50  B9 0001				mov	cx,1
F000:7F53  E8 577C				call	sub_309			; (D6D2)
F000:7F56  59					pop	cx
F000:7F57  FE C2				inc	dl
F000:7F59  E2 EC				loop	locloop_218		; Loop if cx > 0

F000:7F5B			loc_219:					;  xref F000:7F4D
F000:7F5B  59					pop	cx
F000:7F5C  49					dec	cx
F000:7F5D  74 0D				jz	short loc_220		; Jump if zero
F000:7F5F  B0 01				mov	al,1
F000:7F61  E8 2E37				call	sub_178			; (AD9B)
F000:7F64  8B C7				mov	ax,di
F000:7F66  8A D0				mov	dl,al
F000:7F68  FE C6				inc	dh
F000:7F6A  EB D7				jmp	short loc_217		; (7F43)
F000:7F6C			loc_220:					;  xref F000:7F5D
F000:7F6C  1F					pop	ds
F000:7F6D  C3					retn
				sub_43		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:7EAE
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_44		proc	near
F000:7F6E  5E					pop	si
F000:7F6F  8B FA				mov	di,dx
F000:7F71			loc_221:					;  xref F000:7F8E
F000:7F71  B5 00				mov	ch,0
F000:7F73  8A 4E 03				mov	cl,[bp+3]

F000:7F76			locloop_222:					;  xref F000:7F7F
F000:7F76  E8 5748				call	sub_304			; (D6C1)
F000:7F79  E8 5750				call	sub_307			; (D6CC)
F000:7F7C  50					push	ax
F000:7F7D  FE C2				inc	dl
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 55

F000:7F7F  E2 F5				loop	locloop_222		; Loop if cx > 0

F000:7F81  8B C7				mov	ax,di
F000:7F83  8A D0				mov	dl,al
F000:7F85  FE C6				inc	dh
F000:7F87  8B CF				mov	cx,di
F000:7F89  02 6E 02				add	ch,[bp+2]
F000:7F8C  38 EE				cmp	dh,ch
F000:7F8E  72 E1				jb	loc_221			; Jump if below
F000:7F90  8B D7				mov	dx,di
F000:7F92  FF E6				jmp	si			;*Register jump

				;пппп External Entry into Subroutine пппппппппппппппппппппппппппппппппппппп
				;
				;         Called from:   F000:7ED7

				sub_45:
F000:7F94  5E					pop	si
F000:7F95  8B 4E 02				mov	cx,[bp+2]
F000:7F98  02 D5				add	dl,ch
F000:7F9A  FE CA				dec	dl
F000:7F9C  02 F1				add	dh,cl
F000:7F9E  FE CE				dec	dh
F000:7FA0  8B FA				mov	di,dx
F000:7FA2			loc_223:					;  xref F000:7FCB
F000:7FA2  8A 4E 03				mov	cl,[bp+3]
F000:7FA5  B5 00				mov	ch,0

F000:7FA7			locloop_224:					;  xref F000:7FC0
F000:7FA7  E8 5717				call	sub_304			; (D6C1)
F000:7FAA  58					pop	ax
F000:7FAB  80 7E 05 8F				cmp	byte ptr [bp+5],8Fh
F000:7FAF  74 03				je	short loc_225		; Jump if equal
F000:7FB1  B8 0720				mov	ax,720h
F000:7FB4			loc_225:					;  xref F000:7FAF
F000:7FB4  8A DC				mov	bl,ah
F000:7FB6  51					push	cx
F000:7FB7  B9 0001				mov	cx,1
F000:7FBA  E8 5715				call	sub_309			; (D6D2)
F000:7FBD  59					pop	cx
F000:7FBE  FE CA				dec	dl
F000:7FC0  E2 E5				loop	locloop_224		; Loop if cx > 0

F000:7FC2  8B C7				mov	ax,di
F000:7FC4  8A D0				mov	dl,al
F000:7FC6  FE CE				dec	dh
F000:7FC8  FE 4E 02				dec	byte ptr [bp+2]
F000:7FCB  75 D5				jnz	loc_223			; Jump if not zero
F000:7FCD  FF E6				jmp	si			;*Register jump
F000:7FCF  0031[00]				db	49 dup (0)
F000:8000  41 4D 49 42 49 4F			db	'AMIBIOS W 05 10 10/10/94(C)1994 '
F000:8006  53 20 57 20 30 35
F000:800C  20 31 30 20 31 30
F000:8012  2F 31 30 2F 39 34
F000:8018  28 43 29 31 39 39
F000:801E  34 20
F000:8020  41 6D 65 72 69 63			db	'American Megatrends Inc., All Ri'
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 56

F000:8026  61 6E 20 4D 65 67
F000:802C  61 74 72 65 6E 64
F000:8032  73 20 49 6E 63 2E
F000:8038  2C 20 41 6C 6C 20
F000:803E  52 69
F000:8040  67 68 74 73 20 52			db	'ghts Reserved'
F000:8046  65 73 65 72 76 65
F000:804C  64
F000:804D  00 00 00				db	0, 0, 0
F000:8050  28 43 29 31 39 39			db	'(C)1994 American Megatrends Inc.'
F000:8056  34 20 41 6D 65 72
F000:805C  69 63 61 6E 20 4D
F000:8062  65 67 61 74 72 65
F000:8068  6E 64 73 20 49 6E
F000:806E  63 2E
F000:8070  2C					db	','
F000:8071  0007[00]				db	7 dup (0)
F000:8078  34					db	34h
F000:8079  31 2D 50 34 30 30			db	'1-P400-001437-00101'
F000:807F  2D 30 30 31 34 33
F000:8085  37 2D 30 30 31 30
F000:808B  31
F000:808C  31 31 31 2D 31 30			db	'111-101094-486AVIP'
F000:8092  31 30 39 34 2D 34
F000:8098  38 36 41 56 49 50
F000:809E  00 00				db	0, 0
F000:80A0  30 30 30 2D 30 2D			db	'000-0-0000-00-00-0000-00-00-000'
F000:80A6  30 30 30 30 2D 30
F000:80AC  30 2D 30 30 2D 30
F000:80B2  30 30 30 2D 30 30
F000:80B8  2D 30 30 2D 30 30
F000:80BE  30
F000:80BF  00					db	0
F000:80C0  0008[00]				db	8 dup (0)
F000:80C8  30 30 30 2D 30 2D			db	'000-0-0000-00-00-0000-00-00-00-1'
F000:80CE  30 30 30 30 2D 30
F000:80D4  30 2D 30 30 2D 30
F000:80DA  30 30 30 2D 30 30
F000:80E0  2D 30 30 2D 30 30
F000:80E6  2D 31
F000:80E8  00					db	0
F000:80E9  0007[00]				db	7 dup (0)
F000:80F0  20 20 20 20 20 20			db	'                AMIBIOS (C)1994 '
F000:80F6  20 20 20 20 20 20
F000:80FC  20 20 20 20 41 4D
F000:8102  49 42 49 4F 53 20
F000:8108  28 43 29 31 39 39
F000:810E  34 20
F000:8110  41 6D 65 72 69 63			db	'American Megatrends Inc.,       '
F000:8116  61 6E 20 4D 65 67
F000:811C  61 74 72 65 6E 64
F000:8122  73 20 49 6E 63 2E
F000:8128  2C 20 20 20 20 20
F000:812E  20 20
F000:8130  0D 0A 52 65 6C 65			db	0Dh, 0Ah, 'Release 11/08/1995    '
F000:8136  61 73 65 20 31 31
F000:813C  2F 30 38 2F 31 39
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 57

F000:8142  39 35 20 20 20 20
F000:8148  20 20 20 20 20 20			db	'                                '
F000:814E  20 20 20 20 20 20
F000:8154  20 20 20 20 20 20
F000:815A  20 20 20 20 20 20
F000:8160  20 20 20 20 20 20
F000:8166  20 20
F000:8168  20 20 20 20 20 20			db	'                        ', 0Dh, 0Ah
F000:816E  20 20 20 20 20 20
F000:8174  20 20 20 20 20 20
F000:817A  20 20 20 20 20 20
F000:8180  0D 0A
F000:8182  20 20 20 20 20 20			db	'                                '
F000:8188  20 20 20 20 20 20
F000:818E  20 20 20 20 20 20
F000:8194  20 20 20 20 20 20
F000:819A  20 20 20 20 20 20
F000:81A0  20 20
F000:81A2  20 20 20 20 20 20			db	'                                '
F000:81A8  20 20 20 20 20 20
F000:81AE  20 20 20 20 20 20
F000:81B4  20 20 20 20 20 20
F000:81BA  20 20 20 20 20 20
F000:81C0  20 20
F000:81C2  20 20 20 20 20 20			db	'              ', 0Dh, 0Ah
F000:81C8  20 20 20 20 20 20
F000:81CE  20 20 0D 0A
F000:81D2  003E[00]				db	62 dup (0)
F000:8210  40 8B 00 40 3D 80			db	 40h, 8Bh, 00h, 40h, 3Dh, 80h
F000:8216  02					db	 02h
F000:8217  0016[00]				db	22 dup (0)
F000:822D  08 02 5B 00 00 19			db	 08h, 02h, 5Bh, 00h, 00h, 19h
F000:8233  00					db	 00h
F000:8234  00 00 00 00				db	0, 0, 0, 0
F000:8238  00			data_99		db	0			;  xref F000:7DFB
F000:8239  00 00 00 00 00 06			db	 00h, 00h, 00h, 00h, 00h, 06h
F000:823F  79 F8 03 F8 02 E8			db	 79h,0F8h, 03h,0F8h, 02h,0E8h
F000:8245  03 E8 02 BC 03 78			db	 03h,0E8h, 02h,0BCh, 03h, 78h
F000:824B  03 78 02 00 00			db	 03h, 78h, 02h, 00h, 00h
F000:8250  01			data_100	db	1			;  xref F000:B59D
F000:8251  00			data_101	db	0			;  xref F000:B5AA
F000:8252  0000			data_102	dw	0			;  xref F000:B5B7
F000:8254  00			data_103	db	0			;  xref F000:B5CA
F000:8255  00			data_104	db	0			;  xref F000:B5C5
F000:8256  00			data_105	db	0			;  xref F000:ED3C
F000:8257  00					db	0
F000:8258  01			data_106	db	1			;  xref F000:B647
F000:8259  00			data_107	db	0			;  xref F000:B656
F000:825A  0000			data_108	dw	0			;  xref F000:B663
F000:825C  00			data_109	db	0			;  xref F000:B676
F000:825D  00			data_110	db	0			;  xref F000:B671
F000:825E  4E			data_111	db	4Eh			;  xref F000:B53A
F000:825F  00					db	0
F000:8260  01			data_112	db	1			;  xref F000:B558
F000:8261  00			data_113	db	0			;  xref F000:B565
F000:8262  0000			data_114	dw	0			;  xref F000:B572
F000:8264  00			data_115	db	0			;  xref F000:B585
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 58

F000:8265  00			data_116	db	0			;  xref F000:B580
F000:8266  00 00				db	0, 0
F000:8268  01			data_117	db	1			;  xref F000:B5E2
F000:8269  00			data_118	db	0			;  xref F000:B5F1
F000:826A  0000			data_119	dw	0			;  xref F000:B5FE
F000:826C  00			data_120	db	0			;  xref F000:B611
F000:826D  00			data_121	db	0			;  xref F000:B60C
F000:826E  4A			data_122	db	4Ah			;  xref F000:B522
F000:826F  00					db	0
F000:8270  41			data_123	db	41h			;  xref F000:B483, B495
F000:8271  01 35 2B 00 00 02			db	 01h, 35h, 2Bh, 00h, 00h, 02h
F000:8277  1F					db	 1Fh
F000:8278  01F0			data_124	dw	1F0h			;  xref F000:9F9E, A8CF, B36B
F000:827A  0E			data_125	db	0Eh			;  xref F000:A8CA
F000:827B  00					db	0
F000:827C  0170			data_126	dw	170h			;  xref F000:B377
F000:827E  0F			data_127	db	0Fh			;  xref F000:A8D6
F000:827F  00					db	0
F000:8280  2F			data_128	db	2Fh			;  xref F000:8F66, EA09
F000:8281  00			data_129	db	0			;  xref F000:84CB, 8576, B3F0, B622
										;            B636, C6E5, E7F1, EFA8
										;            F06B
F000:8282  7F 1F 00				db	 7Fh, 1Fh, 00h
F000:8285  00			data_130	db	0			;  xref F000:E73D, E769, E777, E7A5
										;            E7B3, E7DF, F85F, F87C
F000:8286  12 00 00 00 00 00			db	 12h, 00h, 00h, 00h, 00h, 00h
F000:828C  6F00			data_131	dw	6F00h			;  xref F000:C765, C78A
F000:828E  30 B2 3D B8 67 B8			db	 30h,0B2h, 3Dh,0B8h, 67h,0B8h
F000:8294  67 B8 B1 B9 19 BB			db	 67h,0B8h,0B1h,0B9h, 19h,0BBh
F000:829A  43 BB 4D BB 6B BB			db	 43h,0BBh, 4Dh,0BBh, 6Bh,0BBh
F000:82A0  C4 00 6F 01 6F 01			db	0C4h, 00h, 6Fh, 01h, 6Fh, 01h
F000:82A6  6B 02 6B 02 B0 03			db	 6Bh, 02h, 6Bh, 02h,0B0h, 03h
F000:82AC  9F 04 28 05 B0 03			db	 9Fh, 04h, 28h, 05h,0B0h, 03h
F000:82B2  C4 03 E0 82 00 00			db	0C4h, 03h,0E0h, 82h, 00h, 00h
F000:82B8  00 00 34 B2 6F BB			db	 00h, 00h, 34h,0B2h, 6Fh,0BBh
F000:82BE  00 00 1A 1A 1C 0F			db	 00h, 00h, 1Ah, 1Ah, 1Ch, 0Fh
F000:82C4  04 01 00 00 6D BB			db	 04h, 01h, 00h, 00h, 6Dh,0BBh
F000:82CA  00D5			data_132	dw	0D5h			;  xref F000:9E1C, 9E38, EFF3
F000:82CC  D2 13 52 14 EF CD			db	0D2h, 13h, 52h, 14h,0EFh,0CDh
F000:82D2  23 CE FC CD 09 CE			db	 23h,0CEh,0FCh,0CDh, 09h,0CEh
F000:82D8  16 CE 30 CE 00 00			db	 16h,0CEh, 30h,0CEh, 00h, 00h
F000:82DE  00 00				db	 00h, 00h
F000:82E0  30			data_133	db	30h			;  xref F000:9D7A
F000:82E1  83 00 F0 00 00 00			db	 83h, 00h,0F0h, 00h, 00h, 00h
F000:82E7  E0					db	0E0h
F000:82E8  0019[00]				db	25 dup (0)
F000:8301  0D 0E 1C 2C FF FF			db	 0Dh, 0Eh, 1Ch, 2Ch,0FFh,0FFh
F000:8307  C0 1D 04 38 08 1B			db	0C0h, 1Dh, 04h, 38h, 08h, 1Bh
F000:830D  02 1A 01 0E 10 2B			db	 02h, 1Ah, 01h, 0Eh, 10h, 2Bh
F000:8313  20 00 CA 00 00 FF			db	 20h, 00h,0CAh, 00h, 00h,0FFh
F000:8319  FF 00 FF FF 00 FF			db	0FFh, 00h,0FFh,0FFh, 00h,0FFh
F000:831F  FF 00 FF FF 00 FF			db	0FFh, 00h,0FFh,0FFh, 00h,0FFh
F000:8325  FF 00				db	0FFh, 00h
F000:8327  0009[00]				db	9 dup (0)
F000:8330  3C 65 4C 06 E4 0D			db	 3Ch, 65h, 4Ch, 06h,0E4h, 0Dh
F000:8336  22 11 94 12 92 68			db	 22h, 11h, 94h, 12h, 92h, 68h
F000:833C  FE D7 B0 6A 7C D9			db	0FEh,0D7h,0B0h, 6Ah, 7Ch,0D9h
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 59

F000:8342  E8 6C 69 4B 91			db	0E8h, 6Ch, 69h, 4Bh, 91h
F000:8347  4B					db	4Bh

				;пппп External Entry into Subroutine пппппппппппппппппппппппппппппппппппппп
				;
				;         Called from:   F000:AE66

				sub_46:
F000:8348  E9 E300				jmp	loc_6			; (664B)
				sub_44		endp

F000:834B			loc_226:					;  xref F000:842B
F000:834B њE9 8A52				jmp	loc_2			; (0DA0)

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:AE5F
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_47		proc	near
F000:834E  E9 9835				jmp	loc_4			; (1B86)
				sub_47		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:AE06
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_48		proc	near
F000:8351  E9 9817				jmp	loc_3			; (1B6B)
				sub_48		endp

F000:8354  E9 13 98				db	0E9h, 13h, 98h

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:A9F0
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_49		proc	near
F000:8357  E9 B765				jmp	loc_5			; (3ABF)
				sub_49		endp

F000:835A  E9 51 87 E9 12 88			db	0E9h, 51h, 87h,0E9h, 12h, 88h
F000:8360  41 4D 49 42 49 4F			db	'AMIBIOS AMIBIOSS'
F000:8366  53 20 41 4D 49 42
F000:836C  49 4F 53 53

F000:8370			system_reset	proc	near			;  xref F000:E05B
F000:8370 њFA					cli				; Disable interrupts
F000:8371  FC					cld				; Clear direction
F000:8372  E9 3029				jmp	loc_779			; (B39E)
F000:8375			loc_227:					;  xref F000:B3A2
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 60

F000:8375 њ75 03				jnz	short loc_228		; Jump if not zero
F000:8377  E9 302B				jmp	loc_780			; (B3A5)
F000:837A			loc_228:					;  xref F000:8375
F000:837A  E9 3043				jmp	loc_782			; (B3C0)
F000:837D			loc_229:					;  xref F000:B3E7
F000:837D њB0 8F				mov	al,8Fh
F000:837F  E6 70				out	70h,al			; port 70h, CMOS addr,bit7=NMI
										;  al = 8Fh, shutdown status
F000:8381  E3 00				jcxz	short $+2		; delay for I/O
F000:8383  E3 00				jcxz	short $+2		; delay for I/O
F000:8385  E4 71				in	al,71h			; port 71h, CMOS data
F000:8387  B4 00				mov	ah,0
F000:8389  8B F0				mov	si,ax
F000:838B  B0 8F				mov	al,8Fh
F000:838D  E3 00				jcxz	short $+2		; delay for I/O
F000:838F  E6 70				out	70h,al			; port 70h, CMOS addr,bit7=NMI
										;  al = 8Fh, shutdown status
F000:8391  B0 00				mov	al,0
F000:8393  E3 00				jcxz	short $+2		; delay for I/O
F000:8395  E3 00				jcxz	short $+2		; delay for I/O
F000:8397  E6 71				out	71h,al			; port 71h, CMOS data
F000:8399  8C C8				mov	ax,cs
F000:839B  8E D0				mov	ss,ax
F000:839D  8B C6				mov	ax,si
F000:839F  3C 04				cmp	al,4
F000:83A1  74 0A				je	short loc_230		; Jump if equal
F000:83A3  3C 05				cmp	al,5
F000:83A5  74 06				je	short loc_230		; Jump if equal
F000:83A7  3C 0A				cmp	al,0Ah
F000:83A9  76 0D				jbe	short loc_231		; Jump if below or =
F000:83AB  EB 3F				jmp	short loc_235		; (83EC)
F000:83AD			loc_230:					;  xref F000:83A1, 83A5
F000:83AD  BB 0870				mov	bx,870h
F000:83B0 њBC 83B6				mov	sp,offset data_136	; (F000:83B6=0B8h)
F000:83B3  E9 67BD				jmp	loc_1240		; (EB73)
F000:83B6  83B8			data_136	dw	offset loc_231		;  xref F000:83B0
F000:83B8			loc_231:					;  xref F000:83A9, 83B6
F000:83B8  E9 3035				jmp	loc_787			; (B3F0)
F000:83BB			loc_232:					;  xref F000:B426
F000:83BB њB8 0040				mov	ax,seg_b
F000:83BE  8E D8				mov	ds,ax
F000:83C0  B0 00				mov	al,0
F000:83C2  8E C0				mov	es,ax
F000:83C4  B0 30				mov	al,30h			; '0'
F000:83C6  8E D0				mov	ss,ax
F000:83C8  BC 0100				mov	sp,100h
F000:83CB  D1 E6				shl	si,1			; Shift w/zeros fill
F000:83CD  2E: FF A4 83D2			jmp	word ptr cs:data_137[si]	;*(F000:83D2=83ECh)  2 entries
F000:83D2  83EC			data_137	dw	offset loc_235		; Data table (indexed access)
										;  xref F000:83CD
F000:83D4  854C			data_138	dw	offset loc_251		;  xref F000:83CD
F000:83D6  32 FA 5A 83 38 FA			db	 32h,0FAh, 5Ah, 83h, 38h,0FAh
F000:83DC  46 FA 5D 83 EA B3			db	 46h,0FAh, 5Dh, 83h,0EAh,0B3h
F000:83E2  ED B3 81 85 4C FA			db	0EDh,0B3h, 81h, 85h, 4Ch,0FAh
F000:83E8			loc_234:					;  xref F000:B3BD
F000:83E8 њB0 8D				mov	al,8Dh
F000:83EA  E6 70				out	70h,al			; port 70h, CMOS addr,bit7=NMI
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 61

										;  al = 8Dh, status register D

				;ФФФФФ Indexed Entry Point ФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФ

F000:83EC			loc_235:					;  xref F000:83AB, 83CD, 83D2
F000:83EC  B0 03				mov	al,3
F000:83EE  BE 83F4				mov	si,83F4h
F000:83F1  E9 52B4				jmp	loc_1145		; (D6A8)
							                        ;* No entry point to code
F000:83F4  8C C8				mov	ax,cs
F000:83F6  8E D0				mov	ss,ax
F000:83F8  33 ED				xor	bp,bp			; Zero register
F000:83FA  8E DD				mov	ds,bp
F000:83FC  8E C5				mov	es,bp
F000:83FE  E9 529F				jmp	loc_1144		; (D6A0)
F000:8401			loc_236:					;  xref F000:D6A4
F000:8401 њ74 0E				jz	short loc_237		; Jump if zero
F000:8403  81 3E 0472 1234			cmp	word ptr ds:data_26e,1234h	; (0040:0472=0C000h)
F000:8409  75 0A				jne	short loc_238		; Jump if not equal
F000:840B  81 CD 8000				or	bp,8000h
F000:840F  EB 04				jmp	short loc_238		; (8415)
F000:8411			loc_237:					;  xref F000:8401
F000:8411  81 CD 1000				or	bp,1000h
F000:8415			loc_238:					;  xref F000:8409, 840F
F000:8415  B0 05				mov	al,5
F000:8417  BE 841D				mov	si,841Dh
F000:841A  E9 528B				jmp	loc_1145		; (D6A8)
F000:841D  E9 09 30				db	0E9h, 09h, 30h
F000:8420			loc_239:					;  xref F000:B480
F000:8420 њB0 06				mov	al,6
F000:8422 њBE 8428				mov	si,data_81e		; (5000:8428=0FFh)
F000:8425  E9 5280				jmp	loc_1145		; (D6A8)
F000:8428  E9 A1 42				db	0E9h,0A1h, 42h
F000:842B			loc_240:					;  xref F000:C74F
F000:842B њE9 FF1D				jmp	loc_226			; (834B)
F000:842E			loc_241:					;  xref F000:85D5
F000:842E  2C 86				sub	al,86h
F000:8430  2C 86				sub	al,86h
F000:8432  2C 86				sub	al,86h
F000:8434  7B 86		;*		jnp	loc_233			;*Jump if not parity
F000:8434  7B 86				db	 7Bh, 86h
F000:8436  A1 2C86				mov	ax,ds:data_80e		; (5000:2C86=0FFFFh)
F000:8439  86 33				xchg	[bp+di],dh
F000:843B  86 55 84				xchg	[di-7Ch],dl
F000:843E  0B 86 86D6				or	ax,[bp-792Ah]
F000:8442  00 86 8600				add	[bp-7A00h],al
F000:8446  00 86 8600				add	[bp-7A00h],al
F000:844A  00 86 8600				add	[bp-7A00h],al
F000:844E  2C 86				sub	al,86h
F000:8450  07					pop	es
F000:8451  86 E9				xchg	ch,cl
F000:8453  46					inc	si
F000:8454  01 58 EB				add	[bx+si-15h],bx
F000:8457  08 E9				or	cl,ch
F000:8459  3A 01				cmp	al,[bx+di]
F000:845B			loc_244:					;  xref F000:9680
F000:845B њ80 FC 87				cmp	ah,87h
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 62

F000:845E  75 F2		;*		jne	loc_242			;*Jump if not equal
F000:845E  75 F2				db	 75h,0F2h
F000:8460  FA					cli				; Disable interrupts
F000:8461  FC					cld				; Clear direction
F000:8462  60					pusha				; Save all regs
F000:8463  06					push	es
F000:8464  1E					push	ds
F000:8465  8B D9				mov	bx,cx
F000:8467  E8 3019				call	sub_200			; (B483)
F000:846A  8B CB				mov	cx,bx
F000:846C  75 EA		;*		jnz	loc_243			;*Jump if not zero
F000:846C  75 EA				db	 75h,0EAh
F000:846E  B0 02				mov	al,2
F000:8470  E6 80				out	80h,al			; port 80h, POST checkpoint
F000:8472  BB 0040				mov	bx,seg seg_b
F000:8475  8E DB				mov	ds,bx
F000:8477  89 26 0067				mov	@gen_use_ptr,sp		; (0040:0067=17A4h)
F000:847B  8C 16 0069				mov	@gen_use_seg,ss		; (0040:0069=857Dh)
F000:847F  B0 8F				mov	al,8Fh
F000:8481  E6 70				out	70h,al			; port 70h, CMOS addr,bit7=NMI
										;  al = 8Fh, shutdown status
F000:8483  8C C0				mov	ax,es
F000:8485  8E D8				mov	ds,ax
F000:8487  8A DC				mov	bl,ah
F000:8489  C1 E0 04				shl	ax,4			; Shift w/zeros fill
F000:848C  C0 EB 04				shr	bl,4			; Shift w/zeros fill
F000:848F  03 C6				add	ax,si
F000:8491  80 D3 00				adc	bl,0
F000:8494  89 44 0A				mov	[si+0Ah],ax
F000:8497  89 5C 0C				mov	[si+0Ch],bx
F000:849A  B8 FFFF				mov	ax,0FFFFh
F000:849D  89 44 08				mov	[si+8],ax
F000:84A0  89 44 10				mov	[si+10h],ax
F000:84A3  89 44 18				mov	[si+18h],ax
F000:84A6  B0 09				mov	al,9
F000:84A8  E6 71				out	71h,al			; port 71h, CMOS data
F000:84AA  0F 01 54 08				lgdt	fword ptr [si+8]	; Load global des tbl
F000:84AE  2E: 0F 01 1E E270			lidt	fword ptr cs:gdt_limit_2	; (F000:E270=100h) Load int des table
F000:84B4  0F 01 E0				smsw	ax			; Store machine stat
F000:84B7  0C 01				or	al,1
F000:84B9  0F 01 F0				lmsw	ax			; Load machine status
F000:84BC  EB 00				jmp	short $+2		; delay for I/O
F000:84BE  B8 0010				mov	ax,10h
F000:84C1  8E D8				mov	ds,ax
F000:84C3  B0 18				mov	al,18h
F000:84C5  8E C0				mov	es,ax
F000:84C7  33 F6				xor	si,si			; Zero register
F000:84C9  33 FF				xor	di,di			; Zero register
F000:84CB  2E: F6 06 8281 40			test	cs:data_129,40h		; (F000:8281=0) '@'
F000:84D1  75 5C				jnz	short loc_249		; Jump if not zero
F000:84D3  D1 E9				shr	cx,1			; Shift w/zeros fill
F000:84D5  F3/ 66| A5				rep	movsd			; Rep when cx >0 Mov [si] to es:[di]
F000:84D8  73 01				jnc	short loc_245		; Jump if carry=0
F000:84DA  A5					movsw				; Mov [si] to es:[di]
F000:84DB			loc_245:					;  xref F000:84D8
F000:84DB  E4 61				in	al,61h			; port 61h, 8255 port B, read
F000:84DD  24 C0				and	al,0C0h
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 63

F000:84DF  75 78				jnz	short loc_252		; Jump if not zero
F000:84E1			loc_246:					;  xref F000:857E
F000:84E1 њE6 80				out	80h,al			; port 80h, POST checkpoint
F000:84E3  2E: 0F 01 16 E268			lgdt	fword ptr cs:gdt_limit_1	; (F000:E268=60h) Load global des tbl
F000:84E9  B8 0040				mov	ax,seg_b
F000:84EC  8E D8				mov	ds,ax
F000:84EE  8E C0				mov	es,ax
F000:84F0  66| C1 C8 10				ror	eax,10h			; Rotate
F000:84F4  8B C8				mov	cx,ax
F000:84F6  0F 20 C0				mov	eax,cr0			; Mov reg-control reg
F000:84F9  24 FE				and	al,0FEh
F000:84FB  0F 22 C0				mov	cr0,eax			; Mov reg-control reg
F000:84FE  EB 00				jmp	short $+2		; delay for I/O
F000:8500  8B C1				mov	ax,cx
F000:8502  66| C1 C8 10				ror	eax,10h			; Rotate
F000:8506  2E: 0F 01 1E E2B8			lidt	fword ptr cs:data_263	; (F000:E2B8=3FFh) Load int des table
F000:850C  E8 2F86				call	sub_201			; (B495)
F000:850F  B0 0F				mov	al,0Fh
F000:8511  E6 70				out	70h,al			; port 70h, CMOS addr,bit7=NMI
										;  al = 0Fh, shutdown status
F000:8513  E3 00				jcxz	short $+2		; delay for I/O
F000:8515  E3 00				jcxz	short $+2		; delay for I/O
F000:8517  B0 00				mov	al,0
F000:8519  E6 71				out	71h,al			; port 71h, CMOS data
F000:851B  75 78				jnz	short loc_255		; Jump if not zero
F000:851D			loc_247:					;  xref F000:8593, 8599
F000:851D њ1F					pop	ds
F000:851E  07					pop	es
F000:851F  61					popa				; Restore all regs
F000:8520  86 C4				xchg	al,ah
F000:8522  E4 80				in	al,80h			; port 80h, POST checkpoint
F000:8524  86 C4				xchg	al,ah
F000:8526  0A E4				or	ah,ah			; Zero ?
F000:8528  74 01				jz	short loc_248		; Jump if zero
F000:852A  F9					stc				; Set carry flag
F000:852B			loc_248:					;  xref F000:8528
F000:852B  FB					sti				; Enable interrupts
F000:852C  CA 0002				retf	2			; Return far
				system_reset	endp

F000:852F			loc_249:					;  xref F000:84D1
F000:852F  F3/ A5				rep	movsw			; Rep when cx >0 Mov [si] to es:[di]
F000:8531  E4 61				in	al,61h			; port 61h, 8255 port B, read
F000:8533  24 C0				and	al,0C0h
F000:8535  75 22				jnz	short loc_252		; Jump if not zero
F000:8537			loc_250:					;  xref F000:857C
F000:8537  E6 80				out	80h,al			; port 80h, POST checkpoint
F000:8539  E3 00				jcxz	short $+2		; delay for I/O
F000:853B  E3 00				jcxz	short $+2		; delay for I/O
F000:853D  B0 8F				mov	al,8Fh
F000:853F  E6 70				out	70h,al			; port 70h, CMOS addr,bit7=NMI
										;  al = 8Fh, shutdown status
F000:8541  E3 00				jcxz	short $+2		; delay for I/O
F000:8543  E3 00				jcxz	short $+2		; delay for I/O
F000:8545  B0 01				mov	al,1
F000:8547  E6 71				out	71h,al			; port 71h, CMOS data
F000:8549  E9 6B1E				jmp	ROM_exception		; (F06A)
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 64


				;ФФФФФ Indexed Entry Point ФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФ

F000:854C			loc_251:					;  xref F000:83CD, 83D4
F000:854C  8E 16 0069				mov	ss,@gen_use_seg		; (0040:0069=857Dh)
F000:8550  8B 26 0067				mov	sp,@gen_use_ptr		; (0040:0067=17A4h)
F000:8554  E8 2F3E				call	sub_201			; (B495)
F000:8557  EB 36				jmp	short loc_254		; (858F)
F000:8559			loc_252:					;  xref F000:84DF, 8535
F000:8559  83 EE 04				sub	si,4
F000:855C  8B 04				mov	ax,[si]
F000:855E  89 04				mov	[si],ax
F000:8560  8B 44 02				mov	ax,[si+2]
F000:8563  89 44 02				mov	[si+2],ax
F000:8566  8B 04				mov	ax,[si]
F000:8568  8B 44 02				mov	ax,[si+2]
F000:856B  E8 669C				call	sub_350			; (EC0A)
F000:856E  A8 80				test	al,80h
F000:8570  B0 01				mov	al,1
F000:8572  74 02				jz	short loc_253		; Jump if zero
F000:8574  B0 00				mov	al,0
F000:8576			loc_253:					;  xref F000:8572
F000:8576  2E: F6 06 8281 40			test	cs:data_129,40h		; (F000:8281=0) '@'
F000:857C  75 B9				jnz	loc_250			; Jump if not zero
F000:857E  E9 FF60				jmp	loc_246			; (84E1)
							                        ;* No entry point to code
F000:8581  8E 16 0069				mov	ss,@gen_use_seg		; (0040:0069=857Dh)
F000:8585  8B 26 0067				mov	sp,@gen_use_ptr		; (0040:0067=17A4h)
F000:8589  E8 2F09				call	sub_201			; (B495)
F000:858C  E8 6787				call	sub_366			; (ED16)
F000:858F			loc_254:					;  xref F000:8557
F000:858F  B0 0D				mov	al,0Dh
F000:8591  E6 70				out	70h,al			; port 70h, CMOS addr,bit7=NMI
										;  al = 0Dh, status register D
F000:8593  74 88				jz	loc_247			; Jump if zero
F000:8595			loc_255:					;  xref F000:851B
F000:8595  B0 03				mov	al,3
F000:8597  E6 80				out	80h,al			; port 80h, POST checkpoint
F000:8599  EB 82				jmp	short loc_247		; (851D)
F000:859B			loc_256:
F000:859B  E8 2F1C				call	sub_202			; (B4BA)
F000:859E  3D E801				cmp	ax,0E801h
F000:85A1  75 22				jne	short loc_259		; Jump if not equal
F000:85A3  B8 3536				mov	ax,3536h
F000:85A6  FA					cli				; Disable interrupts
F000:85A7  E8 646F				call	sub_341			; (EA19)
F000:85AA  FB					sti				; Enable interrupts
F000:85AB  8B D8				mov	bx,ax
F000:85AD  81 EB 00F0				sub	bx,0F0h
F000:85B1  78 05				js	short loc_257		; Jump if sign=1
F000:85B3  B8 3C00				mov	ax,3C00h
F000:85B6  EB 05				jmp	short loc_258		; (85BD)
F000:85B8			loc_257:					;  xref F000:85B1
F000:85B8  C1 E0 06				shl	ax,6			; Shift w/zeros fill
F000:85BB  33 DB				xor	bx,bx			; Zero register
F000:85BD			loc_258:					;  xref F000:85B6
F000:85BD  8B C8				mov	cx,ax
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 65

F000:85BF  8B D3				mov	dx,bx
F000:85C1  F8					clc				; Clear carry flag
F000:85C2  CA 0002				retf	2			; Return far
F000:85C5			loc_259:					;  xref F000:85A1
F000:85C5  FB					sti				; Enable interrupts
F000:85C6  50					push	ax
F000:85C7  8A C4				mov	al,ah
F000:85C9  2C 80				sub	al,80h
F000:85CB  78 33				js	short loc_262		; Jump if sign=1
F000:85CD  3C 12				cmp	al,12h
F000:85CF  73 43				jae	short loc_263		; Jump if above or =
F000:85D1  32 E4				xor	ah,ah			; Zero register
F000:85D3  D1 E0				shl	ax,1			; Shift w/zeros fill
F000:85D5 њ05 842E				add	ax,offset loc_241
F000:85D8  55					push	bp
F000:85D9  8B E8				mov	bp,ax
F000:85DB  2E: 8B 46 00				mov	ax,cs:[bp]
F000:85DF  5D					pop	bp
F000:85E0  FF E0				jmp	ax			;*Register jump
F000:85E2			loc_260:					;  xref F000:8616
F000:85E2  E8 6424				call	sub_340			; (EA09)
F000:85E5  74 19				jz	short loc_262		; Jump if zero
F000:85E7  3C 42				cmp	al,42h			; 'B'
F000:85E9  75 04				jne	short loc_261		; Jump if not equal
F000:85EB  58					pop	ax
F000:85EC  E9 6B19				jmp	loc_1298		; (F108)
F000:85EF			loc_261:					;  xref F000:85E9
F000:85EF  3C 41				cmp	al,41h			; 'A'
F000:85F1  75 0D				jne	short loc_262		; Jump if not equal
F000:85F3  58					pop	ax
F000:85F4  6A 40				push	40h
F000:85F6  07					pop	es
F000:85F7  26: 8E 06 000E			mov	es,es:BIOS_data_seg	; (0040:000E=0)
F000:85FC  F8					clc				; Clear carry flag
F000:85FD  CA 0002				retf	2			; Return far
F000:8600			loc_262:					;  xref F000:85CB, 85E5, 85F1, 86A6
F000:8600 њ58					pop	ax
F000:8601  B4 86				mov	ah,86h
F000:8603  F9					stc				; Set carry flag
F000:8604  CA 0002				retf	2
							                        ;* No entry point to code
F000:8607  58					pop	ax
F000:8608  B4 00				mov	ah,0
F000:860A  CF					iret				; Interrupt return
							                        ;* No entry point to code
F000:860B  58					pop	ax
F000:860C  B8 3031				mov	ax,3031h
F000:860F  FA					cli				; Disable interrupts
F000:8610  E8 6406				call	sub_341			; (EA19)
F000:8613  CF					iret				; Interrupt return
F000:8614			loc_263:					;  xref F000:85CF
F000:8614  3C 40				cmp	al,40h			; '@'
F000:8616  75 CA				jne	loc_260			; Jump if not equal
F000:8618  BB E6F5				mov	bx,0E6F5h
F000:861B  1E					push	ds
F000:861C  6A 40				push	40h
F000:861E  1F					pop	ds
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 66

F000:861F  F6 06 0015 80			test	byte ptr error_codes,80h	; (0040:0015=1)
F000:8624  1F					pop	ds
F000:8625  74 03				jz	short loc_264		; Jump if zero
F000:8627  BB E712				mov	bx,0E712h
F000:862A			loc_264:					;  xref F000:8625
F000:862A  0E					push	cs
F000:862B  07					pop	es
F000:862C  F8					clc				; Clear carry flag
F000:862D			loc_265:					;  xref F000:8679, 8684, 869A, 869F
F000:862D њ58					pop	ax
F000:862E  B4 00				mov	ah,0
F000:8630  CA 0002				retf	2
							                        ;* No entry point to code
F000:8633  53					push	bx
F000:8634  06					push	es
F000:8635  6A 40				push	40h
F000:8637  07					pop	es
F000:8638  BB 00A0				mov	bx,0A0h
F000:863B  E8 634C				call	sub_336			; (E98A)
F000:863E  72 37				jc	short loc_268		; Jump if carry Set
F000:8640  51					push	cx
F000:8641  52					push	dx
F000:8642  1E					push	ds
F000:8643  53					push	bx
F000:8644  06					push	es
F000:8645  1F					pop	ds
F000:8646  BB 0004				mov	bx,4
F000:8649  E8 6370				call	sub_337			; (E9BC)
F000:864C  51					push	cx
F000:864D  52					push	dx
F000:864E  B3 04				mov	bl,4
F000:8650  E8 6369				call	sub_337			; (E9BC)
F000:8653  51					push	cx
F000:8654  52					push	dx
F000:8655  B3 03				mov	bl,3
F000:8657  E8 6362				call	sub_337			; (E9BC)
F000:865A  58					pop	ax
F000:865B  03 D0				add	dx,ax
F000:865D  58					pop	ax
F000:865E  13 C8				adc	cx,ax
F000:8660  58					pop	ax
F000:8661  03 D0				add	dx,ax
F000:8663  58					pop	ax
F000:8664  13 C8				adc	cx,ax
F000:8666  5B					pop	bx
F000:8667  87 CA				xchg	cx,dx
F000:8669			loc_266:					;  xref F000:866F
F000:8669  E8 6146				call	sub_333			; (E7B2)
F000:866C  73 03				jnc	short loc_267		; Jump if carry=0
F000:866E  4A					dec	dx
F000:866F  79 F8				jns	loc_266			; Jump if not sign
F000:8671			loc_267:					;  xref F000:866C
F000:8671  C6 07 00				mov	byte ptr [bx],0
F000:8674  1F					pop	ds
F000:8675  5A					pop	dx
F000:8676  59					pop	cx
F000:8677			loc_268:					;  xref F000:863E
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 67

F000:8677  07					pop	es
F000:8678  5B					pop	bx
F000:8679  EB B2				jmp	short loc_265		; (862D)
							                        ;* No entry point to code
F000:867B  58					pop	ax
F000:867C  50					push	ax
F000:867D  0A C0				or	al,al			; Zero ?
F000:867F  74 1B				jz	short loc_269		; Jump if zero
F000:8681  3C 01				cmp	al,1
F000:8683  F9					stc				; Set carry flag
F000:8684  75 A7				jnz	loc_265			; Jump if not zero
F000:8686  FA					cli				; Disable interrupts
F000:8687  E8 6543				call	sub_345			; (EBCD)
F000:868A  24 BF				and	al,0BFh
F000:868C  E8 654A				call	sub_347			; (EBD9)
F000:868F  1E					push	ds
F000:8690  6A 40				push	40h
F000:8692  1F					pop	ds
F000:8693  C6 06 00A0 00			mov	timer_clk_flag,0	; (0040:00A0=0)
F000:8698  FB					sti				; Enable interrupts
F000:8699  1F					pop	ds
F000:869A  EB 91				jmp	short loc_265		; (862D)
F000:869C			loc_269:					;  xref F000:867F
F000:869C  E8 62EB				call	sub_336			; (E98A)
F000:869F  EB 8C				jmp	short loc_265		; (862D)
							                        ;* No entry point to code
F000:86A1  80 FA 01				cmp	dl,1
F000:86A4  76 03				jbe	short loc_270		; Jump if below or =
F000:86A6  E9 FF57				jmp	loc_262			; (8600)
F000:86A9			loc_270:					;  xref F000:86A4
F000:86A9  58					pop	ax
F000:86AA  52					push	dx
F000:86AB  BA 0201				mov	dx,201h
F000:86AE  74 06				jz	short loc_271		; Jump if zero
F000:86B0  EC					in	al,dx			; port 201h, start game 1-shots
F000:86B1  5A					pop	dx
F000:86B2  24 F0				and	al,0F0h
F000:86B4  EB 1D				jmp	short loc_ret_272	; (86D3)
F000:86B6			loc_271:					;  xref F000:86AE
F000:86B6  58					pop	ax
F000:86B7  B3 01				mov	bl,1
F000:86B9  E8 6308				call	sub_338			; (E9C4)
F000:86BC  D0 E3				shl	bl,1			; Shift w/zeros fill
F000:86BE  51					push	cx
F000:86BF  E8 6302				call	sub_338			; (E9C4)
F000:86C2  D0 E3				shl	bl,1			; Shift w/zeros fill
F000:86C4  51					push	cx
F000:86C5  E8 62FC				call	sub_338			; (E9C4)
F000:86C8  D0 E3				shl	bl,1			; Shift w/zeros fill
F000:86CA  51					push	cx
F000:86CB  E8 62F6				call	sub_338			; (E9C4)
F000:86CE  5A					pop	dx
F000:86CF  5B					pop	bx
F000:86D0  58					pop	ax
F000:86D1  87 CA				xchg	cx,dx

F000:86D3			loc_ret_272:					;  xref F000:86B4
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 68

F000:86D3  CA 0002				retf	2
							                        ;* No entry point to code
F000:86D6  FA					cli				; Disable interrupts
F000:86D7  51					push	cx
F000:86D8  E8 6637				call	sub_365			; (ED12)
F000:86DB  59					pop	cx
F000:86DC  58					pop	ax
F000:86DD  75 2F				jnz	short loc_273		; Jump if not zero
F000:86DF  E8 6499				call	sub_343			; (EB7B)
F000:86E2  06					push	es
F000:86E3  1F					pop	ds
F000:86E4  58					pop	ax
F000:86E5  83 C4 02				add	sp,2
F000:86E8  6A 30				push	30h
F000:86EA  50					push	ax
F000:86EB  0F 01 54 08				lgdt	fword ptr [si+8]	; Load global des tbl
F000:86EF  0F 01 5C 10				lidt	fword ptr [si+10h]	; Load int des table
F000:86F3  0F 01 E0				smsw	ax			; Store machine stat
F000:86F6  0C 01				or	al,1
F000:86F8  0F 01 F0				lmsw	ax			; Load machine status
F000:86FB  EB 00				jmp	short $+2		; delay for I/O
F000:86FD  B8 0028				mov	ax,28h
F000:8700  8E D0				mov	ss,ax
F000:8702  B0 18				mov	al,18h
F000:8704  8E D8				mov	ds,ax
F000:8706  B0 20				mov	al,20h			; ' '
F000:8708  8E C0				mov	es,ax
F000:870A  33 C0				xor	ax,ax			; Zero register
F000:870C  EB 04				jmp	short loc_ret_274	; (8712)
F000:870E			loc_273:					;  xref F000:86DD
F000:870E  F9					stc				; Set carry flag
F000:870F  B8 FFFF				mov	ax,0FFFFh

F000:8712			loc_ret_274:					;  xref F000:870C
F000:8712  CA 0002				retf	2			; Return far
F000:8715  00					db	0
F000:8716			loc_275:					;  xref F000:E005
F000:8716 њFA					cli				; Disable interrupts
F000:8717  8B EC				mov	bp,sp
F000:8719  B8 F000				mov	ax,seg_d
F000:871C  3B 46 02				cmp	ax,[bp+2]
F000:871F  75 0D				jne	short loc_276		; Jump if not equal
F000:8721  B8 877B				mov	ax,877Bh
F000:8724  3B 46 00				cmp	ax,[bp]
F000:8727  75 05				jne	short loc_276		; Jump if not equal
F000:8729  83 C4 06				add	sp,6
F000:872C  EB 50				jmp	short loc_278		; (877E)
F000:872E			loc_276:					;  xref F000:871F, 8727
F000:872E  E9 25C7				jmp	loc_722			; (ACF8)

F000:8731			int_19h_bootup	proc	near			;  xref F000:8787, E6F2
F000:8731 њ33 C0				xor	ax,ax			; Zero register
F000:8733  8E C0				mov	es,ax
F000:8735  FA					cli				; Disable interrupts
F000:8736  FC					cld				; Clear direction
F000:8737  B8 EFC7				mov	ax,0EFC7h
F000:873A њBF 0078				mov	di,disk_parm_off	; (0000:0078=22h)
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 69

F000:873D  AB					stosw				; Store ax to es:[di]
F000:873E  B8 F000				mov	ax,seg_d
F000:8741  AB					stosw				; Store ax to es:[di]
F000:8742 њBF 7C00				mov	di,data_12e		; (0000:7C00=0)
F000:8745  B9 0100				mov	cx,100h
F000:8748  F3/ AB				rep	stosw			; Rep when cx >0 Store ax to es:[di]
F000:874A  FB					sti				; Enable interrupts
F000:874B  33 D2				xor	dx,dx			; Zero register
F000:874D  33 C0				xor	ax,ax			; Zero register
F000:874F  CD 13				int	13h			; Disk  dl=drive a  ah=func 00h
										;  reset disk, al=return status
F000:8751  E8 7736				call	sub_406			; (FE8A)
F000:8754  24 06				and	al,6
F000:8756  74 31				jz	short loc_279		; Jump if zero
F000:8758  E8 0069				call	sub_50			; (87C4)
F000:875B  E8 25A0				call	sub_169			; (ACFE)
F000:875E  73 4C				jnc	short loc_281		; Jump if carry=0
F000:8760  E8 64CB				call	sub_353			; (EC2E)
F000:8763  A8 08				test	al,8
F000:8765  75 12				jnz	short loc_277		; Jump if not zero
F000:8767  B2 80				mov	dl,80h
F000:8769  E8 0058				call	sub_50			; (87C4)
F000:876C  E3 0B				jcxz	short loc_277		; Jump if cx=0
F000:876E  72 09				jc	short loc_277		; Jump if carry Set
F000:8770  26: 81 3E 7DFE AA55			cmp	word ptr es:[7DFEh],0AA55h	; (1030:7DFE=0C28Eh)
F000:8777  74 43				je	short loc_282		; Jump if equal
F000:8779			loc_277:					;  xref F000:8765, 876C, 876E, 87AA
										;            87BA
F000:8779  CD 18				int	18h			; ROM basic
F000:877B  E9 72BF				jmp	loc_1395		; (FA3D)
F000:877E			loc_278:					;  xref F000:872C
F000:877E  E8 2589				call	sub_170			; (AD0A)
F000:8781  E8 4E9A				call	sub_297			; (D61E)
F000:8784  E8 680F				call	sub_371			; (EF96)
F000:8787  EB A8				jmp	short int_19h_bootup	; (8731)
F000:8789			loc_279:					;  xref F000:8756
F000:8789  E8 64A2				call	sub_353			; (EC2E)
F000:878C  A8 08				test	al,8
F000:878E  75 12				jnz	short loc_280		; Jump if not zero
F000:8790  B2 80				mov	dl,80h
F000:8792  E8 002F				call	sub_50			; (87C4)
F000:8795  E3 0B				jcxz	short loc_280		; Jump if cx=0
F000:8797  72 09				jc	short loc_280		; Jump if carry Set
F000:8799  26: 81 3E 7DFE AA55			cmp	word ptr es:data_48e,0AA55h	; (0040:7DFE=61FDh)
F000:87A0  74 1A				je	short loc_282		; Jump if equal
F000:87A2			loc_280:					;  xref F000:878E, 8795, 8797
F000:87A2  B2 00				mov	dl,0
F000:87A4  E8 001D				call	sub_50			; (87C4)
F000:87A7  E8 2554				call	sub_169			; (ACFE)
F000:87AA  72 CD				jc	loc_277			; Jump if carry Set
F000:87AC			loc_281:					;  xref F000:875E
F000:87AC њBF 7C00				mov	di,data_47e		; (0040:7C00=0)
F000:87AF  26: 8B 05				mov	ax,es:[di]
F000:87B2  B9 0080				mov	cx,80h
F000:87B5  FA					cli				; Disable interrupts
F000:87B6  FC					cld				; Clear direction
F000:87B7  F3/ AE				repe	scasb			; Rep zf=1+cx >0 Scan es:[di] for al
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 70

F000:87B9  FB					sti				; Enable interrupts
F000:87BA  E3 BD				jcxz	loc_277			; Jump if cx=0
F000:87BC			loc_282:					;  xref F000:8777, 87A0
F000:87BC  E8 644B				call	sub_350			; (EC0A)
F000:87BF  EA 00007C00		;*		jmp	far ptr run_boot_sector	;*(0000:7C00)
F000:87BF  EA					db	0EAh
F000:87C0  7C00 0000				dw	7C00h, 0
				int_19h_bootup	endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:8758, 8769, 8792, 87A4
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_50		proc	near
F000:87C4  53					push	bx
F000:87C5  B9 0004				mov	cx,4
F000:87C8 њBB 7C00				mov	bx,data_12e		; (0000:7C00=0)

F000:87CB			locloop_283:					;  xref F000:87E1
F000:87CB  51					push	cx
F000:87CC  B9 0001				mov	cx,1
F000:87CF  B8 0201				mov	ax,201h
F000:87D2  CD 13				int	13h			; Disk  dl=drive a  ah=func 02h
										;  read sectors to memory es:bx
										;   al=#,ch=cyl,cl=sectr,dh=head
F000:87D4  59					pop	cx
F000:87D5  73 0C				jnc	short loc_284		; Jump if carry=0
F000:87D7  50					push	ax
F000:87D8  33 C0				xor	ax,ax			; Zero register
F000:87DA  CD 13				int	13h			; Disk  dl=drive a  ah=func 00h
										;  reset disk, al=return status
F000:87DC  58					pop	ax
F000:87DD  D0 E4				shl	ah,1			; Shift w/zeros fill
F000:87DF  72 02				jc	short loc_284		; Jump if carry Set
F000:87E1  E2 E8				loop	locloop_283		; Loop if cx > 0

F000:87E3			loc_284:					;  xref F000:87D5, 87DF
F000:87E3  5B					pop	bx
F000:87E4  C3					retn
				sub_50		endp

F000:87E5  00					db	0

F000:87E6			int_9_keyboard	proc	near			;  xref F000:E987
F000:87E6 њFB					sti				; Enable interrupts
F000:87E7  FC					cld				; Clear direction
F000:87E8  E8 34BD				call	sub_231			; (BCA8)
F000:87EB  60					pusha				; Save all regs
F000:87EC  1E					push	ds
F000:87ED  8B EC				mov	bp,sp
F000:87EF  6A 40				push	40h
F000:87F1  1F					pop	ds
F000:87F2  E9 2BA5				jmp	loc_778			; (B39A)
F000:87F5			loc_285:					;  xref F000:B39A
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 71

F000:87F5 њE8 6C6A				call	sub_398			; (F462)
F000:87F8  F9					stc				; Set carry flag
F000:87F9  B4 4F				mov	ah,4Fh
F000:87FB  CD 15				int	15h			; General services, ah=func 4Fh
										;  keybd intercept, al=scan code
F000:87FD  FA					cli				; Disable interrupts
F000:87FE  73 69				jnc	short loc_293		; Jump if carry=0
F000:8800  3C FE				cmp	al,0FEh
F000:8802  75 07				jne	short loc_286		; Jump if not equal
F000:8804  80 0E 0097 20			or	keybd_flags_4,20h	; (0040:0097=12h) ' '
F000:8809  EB 5E				jmp	short loc_293		; (8869)
F000:880B			loc_286:					;  xref F000:8802
F000:880B  3C FA				cmp	al,0FAh
F000:880D  75 07				jne	short loc_287		; Jump if not equal
F000:880F  80 0E 0097 10			or	keybd_flags_4,10h	; (0040:0097=12h)
F000:8814  EB 53				jmp	short loc_293		; (8869)
F000:8816			loc_287:					;  xref F000:880D
F000:8816  FB					sti				; Enable interrupts
F000:8817  50					push	ax
F000:8818  E8 5B72				call	sub_324			; (E38D)
F000:881B  74 03				jz	short loc_288		; Jump if zero
F000:881D  E8 5B2C				call	sub_322			; (E34C)
F000:8820			loc_288:					;  xref F000:881B
F000:8820  58					pop	ax
F000:8821  3C FD				cmp	al,0FDh
F000:8823  74 04				je	short loc_289		; Jump if equal
F000:8825  3C FF				cmp	al,0FFh
F000:8827  75 06				jne	short loc_290		; Jump if not equal
F000:8829			loc_289:					;  xref F000:8823
F000:8829  E8 5B36				call	sub_323			; (E362)
F000:882C  E9 033C				jmp	loc_358			; (8B6B)
F000:882F			loc_290:					;  xref F000:8827
F000:882F  F6 06 0096 C0			test	keybd_flags_3,0C0h	; (0040:0096=10h)
F000:8834  74 36				jz	short loc_294		; Jump if zero
F000:8836  79 10				jns	short loc_291		; Jump if not sign
F000:8838  80 26 0096 7F			and	keybd_flags_3,7Fh	; (0040:0096=10h)
F000:883D  3C AB				cmp	al,0ABh
F000:883F  75 28				jne	short loc_293		; Jump if not equal
F000:8841  80 0E 0096 40			or	keybd_flags_3,40h	; (0040:0096=10h) '@'
F000:8846  EB 21				jmp	short loc_293		; (8869)
F000:8848			loc_291:					;  xref F000:8836
F000:8848  80 26 0096 BF			and	keybd_flags_3,0BFh	; (0040:0096=10h)
F000:884D  3C 54				cmp	al,54h			; 'T'
F000:884F  74 13				je	short loc_292		; Jump if equal
F000:8851  3C 41				cmp	al,41h			; 'A'
F000:8853  75 14				jne	short loc_293		; Jump if not equal
F000:8855  F6 06 0096 20			test	keybd_flags_3,20h	; (0040:0096=10h) ' '
F000:885A  74 08				jz	short loc_292		; Jump if zero
F000:885C  80 0E 0017 20			or	keybd_flags_1,20h	; (0040:0017=20h) ' '
F000:8861  E8 5AE8				call	sub_322			; (E34C)
F000:8864			loc_292:					;  xref F000:884F, 885A
F000:8864  80 0E 0096 10			or	keybd_flags_3,10h	; (0040:0096=10h)
F000:8869			loc_293:					;  xref F000:87FE, 8809, 8814, 883F
										;            8846, 8853, 8896, 88A0
F000:8869 њE9 00A1				jmp	loc_306			; (890D)
F000:886C			loc_294:					;  xref F000:8834
F000:886C  3C E1				cmp	al,0E1h
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 72

F000:886E  75 07				jne	short loc_295		; Jump if not equal
F000:8870  80 0E 0096 11			or	keybd_flags_3,11h	; (0040:0096=10h)
F000:8875  EB 09				jmp	short loc_296		; (8880)
F000:8877			loc_295:					;  xref F000:886E
F000:8877  3C E0				cmp	al,0E0h
F000:8879  75 08				jne	short loc_297		; Jump if not equal
F000:887B  80 0E 0096 12			or	keybd_flags_3,12h	; (0040:0096=10h)
F000:8880			loc_296:					;  xref F000:8875
F000:8880  E9 008D				jmp	loc_307			; (8910)
F000:8883			loc_297:					;  xref F000:8879
F000:8883  A8 80				test	al,80h
F000:8885  75 03				jnz	short loc_298		; Jump if not zero
F000:8887  E9 0089				jmp	loc_308			; (8913)
F000:888A			loc_298:					;  xref F000:8885
F000:888A  24 7F				and	al,7Fh
F000:888C  E8 5B6C				call	sub_330			; (E3FB)
F000:888F  74 07				jz	short loc_299		; Jump if zero
F000:8891  E8 6BAE				call	sub_395			; (F442)
F000:8894  74 7A				jz	short loc_307		; Jump if zero
F000:8896  EB D1				jmp	short loc_293		; (8869)
F000:8898			loc_299:					;  xref F000:888F
F000:8898  E8 5B5A				call	sub_329			; (E3F5)
F000:889B  74 05				jz	short loc_300		; Jump if zero
F000:889D  E8 6BAE				call	sub_396			; (F44E)
F000:88A0  74 C7				jz	loc_293			; Jump if zero
F000:88A2			loc_300:					;  xref F000:889B
F000:88A2  E8 6B8C				call	sub_394			; (F431)
F000:88A5  74 06				jz	short loc_301		; Jump if zero
F000:88A7  B4 80				mov	ah,80h
F000:88A9  3C 52				cmp	al,52h			; 'R'
F000:88AB  75 08				jne	short loc_302		; Jump if not equal
F000:88AD			loc_301:					;  xref F000:88A5
F000:88AD  F6 D4				not	ah
F000:88AF  20 26 0018				and	keybd_flags_2,ah	; (0040:0018=0)
F000:88B3  EB 58				jmp	short loc_306		; (890D)
F000:88B5			loc_302:					;  xref F000:88AB
F000:88B5  3C 54				cmp	al,54h			; 'T'
F000:88B7  75 0B				jne	short loc_303		; Jump if not equal
F000:88B9  80 26 0018 FB			and	keybd_flags_2,0FBh	; (0040:0018=0)
F000:88BE  B8 8501				mov	ax,8501h
F000:88C1  E9 00B0				jmp	loc_313			; (8974)
F000:88C4			loc_303:					;  xref F000:88B7
F000:88C4  E8 6B7B				call	sub_395			; (F442)
F000:88C7  75 44				jnz	short loc_306		; Jump if not zero
F000:88C9  F6 D4				not	ah
F000:88CB  20 26 0017				and	keybd_flags_1,ah	; (0040:0017=20h)
F000:88CF  50					push	ax
F000:88D0  E8 6B7B				call	sub_396			; (F44E)
F000:88D3  58					pop	ax
F000:88D4  74 37				jz	short loc_306		; Jump if zero
F000:88D6  E8 5B1C				call	sub_329			; (E3F5)
F000:88D9  86 C4				xchg	al,ah
F000:88DB  74 06				jz	short loc_304		; Jump if zero
F000:88DD  20 06 0096				and	keybd_flags_3,al	; (0040:0096=10h)
F000:88E1  EB 07				jmp	short loc_305		; (88EA)
F000:88E3			loc_304:					;  xref F000:88DB
F000:88E3  C0 F8 02				sar	al,2			; Shift w/sign fill
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 73

F000:88E6  20 06 0018				and	keybd_flags_2,al	; (0040:0018=0)
F000:88EA			loc_305:					;  xref F000:88E1
F000:88EA  A0 0018				mov	al,keybd_flags_2	; (0040:0018=0)
F000:88ED  C0 E0 02				shl	al,2			; Shift w/zeros fill
F000:88F0  0A 06 0096				or	al,keybd_flags_3	; (0040:0096=10h)
F000:88F4  24 0C				and	al,0Ch
F000:88F6  08 06 0017				or	keybd_flags_1,al	; (0040:0017=20h)
F000:88FA  86 C4				xchg	al,ah
F000:88FC  3C 38				cmp	al,38h			; '8'
F000:88FE  75 0D				jne	short loc_306		; Jump if not equal
F000:8900  33 C0				xor	ax,ax			; Zero register
F000:8902  86 06 0019				xchg	keybd_alt_num,al	; (0040:0019=0)
F000:8906  22 C0				and	al,al
F000:8908  74 03				jz	short loc_306		; Jump if zero
F000:890A  E9 0291				jmp	loc_362			; (8B9E)
F000:890D			loc_306:					;  xref F000:8869, 88B3, 88C7, 88D4
										;            88FE, 8908, 891F, 8926
										;            8933, 8943, 894E, 8957
										;            895B, 895F, 896A
F000:890D њE9 0251				jmp	loc_356			; (8B61)
F000:8910			loc_307:					;  xref F000:8880, 8894, 891B
F000:8910  E9 0253				jmp	loc_357			; (8B66)
F000:8913			loc_308:					;  xref F000:8887
F000:8913  E8 5AE5				call	sub_330			; (E3FB)
F000:8916  74 13				jz	short loc_309		; Jump if zero
F000:8918  E8 6B27				call	sub_395			; (F442)
F000:891B  74 F3				jz	loc_307			; Jump if zero
F000:891D  3C 45				cmp	al,45h			; 'E'
F000:891F  75 EC				jne	loc_306			; Jump if not equal
F000:8921  F6 06 0018 08			test	keybd_flags_2,8		; (0040:0018=0)
F000:8926  75 E5				jnz	loc_306			; Jump if not zero
F000:8928  E9 0102				jmp	loc_330			; (8A2D)
F000:892B			loc_309:					;  xref F000:8916
F000:892B  E8 5AC7				call	sub_329			; (E3F5)
F000:892E  74 05				jz	short loc_310		; Jump if zero
F000:8930  E8 6B1B				call	sub_396			; (F44E)
F000:8933  74 D8				jz	loc_306			; Jump if zero
F000:8935			loc_310:					;  xref F000:892E
F000:8935  E8 6B0A				call	sub_395			; (F442)
F000:8938  75 1F				jnz	short loc_312		; Jump if not zero
F000:893A  08 26 0017				or	keybd_flags_1,ah	; (0040:0017=20h)
F000:893E  50					push	ax
F000:893F  E8 6B0C				call	sub_396			; (F44E)
F000:8942  58					pop	ax
F000:8943  74 C8				jz	loc_306			; Jump if zero
F000:8945  E8 5AAD				call	sub_329			; (E3F5)
F000:8948  74 06				jz	short loc_311		; Jump if zero
F000:894A  08 26 0096				or	keybd_flags_3,ah	; (0040:0096=10h)
F000:894E  EB BD				jmp	short loc_306		; (890D)
F000:8950			loc_311:					;  xref F000:8948
F000:8950  C0 EC 02				shr	ah,2			; Shift w/zeros fill
F000:8953  08 26 0018				or	keybd_flags_2,ah	; (0040:0018=0)
F000:8957  EB B4				jmp	short loc_306		; (890D)
F000:8959			loc_312:					;  xref F000:8938
F000:8959  22 C0				and	al,al
F000:895B  74 B0				jz	loc_306			; Jump if zero
F000:895D  3C 58				cmp	al,58h			; 'X'
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 74

F000:895F  77 AC				ja	loc_306			; Jump if above
F000:8961  3C 54				cmp	al,54h			; 'T'
F000:8963  75 1D				jne	short loc_314		; Jump if not equal
F000:8965  F6 06 0018 04			test	keybd_flags_2,4		; (0040:0018=0)
F000:896A  75 A1				jnz	loc_306			; Jump if not zero
F000:896C  80 0E 0018 04			or	keybd_flags_2,4		; (0040:0018=0)
F000:8971  B8 8500				mov	ax,8500h
F000:8974			loc_313:					;  xref F000:88C1
F000:8974  50					push	ax
F000:8975  B0 20				mov	al,20h			; ' '
F000:8977  E6 20				out	20h,al			; port 20h, 8259-1 int command
										;  al = 20h, end of interrupt
F000:8979  E8 6ADD				call	sub_397			; (F459)
F000:897C  58					pop	ax
F000:897D  CD 15				int	15h			; General services, ah=func 85h
										;  SysReq key, al=0 make, =1 brk
F000:897F  E9 01EC				jmp	loc_359			; (8B6E)
F000:8982			loc_314:					;  xref F000:8963
F000:8982  F6 06 0017 08			test	keybd_flags_1,8		; (0040:0017=20h)
F000:8987  74 0C				jz	short loc_315		; Jump if zero
F000:8989  E8 5A63				call	sub_328			; (E3EF)
F000:898C  74 09				jz	short loc_316		; Jump if zero
F000:898E  F6 06 0018 04			test	keybd_flags_2,4		; (0040:0018=0)
F000:8993  74 02				jz	short loc_316		; Jump if zero
F000:8995			loc_315:					;  xref F000:8987
F000:8995  EB 76				jmp	short loc_328		; (8A0D)
F000:8997			loc_316:					;  xref F000:898C, 8993
F000:8997  F6 06 0017 04			test	keybd_flags_1,4		; (0040:0017=20h)
F000:899C  74 14				jz	short loc_318		; Jump if zero
F000:899E  3C 53				cmp	al,53h			; 'S'
F000:89A0  75 0B				jne	short loc_317		; Jump if not equal
F000:89A2  C7 06 0072 1234			mov	warm_boot_flag,1234h	; (0040:0072=0)
F000:89A8  EA F000E05B				jmp	far ptr loc_1157	; (E05B)
F000:89AD			loc_317:					;  xref F000:89A0
F000:89AD  E8 2B71				call	sub_208			; (B521)
F000:89B0  EB 06				jmp	short loc_319		; (89B8)
F000:89B2			loc_318:					;  xref F000:899C
F000:89B2  E8 2476				call	sub_180			; (AE2B)
F000:89B5  E8 6A2B				call	sub_390			; (F3E3)
F000:89B8			loc_319:					;  xref F000:89B0
F000:89B8  E8 6A41				call	sub_391			; (F3FC)
F000:89BB  E8 5A37				call	sub_329			; (E3F5)
F000:89BE  74 0D				jz	short loc_320		; Jump if zero
F000:89C0 њBB F69E				mov	bx,offset data_300	; (F000:F69E=0F0h)
F000:89C3  E8 6A4A				call	sub_392			; (F410)
F000:89C6  C6 06 0019 00			mov	keybd_alt_num,0		; (0040:0019=0)
F000:89CB  EB 27				jmp	short loc_323		; (89F4)
F000:89CD			loc_320:					;  xref F000:89BE
F000:89CD њBB F49E				mov	bx,offset key_scan_codes	; (F000:F49E=0F0h)
F000:89D0  E8 6A3D				call	sub_392			; (F410)
F000:89D3  3C 0A				cmp	al,0Ah
F000:89D5  73 13				jae	short loc_322		; Jump if above or =
F000:89D7  8A 26 0019				mov	ah,keybd_alt_num	; (0040:0019=0)
F000:89DB  D0 E4				shl	ah,1			; Shift w/zeros fill
F000:89DD  02 C4				add	al,ah
F000:89DF  C0 E4 02				shl	ah,2			; Shift w/zeros fill
F000:89E2  02 C4				add	al,ah
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 75

F000:89E4  A2 0019				mov	keybd_alt_num,al	; (0040:0019=0)
F000:89E7			loc_321:					;  xref F000:89F2, 8A2B, 8A60
F000:89E7  E9 0177				jmp	loc_356			; (8B61)
F000:89EA			loc_322:					;  xref F000:89D5
F000:89EA  C6 06 0019 00			mov	keybd_alt_num,0		; (0040:0019=0)
F000:89EF  80 FC 53				cmp	ah,53h			; 'S'
F000:89F2  74 F3				je	loc_321			; Jump if equal
F000:89F4			loc_323:					;  xref F000:89CB
F000:89F4  80 FC 39				cmp	ah,39h			; '9'
F000:89F7  74 11				je	short loc_327		; Jump if equal
F000:89F9  3C F0				cmp	al,0F0h
F000:89FB  74 0D				je	short loc_327		; Jump if equal
F000:89FD  EB 07				jmp	short loc_325		; (8A06)
F000:89FF			loc_324:					;  xref F000:8A8D
F000:89FF њB4 E0				mov	ah,0E0h
F000:8A01  E8 59F1				call	sub_329			; (E3F5)
F000:8A04  75 02				jnz	short loc_326		; Jump if not zero
F000:8A06			loc_325:					;  xref F000:89FD, 8A8A
F000:8A06 њB4 00				mov	ah,0
F000:8A08			loc_326:					;  xref F000:8A04
F000:8A08  86 C4				xchg	al,ah
F000:8A0A			loc_327:					;  xref F000:89F7, 89FB, 8A77
F000:8A0A њE9 0191				jmp	loc_362			; (8B9E)
F000:8A0D			loc_328:					;  xref F000:8995
F000:8A0D  E8 241B				call	sub_180			; (AE2B)
F000:8A10  F6 06 0017 04			test	keybd_flags_1,4		; (0040:0017=20h)
F000:8A15  75 03				jnz	short loc_329		; Jump if not zero
F000:8A17  E9 0095				jmp	loc_342			; (8AAF)
F000:8A1A			loc_329:					;  xref F000:8A15
F000:8A1A  E8 69DF				call	sub_391			; (F3FC)
F000:8A1D њBB F51E				mov	bx,offset key_scan_codes+80h	; (F000:F51E=1Bh)
F000:8A20  E8 69ED				call	sub_392			; (F410)
F000:8A23  80 FC 45				cmp	ah,45h			; 'E'
F000:8A26  75 2B				jne	short loc_332		; Jump if not equal
F000:8A28  E8 59C4				call	sub_328			; (E3EF)
F000:8A2B  75 BA				jnz	loc_321			; Jump if not zero
F000:8A2D			loc_330:					;  xref F000:8928
F000:8A2D  80 0E 0018 08			or	keybd_flags_2,8		; (0040:0018=0)
F000:8A32  E8 6A24				call	sub_397			; (F459)
F000:8A35  B0 20				mov	al,20h			; ' '
F000:8A37  E6 20				out	20h,al			; port 20h, 8259-1 int command
										;  al = 20h, end of interrupt
F000:8A39  80 3E 0049 07			cmp	video_mode,7		; (0040:0049=3)
F000:8A3E  74 09				je	short loc_331		; Jump if equal
F000:8A40  A0 0065				mov	al,video_mode_reg	; (0040:0065=29h)
F000:8A43  52					push	dx
F000:8A44  BA 03D8				mov	dx,3D8h
F000:8A47  EE					out	dx,al			; port 3D8h, CGA video control
F000:8A48  5A					pop	dx
F000:8A49			loc_331:					;  xref F000:8A3E, 8A4E
F000:8A49  F6 06 0018 08			test	keybd_flags_2,8		; (0040:0018=0)
F000:8A4E  75 F9				jnz	loc_331			; Jump if not zero
F000:8A50  E9 0118				jmp	loc_358			; (8B6B)
F000:8A53			loc_332:					;  xref F000:8A26
F000:8A53  80 FC 46				cmp	ah,46h			; 'F'
F000:8A56  75 21				jne	short loc_336		; Jump if not equal
F000:8A58  E8 5994				call	sub_328			; (E3EF)
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 76

F000:8A5B  74 05				jz	short loc_334		; Jump if zero
F000:8A5D  E8 5995				call	sub_329			; (E3F5)
F000:8A60			loc_333:					;  xref F000:8AAB
F000:8A60  74 85				jz	loc_321			; Jump if zero
F000:8A62			loc_334:					;  xref F000:8A5B
F000:8A62  A1 0080				mov	ax,@keybd_begin		; (0040:0080=1Eh)
F000:8A65  A3 001A				mov	keybd_q_head,ax		; (0040:001A=38h)
F000:8A68  A3 001C				mov	keybd_q_tail,ax		; (0040:001C=38h)
F000:8A6B  C6 06 0071 80			mov	keybd_break,80h		; (0040:0071=0)
F000:8A70  E8 69E6				call	sub_397			; (F459)
F000:8A73  CD 1B				int	1Bh			; Keyboard break (cntrl-break)
F000:8A75  33 C0				xor	ax,ax			; Zero register
F000:8A77			loc_335:					;  xref F000:8AA2, 8AA6
F000:8A77 њEB 91				jmp	short loc_327		; (8A0A)
F000:8A79			loc_336:					;  xref F000:8A56
F000:8A79  80 FC 37				cmp	ah,37h			; '7'
F000:8A7C  75 12				jne	short loc_340		; Jump if not equal
F000:8A7E  E8 596E				call	sub_328			; (E3EF)
F000:8A81  74 05				jz	short loc_337		; Jump if zero
F000:8A83  E8 596F				call	sub_329			; (E3F5)
F000:8A86  74 02				jz	short loc_338		; Jump if zero
F000:8A88			loc_337:					;  xref F000:8A81
F000:8A88  B0 72				mov	al,72h			; 'r'
F000:8A8A			loc_338:					;  xref F000:8A86, 8AAD
F000:8A8A њE9 FF79				jmp	loc_325			; (8A06)
F000:8A8D			loc_339:					;  xref F000:8A93, 8A9D
F000:8A8D  E9 FF6F				jmp	loc_324			; (89FF)
F000:8A90			loc_340:					;  xref F000:8A7C
F000:8A90  80 FC 0F				cmp	ah,0Fh
F000:8A93  74 F8				je	loc_339			; Jump if equal
F000:8A95  80 FC 35				cmp	ah,35h			; '5'
F000:8A98  74 0E				je	short loc_341		; Jump if equal
F000:8A9A  80 FC 39				cmp	ah,39h			; '9'
F000:8A9D  77 EE				ja	loc_339			; Jump if above
F000:8A9F  E8 5953				call	sub_329			; (E3F5)
F000:8AA2  74 D3				jz	loc_335			; Jump if zero
F000:8AA4  B4 E0				mov	ah,0E0h
F000:8AA6  EB CF				jmp	short loc_335		; (8A77)
F000:8AA8			loc_341:					;  xref F000:8A98
F000:8AA8  E8 594A				call	sub_329			; (E3F5)
F000:8AAB  74 B3				jz	loc_333			; Jump if zero
F000:8AAD  EB DB				jmp	short loc_338		; (8A8A)
F000:8AAF			loc_342:					;  xref F000:8A17
F000:8AAF  E8 6931				call	sub_390			; (F3E3)
F000:8AB2  3C 52				cmp	al,52h			; 'R'
F000:8AB4  74 03				je	short loc_343		; Jump if equal
F000:8AB6  E8 6943				call	sub_391			; (F3FC)
F000:8AB9			loc_343:					;  xref F000:8AB4
F000:8AB9  3C 37				cmp	al,37h			; '7'
F000:8ABB  75 26				jne	short loc_346		; Jump if not equal
F000:8ABD  E8 592F				call	sub_328			; (E3EF)
F000:8AC0  74 07				jz	short loc_344		; Jump if zero
F000:8AC2  E8 5930				call	sub_329			; (E3F5)
F000:8AC5  74 1C				jz	short loc_346		; Jump if zero
F000:8AC7  EB 07				jmp	short loc_345		; (8AD0)
F000:8AC9			loc_344:					;  xref F000:8AC0
F000:8AC9  F6 06 0017 03			test	keybd_flags_1,3		; (0040:0017=20h)
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 77

F000:8ACE  74 13				jz	short loc_346		; Jump if zero
F000:8AD0			loc_345:					;  xref F000:8AC7
F000:8AD0  E8 6986				call	sub_397			; (F459)
F000:8AD3  B0 20				mov	al,20h			; ' '
F000:8AD5  E6 20				out	20h,al			; port 20h, 8259-1 int command
										;  al = 20h, end of interrupt
F000:8AD7  55					push	bp
F000:8AD8  CD 05				int	5			; Print screen (status at 50:0h)
F000:8ADA  5D					pop	bp
F000:8ADB  80 26 0096 FC			and	keybd_flags_3,0FCh	; (0040:0096=10h)
F000:8AE0  E9 0088				jmp	loc_358			; (8B6B)
F000:8AE3			loc_346:					;  xref F000:8ABB, 8AC5, 8ACE
F000:8AE3  E8 590F				call	sub_329			; (E3F5)
F000:8AE6  75 09				jnz	short loc_348		; Jump if not zero
F000:8AE8			loc_347:					;  xref F000:8AF3
F000:8AE8  F6 06 0017 03			test	keybd_flags_1,3		; (0040:0017=20h)
F000:8AED  74 28				jz	short loc_351		; Jump if zero
F000:8AEF  EB 0A				jmp	short loc_349		; (8AFB)
F000:8AF1			loc_348:					;  xref F000:8AE6
F000:8AF1  3C 35				cmp	al,35h			; '5'
F000:8AF3  75 F3				jne	loc_347			; Jump if not equal
F000:8AF5  B8 E02F				mov	ax,0E02Fh
F000:8AF8  E9 00A3				jmp	loc_362			; (8B9E)
F000:8AFB			loc_349:					;  xref F000:8AEF
F000:8AFB  BB F59E				mov	bx,0F59Eh
F000:8AFE  3C 46				cmp	al,46h			; 'F'
F000:8B00  76 34				jbe	short loc_353		; Jump if below or =
F000:8B02  3C 56				cmp	al,56h			; 'V'
F000:8B04  73 30				jae	short loc_353		; Jump if above or =
F000:8B06  E8 58EC				call	sub_329			; (E3F5)
F000:8B09  75 07				jnz	short loc_350		; Jump if not zero
F000:8B0B  F6 06 0017 20			test	keybd_flags_1,20h	; (0040:0017=20h) ' '
F000:8B10  74 24				jz	short loc_353		; Jump if zero
F000:8B12			loc_350:					;  xref F000:8B09
F000:8B12  BB F61E				mov	bx,0F61Eh
F000:8B15  EB 1C				jmp	short loc_352		; (8B33)
F000:8B17			loc_351:					;  xref F000:8AED
F000:8B17  BB F61E				mov	bx,0F61Eh
F000:8B1A  3C 46				cmp	al,46h			; 'F'
F000:8B1C  76 18				jbe	short loc_353		; Jump if below or =
F000:8B1E  3C 56				cmp	al,56h			; 'V'
F000:8B20  73 14				jae	short loc_353		; Jump if above or =
F000:8B22  E8 58D0				call	sub_329			; (E3F5)
F000:8B25  75 0C				jnz	short loc_352		; Jump if not zero
F000:8B27  F6 06 0017 20			test	keybd_flags_1,20h	; (0040:0017=20h) ' '
F000:8B2C  74 05				jz	short loc_352		; Jump if zero
F000:8B2E  BB F59E				mov	bx,0F59Eh
F000:8B31  EB 03				jmp	short loc_353		; (8B36)
F000:8B33			loc_352:					;  xref F000:8B15, 8B25, 8B2C
F000:8B33  E8 68E5				call	sub_393			; (F41B)
F000:8B36			loc_353:					;  xref F000:8B00, 8B04, 8B10, 8B1C
										;            8B20, 8B31
F000:8B36  E8 68D7				call	sub_392			; (F410)
F000:8B39  80 FC 3A				cmp	ah,3Ah			; ':'
F000:8B3C  76 1A				jbe	short loc_355		; Jump if below or =
F000:8B3E  3C 3A				cmp	al,3Ah			; ':'
F000:8B40  76 16				jbe	short loc_355		; Jump if below or =
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 78

F000:8B42  3C F0				cmp	al,0F0h
F000:8B44  74 10				je	short loc_354		; Jump if equal
F000:8B46  80 FC 56				cmp	ah,56h			; 'V'
F000:8B49  74 0D				je	short loc_355		; Jump if equal
F000:8B4B  8A E0				mov	ah,al
F000:8B4D  B0 00				mov	al,0
F000:8B4F  E8 58A3				call	sub_329			; (E3F5)
F000:8B52  74 02				jz	short loc_354		; Jump if zero
F000:8B54  B0 E0				mov	al,0E0h
F000:8B56			loc_354:					;  xref F000:8B44, 8B52, 8B5B, 8B5F
F000:8B56 њEB 22				jmp	short loc_360		; (8B7A)
F000:8B58			loc_355:					;  xref F000:8B3C, 8B40, 8B49
F000:8B58  E8 589A				call	sub_329			; (E3F5)
F000:8B5B  74 F9				jz	loc_354			; Jump if zero
F000:8B5D  B4 E0				mov	ah,0E0h
F000:8B5F  EB F5				jmp	short loc_354		; (8B56)
F000:8B61			loc_356:					;  xref F000:890D, 89E7, F40C
F000:8B61 њ80 26 0096 FC			and	keybd_flags_3,0FCh	; (0040:0096=10h)
F000:8B66			loc_357:					;  xref F000:8910
F000:8B66  FA					cli				; Disable interrupts
F000:8B67  B0 20				mov	al,20h			; ' '
F000:8B69  E6 20				out	20h,al			; port 20h, 8259-1 int command
										;  al = 20h, end of interrupt
F000:8B6B			loc_358:					;  xref F000:882C, 8A50, 8AE0, 8BAF
F000:8B6B њE8 68EB				call	sub_397			; (F459)
F000:8B6E			loc_359:					;  xref F000:897F, 8BCA
F000:8B6E њFA					cli				; Disable interrupts
F000:8B6F  8B E5				mov	sp,bp
F000:8B71  E8 2240				call	sub_179			; (ADB4)
F000:8B74  1F					pop	ds
F000:8B75  61					popa				; Restore all regs
F000:8B76  E8 312F				call	sub_231			; (BCA8)
F000:8B79  CF					iret				; Interrupt return
				int_9_keyboard	endp

F000:8B7A			loc_360:					;  xref F000:8B56
F000:8B7A  F6 06 0017 40			test	keybd_flags_1,40h	; (0040:0017=20h) '@'
F000:8B7F  74 1D				jz	short loc_362		; Jump if zero
F000:8B81  F6 06 0017 03			test	keybd_flags_1,3		; (0040:0017=20h)
F000:8B86  75 0C				jnz	short loc_361		; Jump if not zero
F000:8B88  3C 7A				cmp	al,7Ah			; 'z'
F000:8B8A  77 12				ja	short loc_362		; Jump if above
F000:8B8C  3C 61				cmp	al,61h			; 'a'
F000:8B8E  72 0E				jb	short loc_362		; Jump if below
F000:8B90  2C 20				sub	al,20h			; ' '
F000:8B92  EB 0A				jmp	short loc_362		; (8B9E)
F000:8B94			loc_361:					;  xref F000:8B86
F000:8B94  3C 5A				cmp	al,5Ah			; 'Z'
F000:8B96  77 06				ja	short loc_362		; Jump if above
F000:8B98  3C 41				cmp	al,41h			; 'A'
F000:8B9A  72 02				jb	short loc_362		; Jump if below
F000:8B9C  04 20				add	al,20h			; ' '
F000:8B9E			loc_362:					;  xref F000:890A, 8A0A, 8AF8, 8B7F
										;            8B8A, 8B8E, 8B92, 8B96
										;            8B9A
F000:8B9E  8B 1E 001C				mov	bx,keybd_q_tail		; (0040:001C=38h)
F000:8BA2  53					push	bx
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 79

F000:8BA3  E8 583C				call	sub_327			; (E3E2)
F000:8BA6  3B 1E 001A				cmp	bx,keybd_q_head		; (0040:001A=38h)
F000:8BAA  75 06				jne	short loc_363		; Jump if not equal
F000:8BAC  E8 57B3				call	sub_323			; (E362)
F000:8BAF  EB BA				jmp	short loc_358		; (8B6B)
F000:8BB1  FA					db	0FAh
F000:8BB2			loc_363:					;  xref F000:8BAA
F000:8BB2  89 1E 001C				mov	keybd_q_tail,bx		; (0040:001C=38h)
F000:8BB6  5B					pop	bx
F000:8BB7  89 07				mov	[bx],ax
F000:8BB9  B0 20				mov	al,20h			; ' '
F000:8BBB  E6 20				out	20h,al			; port 20h, 8259-1 int command
										;  al = 20h, end of interrupt
F000:8BBD  E8 6899				call	sub_397			; (F459)
F000:8BC0  B8 9102				mov	ax,9102h
F000:8BC3  CD 15				int	15h			; General services, ah=func 91h
										;  interrupt complete, al=type
										;   es:bx=ptr of request block
F000:8BC5  80 26 0096 FC			and	keybd_flags_3,0FCh	; (0040:0096=10h)
F000:8BCA  EB A2				jmp	short loc_359		; (8B6E)

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:8C5B, 8EA0, 8ED8, 8F06, 90F7, 9103, E008
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_51		proc	near
F000:8BCC  EB 5C				jmp	short loc_364		; (8C2A)
							                        ;* No entry point to code
F000:8BCE  94					xchg	sp,ax
F000:8BCF  98					cbw				; Convrt byte to word
F000:8BD0  44					inc	sp
F000:8BD1  49					dec	cx
F000:8BD2  4D					dec	bp
F000:8BD3  2D 2E31				sub	ax,2E31h
F000:8BD6  37					aaa				; Ascii adjust
F000:8BD7  30 20				xor	[bx+si],ah
F000:8BD9  00 8F 578C				add	ds:data_45e[bx],cl	; (0040:578C=0)
F000:8BDD  8F 2C 91 46 91 86			db	 8Fh, 2Ch, 91h, 46h, 91h, 86h
F000:8BE3  96 12 91 1F 91 5C			db	 96h, 12h, 91h, 1Fh, 91h, 5Ch
F000:8BE9  91 C3 96 2B 8F 86			db	 91h,0C3h, 96h, 2Bh, 8Fh, 86h
F000:8BEF  96 86 96 86 96 75			db	 96h, 86h, 96h, 86h, 96h, 75h
F000:8BF5  BB 76 BB 5E F8 00			db	0BBh, 76h,0BBh, 5Eh,0F8h, 00h
F000:8BFB  00 CA 96 DD 96 01			db	 00h,0CAh, 96h,0DDh, 96h, 01h
F000:8C01  97 00 00 00 00 25			db	 97h, 00h, 00h, 00h, 00h, 25h
F000:8C07  97 00 00 29 97 40			db	 97h, 00h, 00h, 29h, 97h, 40h
F000:8C0D  97 57 97 6E 97 85			db	 97h, 57h, 97h, 6Eh, 97h, 85h
F000:8C13  97 9C 97 B3 97 F6			db	 97h, 9Ch, 97h,0B3h, 97h,0F6h
F000:8C19  97 90 96 4A 91 84			db	 97h, 90h, 96h, 4Ah, 91h, 84h
F000:8C1F  91 A6 91 1C 98 AF			db	 91h,0A6h, 91h, 1Ch, 98h,0AFh
F000:8C25  96 B3 96 BB 96			db	 96h,0B3h, 96h,0BBh, 96h
F000:8C2A			loc_364:					;  xref F000:8BCC
F000:8C2A  55					push	bp
F000:8C2B  80 FC 28				cmp	ah,28h			; '('
F000:8C2E  72 05				jb	short loc_366		; Jump if below
F000:8C30			loc_365:					;  xref F000:8C44
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 80

F000:8C30  B4 81				mov	ah,81h
F000:8C32  F9					stc				; Set carry flag
F000:8C33  EB 13				jmp	short loc_367		; (8C48)
F000:8C35			loc_366:					;  xref F000:8C2E
F000:8C35  53					push	bx
F000:8C36  32 FF				xor	bh,bh			; Zero register
F000:8C38  8A DC				mov	bl,ah
F000:8C3A  D1 E3				shl	bx,1			; Shift w/zeros fill
F000:8C3C  2E: 8B AF 8BDA			mov	bp,word ptr cs:[8BDAh][bx]	; (F000:8BDA=8C8Fh)
F000:8C41  5B					pop	bx
F000:8C42  0B ED				or	bp,bp			; Zero ?
F000:8C44  74 EA				jz	loc_365			; Jump if zero
F000:8C46  FF D5				call	bp			;*
F000:8C48			loc_367:					;  xref F000:8C33
F000:8C48  5D					pop	bp
F000:8C49  C3					retn
				sub_51		endp


F000:8C4A			int_1Ah_RTC	proc	near
F000:8C4A  80 FC B1				cmp	ah,0B1h
F000:8C4D  74 03				je	short loc_369		; Jump if equal
F000:8C4F			loc_368:					;  xref F000:8C54
F000:8C4F  E9 1F52				jmp	loc_703			; (ABA4)
F000:8C52			loc_369:					;  xref F000:8C4D
F000:8C52  3C 0F				cmp	al,0Fh
F000:8C54  77 F9				ja	loc_368			; Jump if above
F000:8C56  8A E0				mov	ah,al
F000:8C58  80 C4 10				add	ah,10h
F000:8C5B  E8 FF6E				call	sub_51			; (8BCC)
F000:8C5E  55					push	bp
F000:8C5F  8B EC				mov	bp,sp
F000:8C61  72 06				jc	short loc_371		; Jump if carry Set
F000:8C63  80 66 06 FE				and	byte ptr [bp+6],0FEh
F000:8C67			loc_370:					;  xref F000:8C6D
F000:8C67 њ5D					pop	bp
F000:8C68  CF					iret				; Interrupt return
				int_1Ah_RTC	endp

F000:8C69			loc_371:					;  xref F000:8C61
F000:8C69  80 4E 06 01				or	byte ptr [bp+6],1
F000:8C6D  EB F8				jmp	short loc_370		; (8C67)
F000:8C6F  8D04			data_140	dw	8D04h			; Data table (indexed access)
										;  xref F000:8CE6
F000:8C71  2E 8D EC 8D 00			db	 2Eh, 8Dh,0ECh, 8Dh, 00h
F000:8C76  000B[00]				db	11 dup (0)
F000:8C81  7D 8E 8E 8E 81 8E			db	 7Dh, 8Eh, 8Eh, 8Eh, 81h, 8Eh
F000:8C87  8F17			data_142	dw	8F17h			; Data table (indexed access)
										;  xref F000:8CEF
F000:8C89  92 8E C6 8E F3 8E			db	 92h, 8Eh,0C6h, 8Eh,0F3h, 8Eh
F000:8C8F  0E E8 16 00 C3 66			db	 0Eh,0E8h, 16h, 00h,0C3h, 66h
F000:8C95  55 66 8B EC 66 81			db	 55h, 66h, 8Bh,0ECh, 66h, 81h
F000:8C9B  E5 FF FF 00 00 66			db	0E5h,0FFh,0FFh, 00h, 00h, 66h
F000:8CA1  83 C5 08 B8 03 00			db	 83h,0C5h, 08h,0B8h, 03h, 00h
F000:8CA7  EB 21 66 55 66 8B			db	0EBh, 21h, 66h, 55h, 66h, 8Bh
F000:8CAD  EC 66 81 E5 FF FF			db	0ECh, 66h, 81h,0E5h,0FFh,0FFh
F000:8CB3  00 00 66 83 C5 12			db	 00h, 00h, 66h, 83h,0C5h, 12h
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 81

F000:8CB9  25 FE 00 EB 0C 66			db	 25h,0FEh, 00h,0EBh, 0Ch, 66h
F000:8CBF  55 66 8B EC 66 83			db	 55h, 66h, 8Bh,0ECh, 66h, 83h
F000:8CC5  C5 08 B8 03 00			db	0C5h, 08h,0B8h, 03h, 00h
F000:8CCA			loc_372:
F000:8CCA  9C					pushf				; Push flags
F000:8CCB  53					push	bx
F000:8CCC  67| 8B 5D 00				mov	bx,word ptr [ebp+0]
F000:8CD0  81 FB 000C				cmp	bx,0Ch
F000:8CD4  72 0E				jb	short loc_373		; Jump if below
F000:8CD6  83 EB 40				sub	bx,40h
F000:8CD9 њ81 FB 0004				cmp	bx,offset data_84	; (F000:0004=0FFh)
F000:8CDD  72 0E				jb	short loc_374		; Jump if below
F000:8CDF  B8 0081				mov	ax,81h
F000:8CE2  EB 16				jmp	short loc_376		; (8CFA)
F000:8CE4			loc_373:					;  xref F000:8CD4
F000:8CE4  D1 E3				shl	bx,1			; Shift w/zeros fill
F000:8CE6  2E: 8B 9F 8C6F			mov	bx,cs:data_140[bx]	; (F000:8C6F=8D04h)
F000:8CEB  EB 07				jmp	short loc_375		; (8CF4)
F000:8CED			loc_374:					;  xref F000:8CDD
F000:8CED  D1 E3				shl	bx,1			; Shift w/zeros fill
F000:8CEF  2E: 8B 9F 8C87			mov	bx,cs:data_142[bx]	; (F000:8C87=8F17h)
F000:8CF4			loc_375:					;  xref F000:8CEB
F000:8CF4  0B DB				or	bx,bx			; Zero ?
F000:8CF6  74 07				jz	short loc_377		; Jump if zero
F000:8CF8  FF D3				call	bx			;*
F000:8CFA			loc_376:					;  xref F000:8CE2, 8D02
F000:8CFA њ5B					pop	bx
F000:8CFB  9D					popf				; Pop flags
F000:8CFC  66| 5D				pop	ebp
F000:8CFE  CB					retf				; Return far
F000:8CFF			loc_377:					;  xref F000:8CF6
F000:8CFF  B8 0082				mov	ax,82h
F000:8D02  EB F6				jmp	short loc_376		; (8CFA)
							                        ;* No entry point to code
F000:8D04  60					pusha				; Save all regs
F000:8D05  1E					push	ds
F000:8D06  33 D2				xor	dx,dx			; Zero register
F000:8D08  32 C0				xor	al,al			; Zero register
F000:8D0A			loc_378:					;  xref F000:8D19
F000:8D0A њE8 0236				call	sub_52			; (8F43)
F000:8D0D  72 0C				jc	short loc_380		; Jump if carry Set
F000:8D0F  FE C0				inc	al
F000:8D11  2E: 39 14				cmp	cs:[si],dx
F000:8D14  76 03				jbe	short loc_379		; Jump if below or =
F000:8D16  2E: 8B 14				mov	dx,cs:[si]
F000:8D19			loc_379:					;  xref F000:8D14
F000:8D19  EB EF				jmp	short loc_378		; (8D0A)
F000:8D1B			loc_380:					;  xref F000:8D0D
F000:8D1B  67| C5 75 02				lds	si,dword ptr [ebp+2]	; Load 32 bit ptr
F000:8D1F  32 E4				xor	ah,ah			; Zero register
F000:8D21  89 04				mov	[si],ax
F000:8D23  67| C5 75 06				lds	si,dword ptr [ebp+6]	; Load 32 bit ptr
F000:8D27  89 14				mov	[si],dx
F000:8D29  1F					pop	ds
F000:8D2A  61					popa				; Restore all regs
F000:8D2B  33 C0				xor	ax,ax			; Zero register
F000:8D2D  C3					retn
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 82

							                        ;* No entry point to code
F000:8D2E  53					push	bx
F000:8D2F  51					push	cx
F000:8D30  52					push	dx
F000:8D31  56					push	si
F000:8D32  57					push	di
F000:8D33  1E					push	ds
F000:8D34  06					push	es
F000:8D35  8A E0				mov	ah,al
F000:8D37  67| C4 7D 02				les	di,dword ptr [ebp+2]	; Load 32 bit ptr
F000:8D3B  26: 8A 05				mov	al,es:[di]
F000:8D3E  E8 0202				call	sub_52			; (8F43)
F000:8D41  0F 82 009D				jc	loc_391			; Jump if carry Set
F000:8D45  67| C4 7D 06				les	di,dword ptr [ebp+6]	; Load 32 bit ptr
F000:8D49  8B 0C				mov	cx,[si]
F000:8D4B  F3/ A4				rep	movsb			; Rep when cx >0 Mov [si] to es:[di]
F000:8D4D  67| C5 75 06				lds	si,dword ptr [ebp+6]	; Load 32 bit ptr
F000:8D51  67| 8B 55 0A				mov	dx,word ptr [ebp+0Ah]
F000:8D55  83 FA 01				cmp	dx,1
F000:8D58  74 07				je	short loc_381		; Jump if equal
F000:8D5A  83 FA 02				cmp	dx,2
F000:8D5D  0F 85 0086				jne	loc_392			; Jump if not equal
F000:8D61			loc_381:					;  xref F000:8D58
F000:8D61  66| 81 7C 03       +			cmp	dword ptr [si+3],10CD041h
           010CD041
F000:8D69  75 25				jne	short loc_383		; Jump if not equal
F000:8D6B  66| 60				pushad				; Save all regs
F000:8D6D  E8 0336				call	sub_54			; (90A6)
F000:8D70  83 C6 0C				add	si,0Ch
F000:8D73  66| 89 44 08				mov	[si+8],eax
F000:8D77  83 C6 18				add	si,18h
F000:8D7A  66| 89 5C 08				mov	[si+8],ebx
F000:8D7E  83 C6 0C				add	si,0Ch
F000:8D81  66| 0B D2				or	edx,edx			; Zero ?
F000:8D84  74 08				jz	short loc_382		; Jump if zero
F000:8D86  66| 89 4C 04				mov	[si+4],ecx
F000:8D8A  66| 89 54 08				mov	[si+8],edx
F000:8D8E			loc_382:					;  xref F000:8D84
F000:8D8E  66| 61				popad				; Restore all regs
F000:8D90			loc_383:					;  xref F000:8D69
F000:8D90  66| 81 7C 03       +			cmp	dword ptr [si+3],130FD041h
           130FD041
F000:8D98  75 18				jne	short loc_385		; Jump if not equal
F000:8D9A  60					pusha				; Save all regs
F000:8D9B  E8 01C8				call	sub_53			; (8F66)
F000:8D9E  75 11				jnz	short loc_384		; Jump if not zero
F000:8DA0  83 2C 03				sub	word ptr [si],3
F000:8DA3  83 C6 0C				add	si,0Ch
F000:8DA6  B8 0079				mov	ax,79h
F000:8DA9  89 04				mov	[si],ax
F000:8DAB  89 44 02				mov	[si+2],ax
F000:8DAE  89 44 04				mov	[si+4],ax
F000:8DB1			loc_384:					;  xref F000:8D9E
F000:8DB1  61					popa				; Restore all regs
F000:8DB2			loc_385:					;  xref F000:8D98
F000:8DB2  F7 44 0A 0002			test	word ptr [si+0Ah],2
F000:8DB7  75 0F				jnz	short loc_388		; Jump if not zero
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 83

F000:8DB9  50					push	ax
F000:8DBA  F6 C2 01				test	dl,1
F000:8DBD  75 05				jnz	short loc_386		; Jump if not zero
F000:8DBF  E8 2DC4				call	sub_229			; (BB86)
F000:8DC2  EB 03				jmp	short loc_387		; (8DC7)
F000:8DC4			loc_386:					;  xref F000:8DBD
F000:8DC4  E8 2DC1				call	sub_230			; (BB88)
F000:8DC7			loc_387:					;  xref F000:8DC2
F000:8DC7  58					pop	ax
F000:8DC8			loc_388:					;  xref F000:8DB7
F000:8DC8  FE C0				inc	al
F000:8DCA  E8 0176				call	sub_52			; (8F43)
F000:8DCD  73 02				jnc	short loc_389		; Jump if carry=0
F000:8DCF  B0 FF				mov	al,0FFh
F000:8DD1			loc_389:					;  xref F000:8DCD
F000:8DD1  67| C4 7D 02				les	di,dword ptr [ebp+2]	; Load 32 bit ptr
F000:8DD5  26: 88 05				mov	es:[di],al
F000:8DD8  33 C0				xor	ax,ax			; Zero register
F000:8DDA			loc_390:					;  xref F000:8DE5, 8DEA
F000:8DDA њ07					pop	es
F000:8DDB  1F					pop	ds
F000:8DDC  5F					pop	di
F000:8DDD  5E					pop	si
F000:8DDE  5A					pop	dx
F000:8DDF  59					pop	cx
F000:8DE0  5B					pop	bx
F000:8DE1  C3					retn
F000:8DE2			loc_391:					;  xref F000:8D41
F000:8DE2  B8 0083				mov	ax,83h
F000:8DE5  EB F3				jmp	short loc_390		; (8DDA)
F000:8DE7			loc_392:					;  xref F000:8D5D
F000:8DE7  B8 0084				mov	ax,84h
F000:8DEA  EB EE				jmp	short loc_390		; (8DDA)
							                        ;* No entry point to code
F000:8DEC  66| 53				push	ebx
F000:8DEE  51					push	cx
F000:8DEF  52					push	dx
F000:8DF0  56					push	si
F000:8DF1  57					push	di
F000:8DF2  1E					push	ds
F000:8DF3  06					push	es
F000:8DF4  8A E0				mov	ah,al
F000:8DF6  67| 8A 45 02				mov	al,byte ptr [ebp+2]
F000:8DFA  E8 0146				call	sub_52			; (8F43)
F000:8DFD  72 74				jc	short loc_400		; Jump if carry Set
F000:8DFF  67| C4 7D 04				les	di,dword ptr [ebp+4]	; Load 32 bit ptr
F000:8E03  F7 44 0A 0002			test	word ptr [si+0Ah],2
F000:8E08  75 6E				jnz	short loc_401		; Jump if not zero
F000:8E0A  26: 3A 45 02				cmp	al,es:[di+2]
F000:8E0E  75 68				jne	short loc_401		; Jump if not equal
F000:8E10  66| 8B 5C 03				mov	ebx,[si+3]
F000:8E14  66| 26: 3B 5D 03			cmp	ebx,es:[di+3]
F000:8E19  75 5D				jne	short loc_401		; Jump if not equal
F000:8E1B  83 C6 0C				add	si,0Ch
F000:8E1E  83 C7 0C				add	di,0Ch
F000:8E21			loc_393:					;  xref F000:8E42
F000:8E21 њ8A 1C				mov	bl,[si]
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 84

F000:8E23  26: 3A 1D				cmp	bl,es:[di]
F000:8E26  75 50				jne	short loc_401		; Jump if not equal
F000:8E28  80 FB 79				cmp	bl,79h			; 'y'
F000:8E2B  74 17				je	short loc_396		; Jump if equal
F000:8E2D  F6 C3 80				test	bl,80h
F000:8E30  75 06				jnz	short loc_394		; Jump if not zero
F000:8E32  83 E3 07				and	bx,7
F000:8E35  43					inc	bx
F000:8E36  EB 06				jmp	short loc_395		; (8E3E)
F000:8E38			loc_394:					;  xref F000:8E30
F000:8E38  8B 5C 01				mov	bx,[si+1]
F000:8E3B  83 C3 03				add	bx,3
F000:8E3E			loc_395:					;  xref F000:8E36
F000:8E3E  03 F3				add	si,bx
F000:8E40  03 FB				add	di,bx
F000:8E42  EB DD				jmp	short loc_393		; (8E21)
F000:8E44			loc_396:					;  xref F000:8E2B
F000:8E44  67| C5 75 04				lds	si,dword ptr [ebp+4]	; Load 32 bit ptr
F000:8E48  67| 8B 55 08				mov	dx,word ptr [ebp+8]
F000:8E4C  F7 C2 FFFC				test	dx,0FFFCh
F000:8E50  75 26				jnz	short loc_401		; Jump if not zero
F000:8E52  0A D2				or	dl,dl			; Zero ?
F000:8E54  74 22				jz	short loc_401		; Jump if zero
F000:8E56  F6 C2 01				test	dl,1
F000:8E59  75 05				jnz	short loc_397		; Jump if not zero
F000:8E5B  E8 2D24				call	sub_227			; (BB82)
F000:8E5E  EB 03				jmp	short loc_398		; (8E63)
F000:8E60			loc_397:					;  xref F000:8E59
F000:8E60  E8 2D21				call	sub_228			; (BB84)
F000:8E63			loc_398:					;  xref F000:8E5E
F000:8E63  B8 0085				mov	ax,85h
F000:8E66  72 02				jc	short loc_399		; Jump if carry Set
F000:8E68  33 C0				xor	ax,ax			; Zero register
F000:8E6A			loc_399:					;  xref F000:8E66, 8E76, 8E7B
F000:8E6A њ07					pop	es
F000:8E6B  1F					pop	ds
F000:8E6C  5F					pop	di
F000:8E6D  5E					pop	si
F000:8E6E  5A					pop	dx
F000:8E6F  59					pop	cx
F000:8E70  66| 5B				pop	ebx
F000:8E72  C3					retn
F000:8E73			loc_400:					;  xref F000:8DFD
F000:8E73  B8 0083				mov	ax,83h
F000:8E76  EB F2				jmp	short loc_399		; (8E6A)
F000:8E78			loc_401:					;  xref F000:8E08, 8E0E, 8E19, 8E26
										;            8E50, 8E54
F000:8E78  B8 0084				mov	ax,84h
F000:8E7B  EB ED				jmp	short loc_399		; (8E6A)
							                        ;* No entry point to code
F000:8E7D  E8 0265				call	sub_55			; (90E5)
F000:8E80  C3					retn
							                        ;* No entry point to code
F000:8E81  1E					push	ds
F000:8E82  56					push	si
F000:8E83  67| C5 75 02				lds	si,dword ptr [ebp+2]	; Load 32 bit ptr
F000:8E87  33 C0				xor	ax,ax			; Zero register
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 85

F000:8E89  89 04				mov	[si],ax
F000:8E8B  5E					pop	si
F000:8E8C  1F					pop	ds
F000:8E8D  C3					retn
							                        ;* No entry point to code
F000:8E8E  E8 0258				call	sub_56			; (90E9)
F000:8E91  C3					retn
							                        ;* No entry point to code
F000:8E92  53					push	bx
F000:8E93  51					push	cx
F000:8E94  56					push	si
F000:8E95  66| 57				push	edi
F000:8E97  1E					push	ds
F000:8E98  67| 8B 45 0E				mov	ax,word ptr [ebp+0Eh]
F000:8E9C  8E D8				mov	ds,ax
F000:8E9E  B4 07				mov	ah,7
F000:8EA0  E8 FD29				call	sub_51			; (8BCC)
F000:8EA3  72 1C				jc	short loc_403		; Jump if carry Set
F000:8EA5  67| C5 75 02				lds	si,dword ptr [ebp+2]	; Load 32 bit ptr
F000:8EA9  89 0C				mov	[si],cx
F000:8EAB  67| C5 75 06				lds	si,dword ptr [ebp+6]	; Load 32 bit ptr
F000:8EAF  89 1C				mov	[si],bx
F000:8EB1  67| C5 75 0A				lds	si,dword ptr [ebp+0Ah]	; Load 32 bit ptr
F000:8EB5  66| 89 3C				mov	[si],edi
F000:8EB8  33 C0				xor	ax,ax			; Zero register
F000:8EBA			loc_402:					;  xref F000:8EC4
F000:8EBA њ1F					pop	ds
F000:8EBB  66| 5F				pop	edi
F000:8EBD  5E					pop	si
F000:8EBE  59					pop	cx
F000:8EBF  5B					pop	bx
F000:8EC0  C3					retn
F000:8EC1			loc_403:					;  xref F000:8EA3
F000:8EC1  B8 0082				mov	ax,82h
F000:8EC4  EB F4				jmp	short loc_402		; (8EBA)
							                        ;* No entry point to code
F000:8EC6  56					push	si
F000:8EC7  57					push	di
F000:8EC8  1E					push	ds
F000:8EC9  06					push	es
F000:8ECA  67| 8B 45 08				mov	ax,word ptr [ebp+8]
F000:8ECE  8E D8				mov	ds,ax
F000:8ED0  33 F6				xor	si,si			; Zero register
F000:8ED2  67| C4 7D 02				les	di,dword ptr [ebp+2]	; Load 32 bit ptr
F000:8ED6  B4 22				mov	ah,22h			; '"'
F000:8ED8  E8 FCF1				call	sub_51			; (8BCC)
F000:8EDB  72 07				jc	short loc_405		; Jump if carry Set
F000:8EDD  33 C0				xor	ax,ax			; Zero register
F000:8EDF			loc_404:					;  xref F000:8EEC, 8EF1
F000:8EDF њ07					pop	es
F000:8EE0  1F					pop	ds
F000:8EE1  5F					pop	di
F000:8EE2  5E					pop	si
F000:8EE3  C3					retn
F000:8EE4			loc_405:					;  xref F000:8EDB
F000:8EE4  3D 0082				cmp	ax,82h
F000:8EE7  75 05				jne	short loc_406		; Jump if not equal
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 86

F000:8EE9  B8 0055				mov	ax,55h
F000:8EEC  EB F1				jmp	short loc_404		; (8EDF)
F000:8EEE			loc_406:					;  xref F000:8EE7
F000:8EEE  B8 0056				mov	ax,56h
F000:8EF1  EB EC				jmp	short loc_404		; (8EDF)
							                        ;* No entry point to code
F000:8EF3  51					push	cx
F000:8EF4  56					push	si
F000:8EF5  57					push	di
F000:8EF6  1E					push	ds
F000:8EF7  06					push	es
F000:8EF8  67| 8B 45 08				mov	ax,word ptr [ebp+8]
F000:8EFC  8E C0				mov	es,ax
F000:8EFE  33 FF				xor	di,di			; Zero register
F000:8F00  67| C5 75 02				lds	si,dword ptr [ebp+2]	; Load 32 bit ptr
F000:8F04  B4 23				mov	ah,23h			; '#'
F000:8F06  E8 FCC3				call	sub_51			; (8BCC)
F000:8F09  B8 0000				mov	ax,0
F000:8F0C  73 03				jnc	short loc_407		; Jump if carry=0
F000:8F0E  B8 0055				mov	ax,55h
F000:8F11			loc_407:					;  xref F000:8F0C
F000:8F11  07					pop	es
F000:8F12  1F					pop	ds
F000:8F13  5F					pop	di
F000:8F14  5E					pop	si
F000:8F15  59					pop	cx
F000:8F16  C3					retn
							                        ;* No entry point to code
F000:8F17  57					push	di
F000:8F18  1E					push	ds
F000:8F19  06					push	es
F000:8F1A  67| 8B 7D 06				mov	di,word ptr [ebp+6]
F000:8F1E  8E DF				mov	ds,di
F000:8F20  67| C4 7D 02				les	di,dword ptr [ebp+2]	; Load 32 bit ptr
F000:8F24  E8 01C6				call	sub_57			; (90ED)
F000:8F27  07					pop	es
F000:8F28  1F					pop	ds
F000:8F29  5F					pop	di
F000:8F2A  C3					retn
F000:8F2B  53 51 57				db	 53h, 51h, 57h

F000:8F2E			locloop_408:					;  xref F000:8F35
F000:8F2E  E8 01DD				call	sub_58			; (910E)
F000:8F31  72 0B				jc	short loc_410		; Jump if carry Set
F000:8F33  AA					stosb				; Store al to es:[di]
F000:8F34  43					inc	bx
F000:8F35  E2 F7				loop	locloop_408		; Loop if cx > 0

F000:8F37  B4 00				mov	ah,0
F000:8F39  F8					clc				; Clear carry flag
F000:8F3A			loc_409:					;  xref F000:8F41
F000:8F3A њ5F					pop	di
F000:8F3B  59					pop	cx
F000:8F3C  5B					pop	bx
F000:8F3D  C3					retn
F000:8F3E			loc_410:					;  xref F000:8F31
F000:8F3E  B4 82				mov	ah,82h
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 87

F000:8F40  F9					stc				; Set carry flag
F000:8F41  EB F7				jmp	short loc_409		; (8F3A)

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:8D0A, 8D3E, 8DCA, 8DFA
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_52		proc	near
F000:8F43 њBE 8F90				mov	si,offset data_144	; (F000:8F90=42h)
F000:8F46  0E					push	cs
F000:8F47  1F					pop	ds
F000:8F48			loc_411:					;  xref F000:8F53
F000:8F48  38 44 02				cmp	[si+2],al
F000:8F4B  F8					clc				; Clear carry flag
F000:8F4C  74 08				jz	short loc_ret_412	; Jump if zero
F000:8F4E  03 34				add	si,[si]
F000:8F50  83 3C 00				cmp	word ptr [si],0
F000:8F53  75 F3				jne	loc_411			; Jump if not equal
F000:8F55  F9					stc				; Set carry flag

F000:8F56			loc_ret_412:					;  xref F000:8F4C
F000:8F56  C3					retn
				sub_52		endp

							                        ;* No entry point to code
F000:8F57  60					pusha				; Save all regs
F000:8F58  0A C0				or	al,al			; Zero ?
F000:8F5A  74 05				jz	short loc_413		; Jump if zero
F000:8F5C  E8 5DB3				call	sub_365			; (ED12)
F000:8F5F  EB 03				jmp	short loc_414		; (8F64)
F000:8F61			loc_413:					;  xref F000:8F5A
F000:8F61  E8 5DB2				call	sub_366			; (ED16)
F000:8F64			loc_414:					;  xref F000:8F5F
F000:8F64  61					popa				; Restore all regs
F000:8F65  C3					retn

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:8D9B
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_53		proc	near
F000:8F66  2E: F6 06 8280 10			test	cs:data_128,10h		; (F000:8280=2Fh)
F000:8F6C  74 15				jz	short loc_ret_416	; Jump if zero
F000:8F6E  50					push	ax
F000:8F6F  E4 61				in	al,61h			; port 61h, 8255 port B, read
F000:8F71  A8 0C				test	al,0Ch
F000:8F73  B0 0D				mov	al,0Dh
F000:8F75  75 02				jnz	short loc_415		; Jump if not zero
F000:8F77  B0 8D				mov	al,8Dh
F000:8F79			loc_415:					;  xref F000:8F75
F000:8F79  50					push	ax
F000:8F7A  E8 6F16				call	sub_407			; (FE93)
F000:8F7D  A8 20				test	al,20h			; ' '
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 88

F000:8F7F  58					pop	ax
F000:8F80  E6 70				out	70h,al			; port 70h, CMOS addr,bit7=NMI
										;  al = 8Dh, status register D
F000:8F82  58					pop	ax

F000:8F83			loc_ret_416:					;  xref F000:8F6C
F000:8F83  C3					retn
				sub_53		endp

F000:8F84  000C[00]				db	12 dup (0)
F000:8F90  42			data_144	db	42h			;  xref F000:8F43
F000:8F91  00 00 41 D0 0C 01			db	 00h, 00h, 41h,0D0h, 0Ch, 01h
F000:8F97  05 00 00 03 00 86			db	 05h, 00h, 00h, 03h, 00h, 86h
F000:8F9D  09 00 13 00 00 00			db	 09h, 00h, 13h, 00h, 00h, 00h
F000:8FA3  00 00 00 0A 00 86			db	 00h, 00h, 00h, 0Ah, 00h, 86h
F000:8FA9  09 00 32 00 00 0E			db	 09h, 00h, 32h, 00h, 00h, 0Eh
F000:8FAF  00 00 00 02 00 86			db	 00h, 00h, 00h, 02h, 00h, 86h
F000:8FB5  09 00 13 00 00 10			db	 09h, 00h, 13h, 00h, 00h, 10h
F000:8FBB  00 00 00 70 00 86			db	 00h, 00h, 00h, 70h, 00h, 86h
F000:8FC1  09 00 13				db	 09h, 00h, 13h
F000:8FC4  0008[00]				db	8 dup (0)
F000:8FCC  79 00 79 00 79 00			db	 79h, 00h, 79h, 00h, 79h, 00h
F000:8FD2  1D 00 01 41 D0 00			db	 1Dh, 00h, 01h, 41h,0D0h, 00h
F000:8FD8  00 08 00 01 03 00			db	 00h, 08h, 00h, 01h, 03h, 00h
F000:8FDE  4B 20 00 02 4B A0			db	 4Bh, 20h, 00h, 02h, 4Bh,0A0h
F000:8FE4  00 02 22 04 00 79			db	 00h, 02h, 22h, 04h, 00h, 79h
F000:8FEA  00 79 00 79 00 25			db	 00h, 79h, 00h, 79h, 00h, 25h
F000:8FF0  00 02 41 D0 02 00			db	 00h, 02h, 41h,0D0h, 02h, 00h
F000:8FF6  08 01 01 03 00 2A			db	 08h, 01h, 01h, 03h, 00h, 2Ah
F000:8FFC  10 04 4B 00 00 10			db	 10h, 04h, 4Bh, 00h, 00h, 10h
F000:9002  4B 80 00 11 4B 94			db	 4Bh, 80h, 00h, 11h, 4Bh, 94h
F000:9008  00 0C 4B C0 00 1F			db	 00h, 0Ch, 4Bh,0C0h, 00h, 1Fh
F000:900E  79 00 79 00 79 00			db	 79h, 00h, 79h, 00h, 79h, 00h
F000:9014  19 00 03 41 D0 01			db	 19h, 00h, 03h, 41h,0D0h, 01h
F000:901A  00 08 02 01 03 00			db	 00h, 08h, 02h, 01h, 03h, 00h
F000:9020  22 01 00 4B 40 00			db	 22h, 01h, 00h, 4Bh, 40h, 00h
F000:9026  04 79 00 79 00 79			db	 04h, 79h, 00h, 79h, 00h, 79h
F000:902C  00 19 00 04 41 D0			db	 00h, 19h, 00h, 04h, 41h,0D0h
F000:9032  0B 00 08 03 01 03			db	 0Bh, 00h, 08h, 03h, 01h, 03h
F000:9038  00 22 00 01 4B 70			db	 00h, 22h, 00h, 01h, 4Bh, 70h
F000:903E  00 02 79 00 79 00			db	 00h, 02h, 79h, 00h, 79h, 00h
F000:9044  79 00 1D 00 05 41			db	 79h, 00h, 1Dh, 00h, 05h, 41h
F000:904A  D0 03 03 09 00 00			db	0D0h, 03h, 03h, 09h, 00h, 00h
F000:9050  03 00 22 02 00 4B			db	 03h, 00h, 22h, 02h, 00h, 4Bh
F000:9056  60 00 01 4B 64 00			db	 60h, 00h, 01h, 4Bh, 64h, 00h
F000:905C  01 79 00 79 00 79			db	 01h, 79h, 00h, 79h, 00h, 79h
F000:9062  00 16 00 06 41 D0			db	 00h, 16h, 00h, 06h, 41h,0D0h
F000:9068  08 00 08 80 00 03			db	 08h, 00h, 08h, 80h, 00h, 03h
F000:906E  00 4B 61 00 01 79			db	 00h, 4Bh, 61h, 00h, 01h, 79h
F000:9074  00 79 00 79 00 19			db	 00h, 79h, 00h, 79h, 00h, 19h
F000:907A  00 07 41 D0 0C 04			db	 00h, 07h, 41h,0D0h, 0Ch, 04h
F000:9080  08 80 00 03 00 22			db	 08h, 80h, 00h, 03h, 00h, 22h
F000:9086  00 20 4B F0 00 10			db	 00h, 20h, 4Bh,0F0h, 00h, 10h
F000:908C  79 00 79 00 79 00			db	 79h, 00h, 79h, 00h, 79h, 00h
F000:9092  12 00 08 41 D0 0A			db	 12h, 00h, 08h, 41h,0D0h, 0Ah
F000:9098  03 06 04 00 03 00			db	 03h, 06h, 04h, 00h, 03h, 00h
F000:909E  79 00 79 00 79 00			db	 79h, 00h, 79h, 00h, 79h, 00h
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 89

F000:90A4  00 00				db	 00h, 00h

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:8D6D
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_54		proc	near
F000:90A6  66| B8 000A0000			mov	eax,0A0000h
F000:90AC  66| 50				push	eax
F000:90AE  66| 33 DB				xor	ebx,ebx			; Zero register
F000:90B1  B0 B6				mov	al,0B6h
F000:90B3  E6 70				out	70h,al			; port 70h, CMOS addr,bit7=NMI
F000:90B5  E4 71				in	al,71h			; port 71h, CMOS data
F000:90B7  8A E0				mov	ah,al
F000:90B9  B0 B5				mov	al,0B5h
F000:90BB  E6 70				out	70h,al			; port 70h, CMOS addr,bit7=NMI
F000:90BD  E4 71				in	al,71h			; port 71h, CMOS data
F000:90BF  8B D8				mov	bx,ax
F000:90C1  66| C1 E3 10				shl	ebx,10h			; Shift w/zeros fill
F000:90C5  66| 58				pop	eax
F000:90C7  66| 33 C9				xor	ecx,ecx			; Zero register
F000:90CA  66| 33 D2				xor	edx,edx			; Zero register
F000:90CD  C3					retn
				sub_54		endp

							                        ;* No entry point to code
F000:90CE  56					push	si
F000:90CF  1E					push	ds
F000:90D0  67| C5 75 02				lds	si,dword ptr [ebp+2]	; Load 32 bit ptr
F000:90D4  C7 04 0009				mov	word ptr [si],9
F000:90D8  67| C5 75 06				lds	si,dword ptr [ebp+6]	; Load 32 bit ptr
F000:90DC  C7 04 0084				mov	word ptr [si],84h
F000:90E0  33 C0				xor	ax,ax			; Zero register
F000:90E2  1F					pop	ds
F000:90E3  5E					pop	si
F000:90E4  C3					retn

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:8E7D
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_55		proc	near
F000:90E5  B8 008D				mov	ax,8Dh
F000:90E8  C3					retn
				sub_55		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:8E8E
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 90

				sub_56		proc	near
F000:90E9  B8 008D				mov	ax,8Dh
F000:90EC  C3					retn
				sub_56		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:8F24
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_57		proc	near
F000:90ED  56					push	si
F000:90EE  26: C6 05 01				mov	byte ptr es:[di],1
F000:90F2 њBE 003F				mov	si,offset vector_Fh_seg+1	; (0000:003F=0)
F000:90F5  B4 05				mov	ah,5
F000:90F7  E8 FAD2				call	sub_51			; (8BCC)
F000:90FA  26: 88 45 01				mov	es:[di+1],al
F000:90FE њBE 0040				mov	si,seg seg_b
F000:9101  B4 06				mov	ah,6
F000:9103  E8 FAC6				call	sub_51			; (8BCC)
F000:9106  26: 89 45 02				mov	es:[di+2],ax
F000:910A  33 C0				xor	ax,ax			; Zero register
F000:910C  5E					pop	si
F000:910D  C3					retn
				sub_57		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:8F2E
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_58		proc	near
F000:910E  32 C0				xor	al,al			; Zero register
F000:9110  F8					clc				; Clear carry flag
F000:9111  C3					retn
				sub_58		endp

							                        ;* No entry point to code
F000:9112  2E: 83 3E 9421 00			cmp	cs:data_148,0		; (F000:9421=1000h)
F000:9118  F9					stc				; Set carry flag
F000:9119  74 03				jz	short loc_ret_417	; Jump if zero
F000:911B  E8 01E2				call	sub_63			; (9300)

F000:911E			loc_ret_417:					;  xref F000:9119
F000:911E  C3					retn
							                        ;* No entry point to code
F000:911F  2E: 83 3E 9421 00			cmp	cs:data_148,0		; (F000:9421=1000h)
F000:9125  F9					stc				; Set carry flag
F000:9126  74 03				jz	short loc_ret_418	; Jump if zero
F000:9128  E8 01DF				call	sub_64			; (930A)

F000:912B			loc_ret_418:					;  xref F000:9126
F000:912B  C3					retn
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 91


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:919A, 91BC
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_59		proc	near
F000:912C  56					push	si
F000:912D  51					push	cx
F000:912E  57					push	di

F000:912F			locloop_419:					;  xref F000:9136
F000:912F  E8 01CE				call	sub_63			; (9300)
F000:9132  72 0C				jc	short loc_421		; Jump if carry Set
F000:9134  AA					stosb				; Store al to es:[di]
F000:9135  46					inc	si
F000:9136  E2 F7				loop	locloop_419		; Loop if cx > 0

F000:9138  B8 0000				mov	ax,0
F000:913B  F8					clc				; Clear carry flag
F000:913C			loc_420:					;  xref F000:9144
F000:913C њ5F					pop	di
F000:913D  59					pop	cx
F000:913E  5E					pop	si
F000:913F  C3					retn
F000:9140			loc_421:					;  xref F000:9132
F000:9140  B8 0082				mov	ax,82h
F000:9143  F9					stc				; Set carry flag
F000:9144  EB F6				jmp	short loc_420		; (913C)
				sub_59		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:91F8
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_60		proc	near
F000:9146  E8 01E3				call	sub_66			; (932C)
F000:9149  C3					retn
				sub_60		endp

							                        ;* No entry point to code
F000:914A  1E					push	ds
F000:914B  66| 2E: 8B 3E 9423			mov	edi,cs:data_149		; (F000:9423=0)
F000:9151  66| C1 EF 04				shr	edi,4			; Shift w/zeros fill
F000:9155  8E DF				mov	ds,di
F000:9157  E8 0002				call	sub_61			; (915C)
F000:915A  1F					pop	ds
F000:915B  C3					retn

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:9157
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 92

				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_61		proc	near
F000:915C  56					push	si
						assume	ds:seg_d
F000:915D  66| 2E: 8B 3E 9423			mov	edi,cs:data_149		; (F000:9423=0)
F000:9163  BE 000A				mov	si,0Ah
F000:9166  E8 01A1				call	sub_64			; (930A)
F000:9169  8B D8				mov	bx,ax
F000:916B  2E: 8B 0E 9421			mov	cx,cs:data_148		; (F000:9421=1000h)
F000:9170  E3 0C				jcxz	short loc_423		; Jump if cx=0
F000:9172  F7 DB				neg	bx
F000:9174  03 D9				add	bx,cx
F000:9176  D1 E1				shl	cx,1			; Shift w/zeros fill
F000:9178  B8 0000				mov	ax,0
F000:917B  F8					clc				; Clear carry flag
F000:917C			loc_422:					;  xref F000:9182
F000:917C њ5E					pop	si
F000:917D  C3					retn
F000:917E			loc_423:					;  xref F000:9170
F000:917E  B8 0056				mov	ax,56h
F000:9181  F9					stc				; Set carry flag
F000:9182  EB F8				jmp	short loc_422		; (917C)
				sub_61		endp

							                        ;* No entry point to code
F000:9184  51					push	cx
F000:9185  56					push	si
F000:9186  81 C6 000A				add	si,0Ah
F000:918A  E8 017D				call	sub_64			; (930A)
F000:918D  0B C0				or	ax,ax			; Zero ?
F000:918F  74 0F				jz	short loc_425		; Jump if zero
F000:9191  5E					pop	si
F000:9192  56					push	si
F000:9193  03 F0				add	si,ax
F000:9195  E8 0172				call	sub_64			; (930A)
F000:9198  8B C8				mov	cx,ax
F000:919A  E8 FF8F				call	sub_59			; (912C)
F000:919D			loc_424:					;  xref F000:91A4
F000:919D њ5E					pop	si
F000:919E  59					pop	cx
F000:919F  C3					retn
F000:91A0			loc_425:					;  xref F000:918F
F000:91A0  B8 0056				mov	ax,56h
F000:91A3  F9					stc				; Set carry flag
F000:91A4  EB F7				jmp	short loc_424		; (919D)
							                        ;* No entry point to code
F000:91A6  53					push	bx
F000:91A7  51					push	cx
F000:91A8  52					push	dx
F000:91A9  06					push	es
F000:91AA  1E					push	ds
F000:91AB  57					push	di
F000:91AC  56					push	si
F000:91AD  1E					push	ds
F000:91AE  06					push	es
F000:91AF  1F					pop	ds
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 93

F000:91B0  07					pop	es
F000:91B1  87 F7				xchg	si,di
F000:91B3  2E: 8B 0E 9421			mov	cx,cs:data_148		; (F000:9421=1000h)
F000:91B8  8B D7				mov	dx,di
F000:91BA  03 F9				add	di,cx
F000:91BC  E8 FF6D				call	sub_59			; (912C)
F000:91BF  72 3A				jc	short loc_427		; Jump if carry Set
F000:91C1  26: 8B 5D 0A				mov	bx,es:[di+0Ah]
F000:91C5  03 FB				add	di,bx
F000:91C7  2B CB				sub	cx,bx
F000:91C9  32 C0				xor	al,al			; Zero register
F000:91CB  57					push	di
F000:91CC  FC					cld				; Clear direction
F000:91CD  F3/ AA				rep	stosb			; Rep when cx >0 Store al to es:[di]
F000:91CF  8B DA				mov	bx,dx
F000:91D1  8B D7				mov	dx,di
F000:91D3  5F					pop	di
F000:91D4  26: 8B 0F				mov	cx,es:[bx]

F000:91D7			locloop_426:					;  xref F000:91E3
F000:91D7  26: 8A 07				mov	al,es:[bx]
F000:91DA  26: 88 05				mov	es:[di],al
F000:91DD  43					inc	bx
F000:91DE  47					inc	di
F000:91DF  3B FA				cmp	di,dx
F000:91E1  73 20				jae	short loc_428		; Jump if above or =
F000:91E3  E2 F2				loop	locloop_426		; Loop if cx > 0

F000:91E5  1E					push	ds
F000:91E6  06					push	es
F000:91E7  1F					pop	ds
F000:91E8  07					pop	es
F000:91E9  8B FE				mov	di,si
F000:91EB  5E					pop	si
F000:91EC  56					push	si
F000:91ED  2E: 03 36 9421			add	si,cs:data_148		; (F000:9421=1000h)
F000:91F2  E8 0014				call	sub_62			; (9209)
F000:91F5  E8 048E				call	sub_74			; (9686)
F000:91F8  E8 FF4B				call	sub_60			; (9146)
F000:91FB			loc_427:					;  xref F000:91BF, 9207
F000:91FB њ5E					pop	si
F000:91FC  5F					pop	di
F000:91FD  1F					pop	ds
F000:91FE  07					pop	es
F000:91FF  5A					pop	dx
F000:9200  59					pop	cx
F000:9201  5B					pop	bx
F000:9202  C3					retn
F000:9203			loc_428:					;  xref F000:91E1
F000:9203  B8 0056				mov	ax,56h
F000:9206  F9					stc				; Set carry flag
F000:9207  EB F2				jmp	short loc_427		; (91FB)

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:91F2
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 94

				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_62		proc	near
F000:9209  60					pusha				; Save all regs
F000:920A  83 7C 0A 00				cmp	word ptr [si+0Ah],0
F000:920E  74 65				je	short loc_435		; Jump if equal
F000:9210  03 74 0A				add	si,[si+0Ah]
F000:9213  83 3C 00				cmp	word ptr [si],0
F000:9216  74 5D				je	short loc_435		; Jump if equal
F000:9218  66| 81 7C 02       +			cmp	dword ptr [si+2],47464341h
           47464341
F000:9220  75 53				jne	short loc_435		; Jump if not equal
F000:9222  56					push	si
F000:9223  8B 3C				mov	di,[si]
F000:9225  03 FE				add	di,si
F000:9227  83 C6 0C				add	si,0Ch
F000:922A			loc_429:					;  xref F000:9261
F000:922A њBB 000C				mov	bx,offset @prn_port_3	; (0040:000C=0)
F000:922D			loc_430:					;  xref F000:9256
F000:922D  F6 40 04 40				test	byte ptr [bx+si+4],40h	; '@'
F000:9231  74 1B				jz	short loc_432		; Jump if zero
F000:9233  66| 81 78 06       +			cmp	dword ptr [bx+si+6],47464341h
           47464341
F000:923B  75 11				jne	short loc_432		; Jump if not equal
F000:923D  80 78 0C 04				cmp	byte ptr [bx+si+0Ch],4
F000:9241  74 06				je	short loc_431		; Jump if equal
F000:9243  80 78 0C 10				cmp	byte ptr [bx+si+0Ch],10h
F000:9247  75 05				jne	short loc_432		; Jump if not equal
F000:9249			loc_431:					;  xref F000:9241
F000:9249  C7 40 12 0000			mov	word ptr [bx+si+12h],0
F000:924E			loc_432:					;  xref F000:9231, 923B, 9247
F000:924E  03 18				add	bx,[bx+si]
F000:9250  83 C3 02				add	bx,2
F000:9253  83 38 00				cmp	word ptr [bx+si],0
F000:9256  75 D5				jne	loc_430			; Jump if not equal
F000:9258  03 34				add	si,[si]
F000:925A  3B F7				cmp	si,di
F000:925C  77 05				ja	short loc_433		; Jump if above
F000:925E  83 3C 00				cmp	word ptr [si],0
F000:9261  75 C7				jne	loc_429			; Jump if not equal
F000:9263			loc_433:					;  xref F000:925C
F000:9263  5E					pop	si
F000:9264  8B 0C				mov	cx,[si]
F000:9266  49					dec	cx
F000:9267  49					dec	cx
F000:9268  33 DB				xor	bx,bx			; Zero register
F000:926A  32 E4				xor	ah,ah			; Zero register

F000:926C			locloop_434:					;  xref F000:926F
F000:926C  AC					lodsb				; String [si] to al
F000:926D  03 D8				add	bx,ax
F000:926F  E2 FB				loop	locloop_434		; Loop if cx > 0

F000:9271  F7 DB				neg	bx
F000:9273  89 1C				mov	[si],bx
F000:9275			loc_435:					;  xref F000:920E, 9216, 9220
F000:9275  61					popa				; Restore all regs
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 95

F000:9276  C3					retn
				sub_62		endp

F000:9277  0089[00]				db	137 dup (0)

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:911B, 912F
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_63		proc	near
F000:9300  51					push	cx
F000:9301  50					push	ax
F000:9302  E8 0009				call	sub_65			; (930E)
F000:9305  59					pop	cx
F000:9306  8A E5				mov	ah,ch
F000:9308  59					pop	cx
F000:9309  C3					retn
				sub_63		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:9128, 9166, 918A, 9195
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_64		proc	near
F000:930A  E8 0001				call	sub_65			; (930E)
F000:930D  C3					retn
				sub_64		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:9302, 930A
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_65		proc	near
F000:930E  52					push	dx
F000:930F  51					push	cx
F000:9310  E8 0340				call	sub_73			; (9653)
F000:9313  72 10				jc	short loc_436		; Jump if carry Set
F000:9315  9C					pushf				; Push flags
F000:9316  FA					cli				; Disable interrupts
F000:9317  0E					push	cs
F000:9318  68 9321				push	9321h
F000:931B  60					pusha				; Save all regs
F000:931C  8A C4				mov	al,ah
F000:931E  E9 011F				jmp	loc_442			; (9440)
F000:9321  9D 8B C1 F8				db	 9Dh, 8Bh,0C1h,0F8h
F000:9325			loc_436:					;  xref F000:9313
F000:9325  59					pop	cx
F000:9326  5A					pop	dx
F000:9327  C3					retn
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 96

F000:9328  F9 C3 F9 C3				db	0F9h,0C3h,0F9h,0C3h

				;пппп External Entry into Subroutine пппппппппппппппппппппппппппппппппппппп
				;
				;         Called from:   F000:9146

				sub_66:
F000:932C  66| 51				push	ecx
F000:932E  66| 56				push	esi
F000:9330  66| 57				push	edi
F000:9332  2E: 8B 0E 9421			mov	cx,cs:data_148		; (F000:9421=1000h)
F000:9337  B8 0056				mov	ax,56h
F000:933A  F9					stc				; Set carry flag
F000:933B  E3 23				jcxz	short loc_438		; Jump if cx=0
F000:933D  53					push	bx
F000:933E  51					push	cx
F000:933F  56					push	si
F000:9340  9C					pushf				; Push flags
F000:9341  32 DB				xor	bl,bl			; Zero register
F000:9343  88 5C 04				mov	[si+4],bl
F000:9346  FC					cld				; Clear direction

F000:9347			locloop_437:					;  xref F000:934A
F000:9347  AC					lodsb				; String [si] to al
F000:9348  02 D8				add	bl,al
F000:934A  E2 FB				loop	locloop_437		; Loop if cx > 0

F000:934C  9D					popf				; Pop flags
F000:934D  5E					pop	si
F000:934E  59					pop	cx
F000:934F  F6 DB				neg	bl
F000:9351  88 5C 04				mov	[si+4],bl
F000:9354  5B					pop	bx
F000:9355  E8 000F				call	sub_67			; (9367)
F000:9358  B8 0000				mov	ax,0
F000:935B  73 03				jnc	short loc_438		; Jump if carry=0
F000:935D  B8 0055				mov	ax,55h
F000:9360			loc_438:					;  xref F000:933B, 935B
F000:9360  66| 5F				pop	edi
F000:9362  66| 5E				pop	esi
F000:9364  66| 59				pop	ecx
F000:9366  C3					retn

				;пппп External Entry into Subroutine пппппппппппппппппппппппппппппппппппппп
				;
				;         Called from:   F000:9355

				sub_67:
F000:9367  66| 60				pushad				; Save all regs
F000:9369  9C					pushf				; Push flags
F000:936A  FA					cli				; Disable interrupts
F000:936B  B4 01				mov	ah,1
F000:936D  E8 0290				call	sub_72			; (9600)
F000:9370  06					push	es
F000:9371  1E					push	ds
F000:9372  06					push	es
F000:9373  1E					push	ds
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 97

F000:9374  07					pop	es
F000:9375  1F					pop	ds
F000:9376  E8 00D5				call	sub_68			; (944E)
F000:9379  72 03				jc	short loc_439		; Jump if carry Set
F000:937B  E8 00F0				call	sub_69			; (946E)
F000:937E			loc_439:					;  xref F000:9379
F000:937E  9C					pushf				; Push flags
F000:937F  32 E4				xor	ah,ah			; Zero register
F000:9381  E8 027C				call	sub_72			; (9600)
F000:9384  9D					popf				; Pop flags
F000:9385  1F					pop	ds
F000:9386  07					pop	es
F000:9387  72 05				jc	short loc_441		; Jump if carry Set
F000:9389  9D					popf				; Pop flags
F000:938A  F8					clc				; Clear carry flag
F000:938B			loc_440:					;  xref F000:9390
F000:938B њ66| 61				popad				; Restore all regs
F000:938D  C3					retn
F000:938E			loc_441:					;  xref F000:9387
F000:938E  9D					popf				; Pop flags
F000:938F  F9					stc				; Set carry flag
F000:9390  EB F9				jmp	short loc_440		; (938B)
F000:9392  006E[00]				db	110 dup (0)
F000:9400  24 50 6E 50 10 21			db	 24h, 50h, 6Eh, 50h, 10h, 21h
F000:9406  00 00 35 00 00 00			db	 00h, 00h, 35h, 00h, 00h, 00h
F000:940C  00 94 8C 00 F0 BE			db	 00h, 94h, 8Ch, 00h,0F0h,0BEh
F000:9412  8C 00 00 0F 00 00			db	 8Ch, 00h, 00h, 0Fh, 00h, 00h
F000:9418  00 00 00 00 F0 00			db	 00h, 00h, 00h, 00h,0F0h, 00h
F000:941E  00 0F 00				db	 00h, 0Fh, 00h
F000:9421  1000			data_148	dw	1000h			;  xref F000:9112, 911F, 916B, 91B3
										;            91ED, 9332
F000:9423  000F0000		data_149	dd	0F0000h			;  xref F000:914B, 915D
F000:9427  2E 8B C0 2E 8B C0			db	 2Eh, 8Bh,0C0h, 2Eh, 8Bh,0C0h
F000:942D  2E 8B C0 2E 8B C0			db	 2Eh, 8Bh,0C0h, 2Eh, 8Bh,0C0h
F000:9433  2E 8B C0 2E 8B C0			db	 2Eh, 8Bh,0C0h, 2Eh, 8Bh,0C0h
F000:9439  2E 8B C0 2E 8B C0			db	 2Eh, 8Bh,0C0h, 2Eh, 8Bh,0C0h
F000:943F  90					db	 90h
F000:9440			loc_442:					;  xref F000:931E
F000:9440  EE					out	dx,al			; port 1000h ??i/o non-standard
F000:9441  EE					out	dx,al			; port 1000h ??i/o non-standard
F000:9442  EE					out	dx,al			; port 1000h ??i/o non-standard
F000:9443  EE					out	dx,al			; port 1000h ??i/o non-standard
F000:9444  EE					out	dx,al			; port 1000h ??i/o non-standard
F000:9445  61					popa				; Restore all regs
F000:9446  8B 0C				mov	cx,[si]
F000:9448  EE					out	dx,al			; port 9321h ??i/o non-standard
F000:9449  EE					out	dx,al			; port 9321h ??i/o non-standard
F000:944A  EE					out	dx,al			; port 9321h ??i/o non-standard
F000:944B  EE					out	dx,al			; port 9321h ??i/o non-standard
F000:944C  EE					out	dx,al			; port 9321h ??i/o non-standard
F000:944D  CB					retf				; Return far
				sub_65		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
           MBIOS.LST       BIOS ROM Analysis			Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 98

				;         Called from:   F000:9376
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_68		proc	near
F000:944E  F8					clc				; Clear carry flag
F000:944F  C3					retn
				sub_68		endp

							                        ;* No entry point to code
F000:9450  2E 8B C0 2E 8B C0			db	 2Eh, 8Bh,0C0h, 2Eh, 8Bh,0C0h
F000:9456  2E 8B C0 2E 8B C0			db	 2Eh, 8Bh,0C0h, 2Eh, 8Bh,0C0h
F000:945C  2E 8B C0 90				db	 2Eh, 8Bh,0C0h, 90h
F000:9460			loc_443:					;  xref F000:94CE, 94E1
F000:9460 њEE					out	dx,al			; port 0, DMA-1 bas&add ch 0
F000:9461  EE					out	dx,al			; port 0, DMA-1 bas&add ch 0
F000:9462  EE					out	dx,al			; port 0, DMA-1 bas&add ch 0
F000:9463  EE					out	dx,al			; port 0, DMA-1 bas&add ch 0
F000:9464  EE					out	dx,al			; port 0, DMA-1 bas&add ch 0
F000:9465  61					popa				; Restore all regs
F000:9466  8A 1D				mov	bl,[di]
F000:9468  EE					out	dx,al			; port 0, DMA-1 bas&add ch 0
F000:9469  EE					out	dx,al			; port 0, DMA-1 bas&add ch 0
F000:946A  EE					out	dx,al			; port 0, DMA-1 bas&add ch 0
F000:946B  EE					out	dx,al			; port 0, DMA-1 bas&add ch 0
F000:946C  EE					out	dx,al			; port 0, DMA-1 bas&add ch 0
F000:946D  CB					retf				; Return far

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:937B
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_69		proc	near
F000:946E  66| 60				pushad				; Save all regs
F000:9470  50					push	ax
F000:9471  B0 40				mov	al,40h			; '@'
F000:9473  E6 80				out	80h,al			; port 80h, POST checkpoint
F000:9475  58					pop	ax
F000:9476  E8 01DA				call	sub_73			; (9653)
F000:9479  50					push	ax
F000:947A  B0 41				mov	al,41h			; 'A'
F000:947C  E6 80				out	80h,al			; port 80h, POST checkpoint
F000:947E  58					pop	ax
F000:947F  66| 56				push	esi
F000:9481  66| 57				push	edi
F000:9483  66| 51				push	ecx
F000:9485  C1 E9 07				shr	cx,7			; Shift w/zeros fill

F000:9488			locloop_444:					;  xref F000:94F7
F000:9488  50					push	ax
F000:9489  B0 42				mov	al,42h			; 'B'
F000:948B  E6 80				out	80h,al			; port 80h, POST checkpoint
F000:948D  58					pop	ax
F000:948E  50					push	ax
F000:948F  0E					push	cs
F000:9490  68 94A4				push	94A4h
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 99

F000:9493  60					pusha				; Save all regs
F000:9494  BB AA55				mov	bx,0AA55h
F000:9497  B5 A0				mov	ch,0A0h
F000:9499 њBE 5555				mov	si,data_44e		; (0040:5555=0)
F000:949C  BF 2AAA				mov	di,2AAAh
F000:949F  8A C4				mov	al,ah
F000:94A1  E9 009C				jmp	loc_447			; (9540)
F000:94A4  58 51 B9 80 00			db	 58h, 51h,0B9h, 80h, 00h

F000:94A9			locloop_445:					;  xref F000:94BA
F000:94A9  50					push	ax
F000:94AA  0E					push	cs
F000:94AB  68 94B7				push	94B7h
F000:94AE  26: 8A 1C				mov	bl,es:[si]
F000:94B1  60					pusha				; Save all regs
F000:94B2  8A C4				mov	al,ah
F000:94B4  E9 00C9				jmp	loc_449			; (9580)
							                        ;* No entry point to code
F000:94B7  58					pop	ax
F000:94B8  46					inc	si
F000:94B9  47					inc	di
F000:94BA  E2 ED				loop	locloop_445		; Loop if cx > 0

F000:94BC  E8 009E				call	sub_71			; (955D)
F000:94BF  4F					dec	di
F000:94C0  50					push	ax
F000:94C1  B0 43				mov	al,43h			; 'C'
F000:94C3  E6 80				out	80h,al			; port 80h, POST checkpoint
F000:94C5  58					pop	ax
F000:94C6  50					push	ax
F000:94C7  0E					push	cs
F000:94C8  68 94D0				push	94D0h
F000:94CB  60					pusha				; Save all regs
F000:94CC  8A C4				mov	al,ah
F000:94CE  EB 90				jmp	short loc_443		; (9460)
							                        ;* No entry point to code
F000:94D0  58					pop	ax
F000:94D1  50					push	ax
F000:94D2  B0 43				mov	al,43h			; 'C'
F000:94D4  E6 80				out	80h,al			; port 80h, POST checkpoint
F000:94D6  58					pop	ax
F000:94D7  8A FB				mov	bh,bl
F000:94D9			loc_446:					;  xref F000:94F3
F000:94D9  50					push	ax
F000:94DA  0E					push	cs
F000:94DB  68 94E4				push	94E4h
F000:94DE  60					pusha				; Save all regs
F000:94DF  8A C4				mov	al,ah
F000:94E1  E9 FF7C				jmp	loc_443			; (9460)
							                        ;* No entry point to code
F000:94E4  58					pop	ax
F000:94E5  50					push	ax
F000:94E6  B0 43				mov	al,43h			; 'C'
F000:94E8  E6 80				out	80h,al			; port 80h, POST checkpoint
F000:94EA  58					pop	ax
F000:94EB  86 DF				xchg	bl,bh
F000:94ED  81 E3 4040				and	bx,4040h
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 100

F000:94F1  38 FB				cmp	bl,bh
F000:94F3  75 E4				jne	loc_446			; Jump if not equal
F000:94F5  47					inc	di
F000:94F6  59					pop	cx
F000:94F7  E2 8F				loop	locloop_444		; Loop if cx > 0

F000:94F9  66| 59				pop	ecx
F000:94FB  66| 5E				pop	esi
F000:94FD  66| 5F				pop	edi
F000:94FF  50					push	ax
F000:9500  B0 44				mov	al,44h			; 'D'
F000:9502  E6 80				out	80h,al			; port 80h, POST checkpoint
F000:9504  58					pop	ax
F000:9505  50					push	ax
F000:9506  0E					push	cs
F000:9507  68 951A				push	951Ah
F000:950A  60					pusha				; Save all regs
F000:950B  BB AA55				mov	bx,0AA55h
F000:950E  B5 A0				mov	ch,0A0h
F000:9510  BE 5555				mov	si,5555h
F000:9513  BF 2AAA				mov	di,2AAAh
F000:9516  8A C4				mov	al,ah
F000:9518  EB 26				jmp	short loc_447		; (9540)
							                        ;* No entry point to code
F000:951A  E8 0033				call	sub_70			; (9550)
F000:951D  58					pop	ax
F000:951E  0E					push	cs
F000:951F  68 9532				push	9532h
F000:9522  60					pusha				; Save all regs
F000:9523  BB AA55				mov	bx,0AA55h
F000:9526  B5 F0				mov	ch,0F0h
F000:9528 њBE 5555				mov	si,data_44e		; (0040:5555=0)
F000:952B њBF 2AAA				mov	di,data_39e		; (0040:2AAA=0CDh)
F000:952E  8A C4				mov	al,ah
F000:9530  EB 0E				jmp	short loc_447		; (9540)
							                        ;* No entry point to code
F000:9532  50					push	ax
F000:9533  B0 45				mov	al,45h			; 'E'
F000:9535  E6 80				out	80h,al			; port 80h, POST checkpoint
F000:9537  58					pop	ax
F000:9538  F8					clc				; Clear carry flag
F000:9539  66| 61				popad				; Restore all regs
F000:953B  C3					retn
F000:953C  2E 8B C0 90				db	 2Eh, 8Bh,0C0h, 90h
F000:9540			loc_447:					;  xref F000:94A1, 9518, 9530
F000:9540  EE					out	dx,al			; port 0, DMA-1 bas&add ch 0
F000:9541  EE					out	dx,al			; port 0, DMA-1 bas&add ch 0
F000:9542  EE					out	dx,al			; port 0, DMA-1 bas&add ch 0
F000:9543  EE					out	dx,al			; port 0, DMA-1 bas&add ch 0
F000:9544  EE					out	dx,al			; port 0, DMA-1 bas&add ch 0
F000:9545  EE					out	dx,al			; port 0, DMA-1 bas&add ch 0
F000:9546  88 3C				mov	[si],bh
F000:9548  88 1D				mov	[di],bl
F000:954A  88 2C				mov	[si],ch
F000:954C  61					popa				; Restore all regs
F000:954D  EE					out	dx,al			; port 0F000h ??i/o non-standard
F000:954E  EE					out	dx,al			; port 0F000h ??i/o non-standard
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 101

F000:954F  CB					retf				; Return far

				;пппп External Entry into Subroutine пппппппппппппппппппппппппппппппппппппп
				;
				;         Called from:   F000:951A

				sub_70:
F000:9550  9C					pushf				; Push flags
F000:9551  51					push	cx
F000:9552  B9 000A				mov	cx,0Ah

F000:9555			locloop_448:					;  xref F000:9558
F000:9555  E8 0005				call	sub_71			; (955D)
F000:9558  E2 FB				loop	locloop_448		; Loop if cx > 0

F000:955A  59					pop	cx
F000:955B  9D					popf				; Pop flags
F000:955C  C3					retn

				;пппп External Entry into Subroutine пппппппппппппппппппппппппппппппппппппп
				;
				;         Called from:   F000:94BC, 9555

				sub_71:
F000:955D  9C					pushf				; Push flags
F000:955E  51					push	cx
F000:955F  B9 0043				mov	cx,43h
F000:9562  E8 62F9				call	sub_403			; (F85E)
F000:9565  59					pop	cx
F000:9566  9D					popf				; Pop flags
F000:9567  C3					retn
							                        ;* No entry point to code
F000:9568  2E 8B C0 2E 8B C0			db	 2Eh, 8Bh,0C0h, 2Eh, 8Bh,0C0h
F000:956E  2E 8B C0 2E 8B C0			db	 2Eh, 8Bh,0C0h, 2Eh, 8Bh,0C0h
F000:9574  2E 8B C0 2E 8B C0			db	 2Eh, 8Bh,0C0h, 2Eh, 8Bh,0C0h
F000:957A  2E 8B C0 2E 8B C0			db	 2Eh, 8Bh,0C0h, 2Eh, 8Bh,0C0h
F000:9580			loc_449:					;  xref F000:94B4
F000:9580  EE					out	dx,al			; port 1000h ??i/o non-standard
F000:9581  EE					out	dx,al			; port 1000h ??i/o non-standard
F000:9582  EE					out	dx,al			; port 1000h ??i/o non-standard
F000:9583  EE					out	dx,al			; port 1000h ??i/o non-standard
F000:9584  EE					out	dx,al			; port 1000h ??i/o non-standard
F000:9585  EE					out	dx,al			; port 1000h ??i/o non-standard
F000:9586  EE					out	dx,al			; port 1000h ??i/o non-standard
F000:9587  88 1D				mov	[di],bl
F000:9589  61					popa				; Restore all regs
F000:958A  EE					out	dx,al			; port 2AAAh ??i/o non-standard
F000:958B  EE					out	dx,al			; port 2AAAh ??i/o non-standard
F000:958C  EE					out	dx,al			; port 2AAAh ??i/o non-standard
F000:958D  CB					retf				; Return far
				sub_69		endp

F000:958E  0072[00]				db	114 dup (0)

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
           MBIOS.LST       BIOS ROM Analysis			Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 102

				;         Called from:   F000:936D, 9381
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_72		proc	near
F000:9600  60					pusha				; Save all regs
F000:9601  0A E4				or	ah,ah			; Zero ?
F000:9603  75 02				jnz	short loc_450		; Jump if not zero
F000:9605  EB 26				jmp	short loc_451		; (962D)
F000:9607			loc_450:					;  xref F000:9603
F000:9607  B8 4747				mov	ax,4747h
F000:960A  BB BF00				mov	bx,0BF00h
F000:960D  E8 2188				call	sub_220			; (B798)
F000:9610  B8 5757				mov	ax,5757h
F000:9613  BB FF24				mov	bx,0FF24h
F000:9616  E8 217F				call	sub_220			; (B798)
F000:9619  B8 5454				mov	ax,5454h
F000:961C  BB FE00				mov	bx,0FE00h
F000:961F  E8 2165				call	sub_219			; (B787)
F000:9622  B8 5555				mov	ax,5555h
F000:9625  BB EF40				mov	bx,0EF40h
F000:9628  E8 215C				call	sub_219			; (B787)
F000:962B  EB 24				jmp	short loc_452		; (9651)
F000:962D			loc_451:					;  xref F000:9605
F000:962D  B8 4747				mov	ax,4747h
F000:9630  BB FF40				mov	bx,0FF40h
F000:9633  E8 2162				call	sub_220			; (B798)
F000:9636  B8 5757				mov	ax,5757h
F000:9639  BB FB00				mov	bx,0FB00h
F000:963C  E8 2159				call	sub_220			; (B798)
F000:963F  B8 5555				mov	ax,5555h
F000:9642  BB BF10				mov	bx,0BF10h
F000:9645  E8 213F				call	sub_219			; (B787)
F000:9648  B8 5454				mov	ax,5454h
F000:964B  BB FF01				mov	bx,0FF01h
F000:964E  E8 2136				call	sub_219			; (B787)
F000:9651			loc_452:					;  xref F000:962B
F000:9651  61					popa				; Restore all regs
F000:9652  C3					retn
				sub_72		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:9310, 9476
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_73		proc	near
F000:9653  53					push	bx
F000:9654  66| 50				push	eax
F000:9656  BA 0CF8				mov	dx,0CF8h
F000:9659  66| B8 80008054			mov	eax,80008054h
F000:965F  66| EF				out	dx,eax			; port 0CF8h ??i/o non-standard
F000:9661  E3 00				jcxz	short $+2		; delay for I/O
F000:9663  E3 00				jcxz	short $+2		; delay for I/O
F000:9665  B2 FD				mov	dl,0FDh
F000:9667  EC					in	al,dx			; port 0CFDh ??i/o non-standard
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 103

F000:9668  8A D8				mov	bl,al
F000:966A  66| 58				pop	eax
F000:966C  8A C3				mov	al,bl
F000:966E  8A E0				mov	ah,al
F000:9670  80 E4 3F				and	ah,3Fh			; '?'
F000:9673  80 CC 40				or	ah,40h			; '@'
F000:9676  5B					pop	bx
F000:9677  F8					clc				; Clear carry flag
F000:9678  C3					retn
				sub_73		endp

F000:9679  0007[00]				db	7 dup (0)

F000:9680			int_15h_servics	proc	near			;  xref F000:F859
F000:9680 њE9 EDD8				jmp	loc_244			; (845B)

				int_15h_servics	endp

F000:9683			int_2_NMI	proc	near			;  xref F000:E2C3
F000:9683 њE9 14F2				jmp	loc_700			; (AB78)
				int_2_NMI	endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:91F5
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_74		proc	near
F000:9686  B4 81				mov	ah,81h
F000:9688  F9					stc				; Set carry flag
F000:9689  C3					retn
				sub_74		endp

F000:968A  00 00 00 00 00 00			db	 00h, 00h, 00h, 00h, 00h, 00h
F000:9690  51 56 B0 00 2E 0F			db	 51h, 56h,0B0h, 00h, 2Eh, 0Fh
F000:9696  B6 0E 95 98 E3 10			db	0B6h, 0Eh, 95h, 98h,0E3h, 10h
F000:969C  BE 98 98				db	0BEh, 98h, 98h

F000:969F			locloop_453:					;  xref F000:96AA
F000:969F  2E: 38 04				cmp	cs:[si],al
F000:96A2  76 03				jbe	short loc_454		; Jump if below or =
F000:96A4  2E: 8A 04				mov	al,cs:[si]
F000:96A7			loc_454:					;  xref F000:96A2
F000:96A7  83 C6 10				add	si,10h
F000:96AA  E2 F3				loop	locloop_453		; Loop if cx > 0

F000:96AC  5E					pop	si
F000:96AD  59					pop	cx
F000:96AE  C3					retn
							                        ;* No entry point to code
F000:96AF  E8 0226		;*		call	sub_80			;*(98D8)
F000:96AF  E8 26 02				db	0E8h, 26h, 02h
F000:96B2  C3					retn
							                        ;* No entry point to code
F000:96B3  1E					push	ds
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 104

F000:96B4  0E					push	cs
F000:96B5  1F					pop	ds
F000:96B6  E8 0332				call	sub_85			; (99EB)
F000:96B9  1F					pop	ds
F000:96BA  C3					retn
							                        ;* No entry point to code
F000:96BB  1E					push	ds
F000:96BC  0E					push	cs
F000:96BD  1F					pop	ds
F000:96BE  E8 02DE				call	sub_84			; (999F)
F000:96C1  1F					pop	ds
F000:96C2  C3					retn
							                        ;* No entry point to code
F000:96C3  E8 0427				call	sub_88			; (9AED)
F000:96C6  B4 00				mov	ah,0
F000:96C8  F8					clc				; Clear carry flag
F000:96C9  C3					retn
							                        ;* No entry point to code
F000:96CA  E8 0420				call	sub_88			; (9AED)
F000:96CD  E8 0450				call	sub_89			; (9B20)
F000:96D0  66| BA 20494350			mov	edx,20494350h
F000:96D6  BB 0210				mov	bx,210h
F000:96D9  B4 00				mov	ah,0
F000:96DB  F8					clc				; Clear carry flag
F000:96DC  C3					retn
							                        ;* No entry point to code
F000:96DD  83 FA FF				cmp	dx,0FFFFh
F000:96E0  74 1A				je	short loc_457		; Jump if equal
F000:96E2  66| 52				push	edx
F000:96E4  66| C1 E2 10				shl	edx,10h			; Shift w/zeros fill
F000:96E8  8B D1				mov	dx,cx
F000:96EA  66| C1 C2 10				rol	edx,10h			; Rotate
F000:96EE  32 DB				xor	bl,bl			; Zero register
F000:96F0  E8 012D				call	sub_79			; (9820)
F000:96F3  B4 00				mov	ah,0
F000:96F5  73 02				jnc	short loc_455		; Jump if carry=0
F000:96F7  B4 86				mov	ah,86h
F000:96F9			loc_455:					;  xref F000:96F5
F000:96F9  66| 5A				pop	edx

F000:96FB			loc_ret_456:					;  xref F000:96FF
F000:96FB њC3					retn
F000:96FC			loc_457:					;  xref F000:96E0
F000:96FC  B4 83				mov	ah,83h
F000:96FE  F9					stc				; Set carry flag
F000:96FF  EB FA				jmp	short loc_ret_456	; (96FB)
							                        ;* No entry point to code
F000:9701  66| 52				push	edx
F000:9703  66| 8B D1				mov	edx,ecx
F000:9706  66| 81 E2 00FFFFFF			and	edx,0FFFFFFh
F000:970D  66| 81 FA 00FFFFFF			cmp	edx,0FFFFFFh
F000:9714  F9					stc				; Set carry flag
F000:9715  74 09				jz	short loc_458		; Jump if zero
F000:9717  B3 01				mov	bl,1
F000:9719  E8 0104				call	sub_79			; (9820)
F000:971C  B4 00				mov	ah,0
F000:971E  73 02				jnc	short loc_459		; Jump if carry=0
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 105

F000:9720			loc_458:					;  xref F000:9715
F000:9720  B4 86				mov	ah,86h
F000:9722			loc_459:					;  xref F000:971E
F000:9722  66| 5A				pop	edx
F000:9724  C3					retn
F000:9725  E8 FB 03 C3				db	0E8h,0FBh, 03h,0C3h

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:9844, 9B08
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_75		proc	near
F000:9729  56					push	si
F000:972A  BE FF00				mov	si,0FF00h
F000:972D  85 FE				test	di,si
F000:972F  75 0A				jnz	short loc_461		; Jump if not zero
F000:9731  E8 03F3				call	sub_90			; (9B27)
F000:9734  72 05				jc	short loc_461		; Jump if carry Set
F000:9736  B4 00				mov	ah,0
F000:9738  F8					clc				; Clear carry flag
F000:9739			loc_460:					;  xref F000:973E
F000:9739 њ5E					pop	si
F000:973A  C3					retn
F000:973B			loc_461:					;  xref F000:972F, 9734
F000:973B  F9					stc				; Set carry flag
F000:973C  B4 87				mov	ah,87h
F000:973E  EB F9				jmp	short loc_460		; (9739)
				sub_75		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:9AFA
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_76		proc	near
F000:9740  56					push	si
F000:9741  BE FF01				mov	si,0FF01h
F000:9744  85 FE				test	di,si
F000:9746  75 0A				jnz	short loc_463		; Jump if not zero
F000:9748  E8 03DC				call	sub_90			; (9B27)
F000:974B  72 05				jc	short loc_463		; Jump if carry Set
F000:974D  B4 00				mov	ah,0
F000:974F  F8					clc				; Clear carry flag
F000:9750			loc_462:					;  xref F000:9755
F000:9750 њ5E					pop	si
F000:9751  C3					retn
F000:9752			loc_463:					;  xref F000:9746, 974B
F000:9752  F9					stc				; Set carry flag
F000:9753  B4 87				mov	ah,87h
F000:9755  EB F9				jmp	short loc_462		; (9750)
				sub_76		endp


           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 106

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:9838, 9856, 985E
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_77		proc	near
F000:9757  56					push	si
F000:9758  BE FF03				mov	si,0FF03h
F000:975B  85 FE				test	di,si
F000:975D  75 0A				jnz	short loc_465		; Jump if not zero
F000:975F  E8 03C5				call	sub_90			; (9B27)
F000:9762  72 05				jc	short loc_465		; Jump if carry Set
F000:9764  B4 00				mov	ah,0
F000:9766  F8					clc				; Clear carry flag
F000:9767			loc_464:					;  xref F000:976C
F000:9767 њ5E					pop	si
F000:9768  C3					retn
F000:9769			loc_465:					;  xref F000:975D, 9762
F000:9769  F9					stc				; Set carry flag
F000:976A  B4 87				mov	ah,87h
F000:976C  EB F9				jmp	short loc_464		; (9767)
				sub_77		endp

							                        ;* No entry point to code
F000:976E  56					push	si
F000:976F  BE FF00				mov	si,0FF00h
F000:9772  85 FE				test	di,si
F000:9774  75 0A				jnz	short loc_467		; Jump if not zero
F000:9776  E8 03F0				call	sub_91			; (9B69)
F000:9779  72 05				jc	short loc_467		; Jump if carry Set
F000:977B  B4 00				mov	ah,0
F000:977D  F8					clc				; Clear carry flag
F000:977E			loc_466:					;  xref F000:9783
F000:977E њ5E					pop	si
F000:977F  C3					retn
F000:9780			loc_467:					;  xref F000:9774, 9779
F000:9780  F9					stc				; Set carry flag
F000:9781  B4 87				mov	ah,87h
F000:9783  EB F9				jmp	short loc_466		; (977E)
							                        ;* No entry point to code
F000:9785  56					push	si
F000:9786  BE FF01				mov	si,0FF01h
F000:9789  85 FE				test	di,si
F000:978B  75 0A				jnz	short loc_469		; Jump if not zero
F000:978D  E8 03D9				call	sub_91			; (9B69)
F000:9790  72 05				jc	short loc_469		; Jump if carry Set
F000:9792  B4 00				mov	ah,0
F000:9794  F8					clc				; Clear carry flag
F000:9795			loc_468:					;  xref F000:979A
F000:9795 њ5E					pop	si
F000:9796  C3					retn
F000:9797			loc_469:					;  xref F000:978B, 9790
F000:9797  F9					stc				; Set carry flag
F000:9798  B4 87				mov	ah,87h
F000:979A  EB F9				jmp	short loc_468		; (9795)
							                        ;* No entry point to code
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 107

F000:979C  56					push	si
F000:979D  BE FF03				mov	si,0FF03h
F000:97A0  85 FE				test	di,si
F000:97A2  75 0A				jnz	short loc_471		; Jump if not zero
F000:97A4  E8 03C2				call	sub_91			; (9B69)
F000:97A7  72 05				jc	short loc_471		; Jump if carry Set
F000:97A9  B4 00				mov	ah,0
F000:97AB  F8					clc				; Clear carry flag
F000:97AC			loc_470:					;  xref F000:97B1
F000:97AC њ5E					pop	si
F000:97AD  C3					retn
F000:97AE			loc_471:					;  xref F000:97A2, 97A7
F000:97AE  F9					stc				; Set carry flag
F000:97AF  B4 87				mov	ah,87h
F000:97B1  EB F9				jmp	short loc_470		; (97AC)
							                        ;* No entry point to code
F000:97B3  66| 51				push	ecx
F000:97B5  50					push	ax
F000:97B6  66| 56				push	esi
F000:97B8  66| 57				push	edi
F000:97BA  06					push	es
F000:97BB  66| 0F B7 FF				movzx	edi,di			; Mov w/zero extend
F000:97BF  2E: 0F B6 0E 9895			movzx	cx,byte ptr cs:[9895h]	; (F000:9895=3) Mov w/zero extend
F000:97C5  2E: 8B 1E 9896			mov	bx,word ptr cs:[9896h]	; (F000:9896=0)
F000:97CA њBE 9898				mov	si,data_49e		; (0040:9898=2Eh)
F000:97CD  C1 E1 04				shl	cx,4			; Shift w/zeros fill
F000:97D0  67| 26: 8B 07			mov	ax,es:[edi]
F000:97D4  67| 26: 89 0F			mov	es:[edi],cx
F000:97D8  3B C1				cmp	ax,cx
F000:97DA  72 15				jb	short loc_473		; Jump if below
F000:97DC  67| 26: C4 7F 02			les	di,dword ptr es:[edi+2]	; Load 32 bit ptr
F000:97E1  F3/ A4				rep	movsb			; Rep when cx >0 Mov [si] to es:[di]
F000:97E3  32 ED				xor	ch,ch			; Zero register
F000:97E5  F8					clc				; Clear carry flag
F000:97E6			loc_472:					;  xref F000:97F4
F000:97E6 њ07					pop	es
F000:97E7  66| 5F				pop	edi
F000:97E9  66| 5E				pop	esi
F000:97EB  58					pop	ax
F000:97EC  8A E5				mov	ah,ch
F000:97EE  66| 59				pop	ecx
F000:97F0  C3					retn
F000:97F1			loc_473:					;  xref F000:97DA
F000:97F1  B5 89				mov	ch,89h
F000:97F3  F9					stc				; Set carry flag
F000:97F4  EB F0				jmp	short loc_472		; (97E6)
							                        ;* No entry point to code
F000:97F6  51					push	cx
F000:97F7  52					push	dx
F000:97F8  80 FD 0F				cmp	ch,0Fh
F000:97FB  77 1A				ja	short loc_475		; Jump if above
F000:97FD  8A D1				mov	dl,cl
F000:97FF  80 EA 0A				sub	dl,0Ah
F000:9802  80 FA 03				cmp	dl,3
F000:9805  77 10				ja	short loc_475		; Jump if above
F000:9807  FE C2				inc	dl
F000:9809  50					push	ax
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 108

F000:980A  8A C5				mov	al,ch
F000:980C  E8 01DC				call	sub_85			; (99EB)
F000:980F  58					pop	ax
F000:9810  72 05				jc	short loc_475		; Jump if carry Set
F000:9812  B4 00				mov	ah,0
F000:9814			loc_474:					;  xref F000:981A
F000:9814 њ5A					pop	dx
F000:9815  59					pop	cx
F000:9816  C3					retn
F000:9817			loc_475:					;  xref F000:97FB, 9805, 9810
F000:9817  F9					stc				; Set carry flag
F000:9818  B4 88				mov	ah,88h
F000:981A  EB F8				jmp	short loc_474		; (9814)

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:982F
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_78		proc	near
F000:981C  E8 02C8				call	sub_87			; (9AE7)
F000:981F  C3					retn
				sub_78		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:96F0, 9719
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_79		proc	near
F000:9820  50					push	ax
F000:9821  66| 51				push	ecx
F000:9823  56					push	si
F000:9824  57					push	di
F000:9825  8A C3				mov	al,bl
F000:9827  E8 02C3				call	sub_88			; (9AED)
F000:982A  8A F9				mov	bh,cl
F000:982C			loc_476:					;  xref F000:9882
F000:982C  32 DB				xor	bl,bl			; Zero register
F000:982E			loc_477:					;  xref F000:987E
F000:982E  53					push	bx
F000:982F  E8 FFEA				call	sub_78			; (981C)
F000:9832  C0 E3 03				shl	bl,3			; Shift w/zeros fill
F000:9835  BF 0000				mov	di,0
F000:9838  E8 FF1C				call	sub_77			; (9757)
F000:983B  66| 83 F9 FF				cmp	ecx,0FFFFFFFFh
F000:983F  74 37				je	short loc_482		; Jump if equal
F000:9841  BF 000E				mov	di,0Eh
F000:9844  E8 FEE2				call	sub_75			; (9729)
F000:9847  F6 C1 80				test	cl,80h
F000:984A  74 03				jz	short loc_478		; Jump if zero
F000:984C  80 CB 07				or	bl,7
F000:984F			loc_478:					;  xref F000:984A, 9876
F000:984F њ0A C0				or	al,al			; Zero ?
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 109

F000:9851  75 08				jnz	short loc_479		; Jump if not zero
F000:9853  BF 0000				mov	di,0
F000:9856  E8 FEFE				call	sub_77			; (9757)
F000:9859  EB 0A				jmp	short loc_480		; (9865)
F000:985B			loc_479:					;  xref F000:9851
F000:985B  BF 0008				mov	di,8
F000:985E  E8 FEF6				call	sub_77			; (9757)
F000:9861  66| C1 E9 08				shr	ecx,8			; Shift w/zeros fill
F000:9865			loc_480:					;  xref F000:9859
F000:9865  66| 3B CA				cmp	ecx,edx
F000:9868  75 05				jne	short loc_481		; Jump if not equal
F000:986A  0B F6				or	si,si			; Zero ?
F000:986C  74 19				jz	short loc_483		; Jump if zero
F000:986E  4E					dec	si
F000:986F			loc_481:					;  xref F000:9868
F000:986F  F6 C3 07				test	bl,7
F000:9872  74 04				jz	short loc_482		; Jump if zero
F000:9874  FE CB				dec	bl
F000:9876  EB D7				jmp	short loc_478		; (984F)
F000:9878			loc_482:					;  xref F000:983F, 9872
F000:9878  5B					pop	bx
F000:9879  FE C3				inc	bl
F000:987B  80 FB 1F				cmp	bl,1Fh
F000:987E  76 AE				jbe	loc_477			; Jump if below or =
F000:9880  FE CF				dec	bh
F000:9882  79 A8				jns	loc_476			; Jump if not sign
F000:9884  F9					stc				; Set carry flag
F000:9885  EB 02				jmp	short loc_484		; (9889)
F000:9887			loc_483:					;  xref F000:986C
F000:9887  58					pop	ax
F000:9888  F8					clc				; Clear carry flag
F000:9889			loc_484:					;  xref F000:9885
F000:9889  5F					pop	di
F000:988A  5E					pop	si
F000:988B  66| 59				pop	ecx
F000:988D  58					pop	ax
F000:988E  C3					retn
				sub_79		endp

							                        ;* No entry point to code
F000:988F  00 24				add	[si],ah
F000:9891  49					dec	cx
F000:9892  52					push	dx
F000:9893  54					push	sp
F000:9894  04 03				add	al,3
F000:9896  00 00				add	[bx+si],al
F000:9898  00 60 01				add	[bx+si+1],ah
F000:989B  B8 02DE				mov	ax,2DEh
F000:989E  B8 03DE				mov	ax,3DEh
F000:98A1  B8 04DE				mov	ax,4DEh
F000:98A4  B8 01DE				mov	ax,1DEh
F000:98A7  00 00				add	[bx+si],al
F000:98A9  68 B802				push	0B802h
F000:98AC  DE 03				fiadd	word ptr [bp+di]
F000:98AE  B8 04DE				mov	ax,4DEh
F000:98B1  B8 01DE				mov	ax,1DEh
F000:98B4  B8 02DE				mov	ax,2DEh
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 110

F000:98B7  00 00				add	[bx+si],al
F000:98B9  70 03				jo	short loc_485		; Jump if overflow=1
F000:98BB  B8 04DE				mov	ax,4DEh
F000:98BE			loc_485:					;  xref F000:98B9
F000:98BE  B8 01DE				mov	ax,1DEh
F000:98C1  B8 02DE				mov	ax,2DEh
F000:98C4  B8 03DE				mov	ax,3DEh
F000:98C7  00 00				add	[bx+si],al
F000:98C9  78 04		;*		js	short loc_486		;*Jump if sign=1
F000:98C9  78 04				db	 78h, 04h
F000:98CB  B8 01DE				mov	ax,1DEh
F000:98CE  B8 02DE				mov	ax,2DEh
F000:98D1  B8 03DE				mov	ax,3DEh
F000:98D4  B8 04DE				mov	ax,4DEh
F000:98D7  00 60 1E				add	[bx+si+1Eh],ah
F000:98DA  0E					push	cs
F000:98DB  1F					pop	ds
F000:98DC  E8 00C0				call	sub_84			; (999F)
F000:98DF  8B FA				mov	di,dx
F000:98E1  1F					pop	ds
F000:98E2  72 55				jc	short loc_491		; Jump if carry Set
F000:98E4  0A C0				or	al,al			; Zero ?
F000:98E6  74 51				jz	short loc_491		; Jump if zero
F000:98E8  3C F0				cmp	al,0F0h
F000:98EA  73 27				jae	short loc_488		; Jump if above or =
F000:98EC  8A C8				mov	cl,al
F000:98EE  B0 46				mov	al,46h			; 'F'
F000:98F0  E8 02B8				call	sub_92			; (9BAB)
F000:98F3  FE C9				dec	cl
F000:98F5  D2 E8				shr	al,cl			; Shift w/zeros fill
F000:98F7  A8 01				test	al,1
F000:98F9  74 18				jz	short loc_488		; Jump if zero
F000:98FB  8A C1				mov	al,cl
F000:98FD  D0 E8				shr	al,1			; Shift w/zeros fill
F000:98FF  04 43				add	al,43h			; 'C'
F000:9901  E8 02A7				call	sub_92			; (9BAB)
F000:9904  F6 C1 01				test	cl,1
F000:9907  75 03				jnz	short loc_487		; Jump if not zero
F000:9909  C0 E8 04				shr	al,4			; Shift w/zeros fill
F000:990C			loc_487:					;  xref F000:9907
F000:990C  24 0F				and	al,0Fh
F000:990E  88 04				mov	[si],al
F000:9910  46					inc	si
F000:9911  EB 26				jmp	short loc_491		; (9939)
F000:9913			loc_488:					;  xref F000:98EA, 98F9
F000:9913  BF DEB8				mov	di,0DEB8h
F000:9916  BB 993E				mov	bx,993Eh
F000:9919  E8 002E		;*		call	sub_81			;*(994A)
F000:9919  E8 2E 00				db	0E8h, 2Eh, 00h
F000:991C  73 0A				jnc	short loc_489		; Jump if carry=0
F000:991E  B0 C6				mov	al,0C6h
F000:9920  E8 0057				call	sub_82			; (997A)
F000:9923  B0 CD				mov	al,0CDh
F000:9925  E8 0052				call	sub_82			; (997A)
F000:9928			loc_489:					;  xref F000:991C, 9937
F000:9928  2E: 0F B6 07				movzx	ax,byte ptr cs:[bx]	; Mov w/zero extend
F000:992C  0F A3 C7				bt	di,ax			; Bit test to carry
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 111

F000:992F  73 03				jnc	short loc_490		; Jump if carry=0
F000:9931  88 04				mov	[si],al
F000:9933  46					inc	si
F000:9934			loc_490:					;  xref F000:992F
F000:9934  43					inc	bx
F000:9935  0A C0				or	al,al			; Zero ?
F000:9937  75 EF				jnz	loc_489			; Jump if not zero
F000:9939			loc_491:					;  xref F000:98E2, 98E6, 9911
F000:9939  C6 04 00				mov	byte ptr [si],0
F000:993C  61					popa				; Restore all regs
F000:993D  C3					retn
							                        ;* No entry point to code
F000:993E  0B 0C				or	cx,[si]
F000:9940  09 0A				or	[bp+si],cx
F000:9942  05 0403				add	ax,403h
F000:9945  06					push	es
F000:9946  07					pop	es
F000:9947  0E					push	cs
F000:9948  0F 00 50 B8				lldt	word ptr [bx+si-48h]	; Load local des tbl
F000:994C  C6 00 E8				mov	byte ptr [bx+si],0E8h
F000:994F  45					inc	bp
F000:9950  00 50 83				add	[bx+si-7Dh],dl
F000:9953  E0 0F		;*		loopnz	short locloop_492	;*Loop if zf=0, cx>0

F000:9953  E0 0F				db	0E0h, 0Fh
F000:9955  0F A3 C7				bt	di,ax			; Bit test to carry
F000:9958  58					pop	ax
F000:9959  73 1D				jnc	short loc_493		; Jump if carry=0
F000:995B  C0 E8 04				shr	al,4			; Shift w/zeros fill
F000:995E  0F A3 C7				bt	di,ax			; Bit test to carry
F000:9961  73 15				jnc	short loc_493		; Jump if carry=0
F000:9963  B8 00CD				mov	ax,0CDh
F000:9966  E8 002D				call	sub_83			; (9996)
F000:9969  50					push	ax
F000:996A  24 0F				and	al,0Fh
F000:996C  0F A3 C7				bt	di,ax			; Bit test to carry
F000:996F  58					pop	ax
F000:9970  73 06				jnc	short loc_493		; Jump if carry=0
F000:9972  C0 E8 04				shr	al,4			; Shift w/zeros fill
F000:9975  0F A3 C7				bt	di,ax			; Bit test to carry
F000:9978			loc_493:					;  xref F000:9959, 9961, 9970
F000:9978  58					pop	ax
F000:9979  C3					retn

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:9920, 9925
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_82		proc	near
F000:997A  E6 70				out	70h,al			; port 70h, CMOS addr,bit7=NMI
F000:997C  EB 00				jmp	short $+2		; delay for I/O
F000:997E  E4 71				in	al,71h			; port 71h, CMOS data
F000:9980  32 E4				xor	ah,ah			; Zero register
F000:9982  50					push	ax
F000:9983  24 0F				and	al,0Fh
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 112

F000:9985  88 04				mov	[si],al
F000:9987  46					inc	si
F000:9988  0F B3 C7				btr	di,ax			; Bit to carry, reset
F000:998B  58					pop	ax
F000:998C  C0 E8 04				shr	al,4			; Shift w/zeros fill
F000:998F  88 04				mov	[si],al
F000:9991  46					inc	si
F000:9992  0F B3 C7				btr	di,ax			; Bit to carry, reset
F000:9995  C3					retn
				sub_82		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:9966
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_83		proc	near
F000:9996  E6 70				out	70h,al			; port 70h, CMOS addr,bit7=NMI
F000:9998  E3 00				jcxz	short $+2		; delay for I/O
F000:999A  E3 00				jcxz	short $+2		; delay for I/O
F000:999C  E4 71				in	al,71h			; port 71h, CMOS data
F000:999E  C3					retn
				sub_83		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:96BE, 98DC, 99EE
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_84		proc	near
F000:999F  53					push	bx
F000:99A0  51					push	cx
F000:99A1  56					push	si
F000:99A2			loc_494:					;  xref F000:99C8
F000:99A2 њ0F B6 0E 9895			movzx	cx,byte ptr ds:[9895h]	; (F000:9895=3) Mov w/zero extend
F000:99A7 њBE 9898				mov	si,9898h		; (F000:9898=0)
F000:99AA  80 E3 F8				and	bl,0F8h
F000:99AD  86 FB				xchg	bh,bl

F000:99AF			locloop_495:					;  xref F000:99B6
F000:99AF  39 1C				cmp	[si],bx
F000:99B1  74 1A				je	short loc_497		; Jump if equal
F000:99B3  83 C6 10				add	si,10h
F000:99B6  E2 F7				loop	locloop_495		; Loop if cx > 0

F000:99B8  81 FB 8800				cmp	bx,8800h
F000:99BC  75 0C				jne	short loc_496		; Jump if not equal
F000:99BE  86 DF				xchg	bl,bh
F000:99C0  E8 023E				call	sub_94			; (9C01)
F000:99C3  24 03				and	al,3
F000:99C5  E8 0101				call	sub_86			; (9AC9)
F000:99C8  EB D8				jmp	short loc_494		; (99A2)
F000:99CA			loc_496:					;  xref F000:99BC
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 113

F000:99CA  F9					stc				; Set carry flag
F000:99CB  EB 1A				jmp	short loc_498		; (99E7)
F000:99CD			loc_497:					;  xref F000:99B1
F000:99CD  8D 74 02				lea	si,[si+2]		; Load effective addr
F000:99D0  8A 64 0C				mov	ah,[si+0Ch]
F000:99D3  FE CA				dec	dl
F000:99D5  8A F2				mov	dh,dl
F000:99D7  C0 E2 02				shl	dl,2			; Shift w/zeros fill
F000:99DA  2A D6				sub	dl,dh
F000:99DC  83 E2 0F				and	dx,0Fh
F000:99DF  03 F2				add	si,dx
F000:99E1  8A 04				mov	al,[si]
F000:99E3  8B 54 01				mov	dx,[si+1]
F000:99E6  F8					clc				; Clear carry flag
F000:99E7			loc_498:					;  xref F000:99CB
F000:99E7  5E					pop	si
F000:99E8  59					pop	cx
F000:99E9  5B					pop	bx
F000:99EA  C3					retn
				sub_84		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:96B6, 980C
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_85		proc	near
F000:99EB  60					pusha				; Save all regs
F000:99EC  8A E8				mov	ch,al
F000:99EE  E8 FFAE				call	sub_84			; (999F)
F000:99F1  0F 82 00CF				jc	loc_504			; Jump if carry Set
F000:99F5  0A C0				or	al,al			; Zero ?
F000:99F7  0F 84 00CB				jz	loc_505			; Jump if zero
F000:99FB  3C F0				cmp	al,0F0h
F000:99FD  0F 83 00C2				jae	loc_503			; Jump if above or =
F000:9A01  FE C8				dec	al
F000:9A03  53					push	bx
F000:9A04  8A DD				mov	bl,ch
F000:9A06  32 FF				xor	bh,bh			; Zero register
F000:9A08  0F A3 DA				bt	dx,bx			; Bit test to carry
F000:9A0B  5B					pop	bx
F000:9A0C  0F 83 00B6				jnc	loc_505			; Jump if carry=0
F000:9A10  60					pusha				; Save all regs
F000:9A11  8A CC				mov	cl,ah
F000:9A13  FE C9				dec	cl
F000:9A15  8A E9				mov	ch,cl
F000:9A17  D0 E1				shl	cl,1			; Shift w/zeros fill
F000:9A19  8A D0				mov	dl,al
F000:9A1B  D2 E2				shl	dl,cl			; Shift w/zeros fill
F000:9A1D  B3 FC				mov	bl,0FCh
F000:9A1F  D2 C3				rol	bl,cl			; Rotate
F000:9A21  8A CD				mov	cl,ch
F000:9A23  B6 01				mov	dh,1
F000:9A25  D2 E6				shl	dh,cl			; Shift w/zeros fill
F000:9A27  B0 F5				mov	al,0F5h
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 114

F000:9A29  E6 70				out	70h,al			; port 70h, CMOS addr,bit7=NMI
F000:9A2B  E4 71				in	al,71h			; port 71h, CMOS data
F000:9A2D  0A C6				or	al,dh
F000:9A2F  8A E0				mov	ah,al
F000:9A31  B0 F5				mov	al,0F5h
F000:9A33  E6 70				out	70h,al			; port 70h, CMOS addr,bit7=NMI
F000:9A35  8A C4				mov	al,ah
F000:9A37  E6 71				out	71h,al			; port 71h, CMOS data
F000:9A39  B0 F4				mov	al,0F4h
F000:9A3B  E6 70				out	70h,al			; port 70h, CMOS addr,bit7=NMI
F000:9A3D  E4 71				in	al,71h			; port 71h, CMOS data
F000:9A3F  22 C3				and	al,bl
F000:9A41  0A C2				or	al,dl
F000:9A43  8A E0				mov	ah,al
F000:9A45  B0 F4				mov	al,0F4h
F000:9A47  E6 70				out	70h,al			; port 70h, CMOS addr,bit7=NMI
F000:9A49  8A C4				mov	al,ah
F000:9A4B  E6 71				out	71h,al			; port 71h, CMOS data
F000:9A4D  61					popa				; Restore all regs
F000:9A4E  8A C8				mov	cl,al
F000:9A50  B4 01				mov	ah,1
F000:9A52  D2 E4				shl	ah,cl			; Shift w/zeros fill
F000:9A54  50					push	ax
F000:9A55  B0 46				mov	al,46h			; 'F'
F000:9A57  E8 0151				call	sub_92			; (9BAB)
F000:9A5A  0A C4				or	al,ah
F000:9A5C  8A E0				mov	ah,al
F000:9A5E  B0 46				mov	al,46h			; 'F'
F000:9A60  E8 0174				call	sub_93			; (9BD7)
F000:9A63  58					pop	ax
F000:9A64  80 FD 0E				cmp	ch,0Eh
F000:9A67  74 05				je	short loc_499		; Jump if equal
F000:9A69  80 FD 0F				cmp	ch,0Fh
F000:9A6C  75 09				jne	short loc_500		; Jump if not equal
F000:9A6E			loc_499:					;  xref F000:9A67
F000:9A6E  E8 0190				call	sub_94			; (9C01)
F000:9A71  A8 08				test	al,8
F000:9A73  75 02				jnz	short loc_500		; Jump if not zero
F000:9A75  32 E4				xor	ah,ah			; Zero register
F000:9A77			loc_500:					;  xref F000:9A6C, 9A73
F000:9A77  50					push	ax
F000:9A78  B0 47				mov	al,47h			; 'G'
F000:9A7A  E8 012E				call	sub_92			; (9BAB)
F000:9A7D  0A C4				or	al,ah
F000:9A7F  8A E0				mov	ah,al
F000:9A81  B0 47				mov	al,47h			; 'G'
F000:9A83  E8 0151				call	sub_93			; (9BD7)
F000:9A86  58					pop	ax
F000:9A87  51					push	cx
F000:9A88  D2 EC				shr	ah,cl			; Shift w/zeros fill
F000:9A8A  8A C4				mov	al,ah
F000:9A8C  32 E4				xor	ah,ah			; Zero register
F000:9A8E  8A CD				mov	cl,ch
F000:9A90  D3 E0				shl	ax,cl			; Shift w/zeros fill
F000:9A92  8B C8				mov	cx,ax
F000:9A94  BA 04D0				mov	dx,4D0h
F000:9A97  EC					in	al,dx			; port 4D0h ??i/o non-standard
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 115

F000:9A98  0A C1				or	al,cl
F000:9A9A  EE					out	dx,al			; port 4D0h ??i/o non-standard
F000:9A9B  42					inc	dx
F000:9A9C  EC					in	al,dx			; port 4D1h ??i/o non-standard
F000:9A9D  0A C5				or	al,ch
F000:9A9F  EE					out	dx,al			; port 4D1h ??i/o non-standard
F000:9AA0  59					pop	cx
F000:9AA1  8A C1				mov	al,cl
F000:9AA3  D0 E8				shr	al,1			; Shift w/zeros fill
F000:9AA5  04 43				add	al,43h			; 'C'
F000:9AA7  8A E0				mov	ah,al
F000:9AA9  E8 00FF				call	sub_92			; (9BAB)
F000:9AAC  F6 C1 01				test	cl,1
F000:9AAF  8A CD				mov	cl,ch
F000:9AB1  75 07				jnz	short loc_501		; Jump if not zero
F000:9AB3  24 0F				and	al,0Fh
F000:9AB5  C0 E5 04				shl	ch,4			; Shift w/zeros fill
F000:9AB8  EB 02				jmp	short loc_502		; (9ABC)
F000:9ABA			loc_501:					;  xref F000:9AB1
F000:9ABA  24 F0				and	al,0F0h
F000:9ABC			loc_502:					;  xref F000:9AB8
F000:9ABC  0A C5				or	al,ch
F000:9ABE  86 C4				xchg	al,ah
F000:9AC0  E8 0114				call	sub_93			; (9BD7)
F000:9AC3			loc_503:					;  xref F000:99FD
F000:9AC3  F8					clc				; Clear carry flag
F000:9AC4			loc_504:					;  xref F000:99F1, 9AC7
F000:9AC4 њ61					popa				; Restore all regs
F000:9AC5  C3					retn
F000:9AC6			loc_505:					;  xref F000:99F7, 9A0C
F000:9AC6  F9					stc				; Set carry flag
F000:9AC7  EB FB				jmp	short loc_504		; (9AC4)
				sub_85		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:99C5
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_86		proc	near
F000:9AC9  51					push	cx
F000:9ACA  50					push	ax
F000:9ACB  53					push	bx
F000:9ACC  0F B6 C8				movzx	cx,al			; Mov w/zero extend
F000:9ACF њBE 9898				mov	si,9898h		; (F000:9898=0)
F000:9AD2			loc_506:					;  xref F000:9ADB
F000:9AD2 њ83 F9 00				cmp	cx,0
F000:9AD5  74 06				je	short loc_507		; Jump if equal
F000:9AD7  49					dec	cx
F000:9AD8  83 C6 10				add	si,10h
F000:9ADB  EB F5				jmp	short loc_506		; (9AD2)
F000:9ADD			loc_507:					;  xref F000:9AD5
F000:9ADD  8B 04				mov	ax,[si]
F000:9ADF  86 C4				xchg	al,ah
F000:9AE1  5B					pop	bx
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 116

F000:9AE2  8B D8				mov	bx,ax
F000:9AE4  58					pop	ax
F000:9AE5  59					pop	cx
F000:9AE6  C3					retn
				sub_86		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:981C
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_87		proc	near
F000:9AE7  80 EB 1F				sub	bl,1Fh
F000:9AEA  F6 DB				neg	bl
F000:9AEC  C3					retn
				sub_87		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:96C3, 96CA, 9827
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_88		proc	near
F000:9AED  50					push	ax
F000:9AEE  53					push	bx
F000:9AEF  52					push	dx
F000:9AF0  57					push	di
F000:9AF1  51					push	cx
F000:9AF2  32 D2				xor	dl,dl			; Zero register
F000:9AF4  BB 0000				mov	bx,0
F000:9AF7			loc_508:					;  xref F000:9B16
F000:9AF7  BF 000A				mov	di,0Ah
F000:9AFA  E8 FC43				call	sub_76			; (9740)
F000:9AFD  72 14				jc	short loc_509		; Jump if carry Set
F000:9AFF  81 F9 0604				cmp	cx,604h
F000:9B03  75 0E				jne	short loc_509		; Jump if not equal
F000:9B05  BF 001A				mov	di,1Ah
F000:9B08  E8 FC1E				call	sub_75			; (9729)
F000:9B0B  72 06				jc	short loc_509		; Jump if carry Set
F000:9B0D  38 D1				cmp	cl,dl
F000:9B0F  76 02				jbe	short loc_509		; Jump if below or =
F000:9B11  8A D1				mov	dl,cl
F000:9B13			loc_509:					;  xref F000:9AFD, 9B03, 9B0B, 9B0F
F000:9B13  80 C3 08				add	bl,8
F000:9B16  73 DF				jnc	loc_508			; Jump if carry=0
F000:9B18  59					pop	cx
F000:9B19  8A CA				mov	cl,dl
F000:9B1B  5F					pop	di
F000:9B1C  5A					pop	dx
F000:9B1D  5B					pop	bx
F000:9B1E  58					pop	ax
F000:9B1F  C3					retn
				sub_88		endp
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 117



				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:96CD
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_89		proc	near
F000:9B20  B0 01				mov	al,1
F000:9B22  C3					retn
				sub_89		endp

F000:9B23  B4 81 F9 C3				db	0B4h, 81h,0F9h,0C3h

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:9731, 9748, 975F
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_90		proc	near
F000:9B27  66| 50				push	eax
F000:9B29  52					push	dx
F000:9B2A  B4 80				mov	ah,80h
F000:9B2C  8A C7				mov	al,bh
F000:9B2E  66| C1 E0 10				shl	eax,10h			; Shift w/zeros fill
F000:9B32  8B C7				mov	ax,di
F000:9B34  8A E3				mov	ah,bl
F000:9B36  24 FC				and	al,0FCh
F000:9B38  BA 0CF8				mov	dx,0CF8h
F000:9B3B  9C					pushf				; Push flags
F000:9B3C  FA					cli				; Disable interrupts
F000:9B3D  66| EF				out	dx,eax			; port 0CF8h ??i/o non-standard
F000:9B3F  8B D7				mov	dx,di
F000:9B41  83 E2 03				and	dx,3
F000:9B44  81 C2 0CFC				add	dx,0CFCh
F000:9B48  81 FE FF00				cmp	si,0FF00h
F000:9B4C  75 05				jne	short loc_510		; Jump if not equal
F000:9B4E  EC					in	al,dx			; port 0CFEh ??i/o non-standard
F000:9B4F  8A C8				mov	cl,al
F000:9B51  EB 10				jmp	short loc_512		; (9B63)
F000:9B53			loc_510:					;  xref F000:9B4C
F000:9B53  81 FE FF01				cmp	si,0FF01h
F000:9B57  75 05				jne	short loc_511		; Jump if not equal
F000:9B59  ED					in	ax,dx			; port 0CFEh ??i/o non-standard
F000:9B5A  8B C8				mov	cx,ax
F000:9B5C  EB 05				jmp	short loc_512		; (9B63)
F000:9B5E			loc_511:					;  xref F000:9B57
F000:9B5E  66| ED				in	eax,dx			; port 0CFEh ??i/o non-standard
F000:9B60  66| 8B C8				mov	ecx,eax
F000:9B63			loc_512:					;  xref F000:9B51, 9B5C
F000:9B63  9D					popf				; Pop flags
F000:9B64  5A					pop	dx
F000:9B65  66| 58				pop	eax
F000:9B67  F8					clc				; Clear carry flag
F000:9B68  C3					retn
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 118

				sub_90		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:9776, 978D, 97A4
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_91		proc	near
F000:9B69  66| 50				push	eax
F000:9B6B  52					push	dx
F000:9B6C  B4 80				mov	ah,80h
F000:9B6E  8A C7				mov	al,bh
F000:9B70  66| C1 E0 10				shl	eax,10h			; Shift w/zeros fill
F000:9B74  8B C7				mov	ax,di
F000:9B76  8A E3				mov	ah,bl
F000:9B78  24 FC				and	al,0FCh
F000:9B7A  BA 0CF8				mov	dx,0CF8h
F000:9B7D  9C					pushf				; Push flags
F000:9B7E  FA					cli				; Disable interrupts
F000:9B7F  66| EF				out	dx,eax			; port 0CF8h ??i/o non-standard
F000:9B81  8B D7				mov	dx,di
F000:9B83  83 E2 03				and	dx,3
F000:9B86  81 C2 0CFC				add	dx,0CFCh
F000:9B8A  81 FE FF00				cmp	si,0FF00h
F000:9B8E  75 05				jne	short loc_513		; Jump if not equal
F000:9B90  8A C1				mov	al,cl
F000:9B92  EE					out	dx,al			; port 0CFCh ??i/o non-standard
F000:9B93  EB 10				jmp	short loc_515		; (9BA5)
F000:9B95			loc_513:					;  xref F000:9B8E
F000:9B95  81 FE FF01				cmp	si,0FF01h
F000:9B99  75 05				jne	short loc_514		; Jump if not equal
F000:9B9B  8B C1				mov	ax,cx
F000:9B9D  EF					out	dx,ax			; port 0CFCh ??i/o non-standard
F000:9B9E  EB 05				jmp	short loc_515		; (9BA5)
F000:9BA0			loc_514:					;  xref F000:9B99
F000:9BA0  66| 8B C1				mov	eax,ecx
F000:9BA3  66| EF				out	dx,eax			; port 0CFCh ??i/o non-standard
F000:9BA5			loc_515:					;  xref F000:9B93, 9B9E
F000:9BA5  9D					popf				; Pop flags
F000:9BA6  5A					pop	dx
F000:9BA7  66| 58				pop	eax
F000:9BA9  F8					clc				; Clear carry flag
F000:9BAA  C3					retn
				sub_91		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:98F0, 9901, 9A57, 9A7A, 9AA9, B6E0, B6E9
				;                             B755, B798, BFB0
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_92		proc	near
F000:9BAB			loc_516:					;  xref F000:B433
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 119

F000:9BAB њ52					push	dx
F000:9BAC  51					push	cx
F000:9BAD  66| 50				push	eax
F000:9BAF  8B C8				mov	cx,ax
F000:9BB1  66| 25 000000FC			and	eax,0FCh
F000:9BB7  66| 0D 80009000			or	eax,80009000h
F000:9BBD  BA 0CF8				mov	dx,0CF8h
F000:9BC0  66| EF				out	dx,eax			; port 0CF8h ??i/o non-standard
F000:9BC2  E3 00				jcxz	short $+2		; delay for I/O
F000:9BC4  E3 00				jcxz	short $+2		; delay for I/O
F000:9BC6  B2 FC				mov	dl,0FCh
F000:9BC8  80 E1 03				and	cl,3
F000:9BCB  02 D1				add	dl,cl
F000:9BCD  EC					in	al,dx			; port 0CFEh ??i/o non-standard
F000:9BCE  8A C8				mov	cl,al
F000:9BD0  66| 58				pop	eax
F000:9BD2  8A C1				mov	al,cl
F000:9BD4  59					pop	cx
F000:9BD5  5A					pop	dx
F000:9BD6  C3					retn
				sub_92		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:9A60, 9A83, 9AC0, B7A1, BDA3, BDBE, BDC7
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_93		proc	near
F000:9BD7			loc_517:					;  xref F000:B43F
F000:9BD7 њ52					push	dx
F000:9BD8  51					push	cx
F000:9BD9  66| 50				push	eax
F000:9BDB  8B C8				mov	cx,ax
F000:9BDD  66| 25 000000FC			and	eax,0FCh
F000:9BE3  66| 0D 80009000			or	eax,80009000h
F000:9BE9  BA 0CF8				mov	dx,0CF8h
F000:9BEC  66| EF				out	dx,eax			; port 0CF8h ??i/o non-standard
F000:9BEE  E3 00				jcxz	short $+2		; delay for I/O
F000:9BF0  E3 00				jcxz	short $+2		; delay for I/O
F000:9BF2  B2 FC				mov	dl,0FCh
F000:9BF4  80 E1 03				and	cl,3
F000:9BF7  02 D1				add	dl,cl
F000:9BF9  8A C5				mov	al,ch
F000:9BFB  EE					out	dx,al			; port 0CFEh ??i/o non-standard
F000:9BFC  66| 58				pop	eax
F000:9BFE  59					pop	cx
F000:9BFF  5A					pop	dx
F000:9C00  C3					retn
				sub_93		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:99C0, 9A6E
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 120

				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_94		proc	near
F000:9C01  B0 C7				mov	al,0C7h
F000:9C03  E6 70				out	70h,al			; port 70h, CMOS addr,bit7=NMI
F000:9C05  EB 00				jmp	short $+2		; delay for I/O
F000:9C07  E4 71				in	al,71h			; port 71h, CMOS data
F000:9C09  EB 00				jmp	short $+2		; delay for I/O
F000:9C0B  C3					retn
				sub_94		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_95		proc	near
F000:9C0C  53					push	bx
F000:9C0D  51					push	cx
F000:9C0E  E8 0003				call	sub_96			; (9C14)
F000:9C11  59					pop	cx
F000:9C12  5B					pop	bx
F000:9C13  C3					retn
				sub_95		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:9C0E
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_96		proc	near
F000:9C14  BB 00C4				mov	bx,0C4h
F000:9C17  3C 1A				cmp	al,1Ah
F000:9C19  72 17				jb	short loc_518		; Jump if below
F000:9C1B  BB 016F				mov	bx,16Fh
F000:9C1E  2C 1A				sub	al,1Ah
F000:9C20  3C 1A				cmp	al,1Ah
F000:9C22  72 0E				jb	short loc_518		; Jump if below
F000:9C24  BB 026B				mov	bx,26Bh
F000:9C27  2C 1A				sub	al,1Ah
F000:9C29  3C 1C				cmp	al,1Ch
F000:9C2B  72 05				jb	short loc_518		; Jump if below
F000:9C2D њBB 049F				mov	bx,offset data_87	; (F000:049F=0FFh)
F000:9C30  2C 1C				sub	al,1Ch
F000:9C32			loc_518:					;  xref F000:9C19, 9C22, 9C2B, 9C90
F000:9C32  0A C0				or	al,al			; Zero ?
F000:9C34  74 5C				jz	short loc_529		; Jump if zero
F000:9C36  2E: 8A 67 03				mov	ah,cs:[bx+3]
F000:9C3A  2E: 8A 4F 02				mov	cl,cs:[bx+2]
F000:9C3E  B5 01				mov	ch,1
F000:9C40			loc_519:					;  xref F000:9C48
F000:9C40  D0 E9				shr	cl,1			; Shift w/zeros fill
F000:9C42  73 02				jnc	short loc_520		; Jump if carry=0
F000:9C44  D0 E5				shl	ch,1			; Shift w/zeros fill
F000:9C46			loc_520:					;  xref F000:9C42
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 121

F000:9C46  0A C9				or	cl,cl			; Zero ?
F000:9C48  75 F6				jnz	loc_519			; Jump if not zero
F000:9C4A  83 C3 04				add	bx,4
F000:9C4D  D0 E4				shl	ah,1			; Shift w/zeros fill
F000:9C4F  73 01				jnc	short loc_521		; Jump if carry=0
F000:9C51  43					inc	bx
F000:9C52			loc_521:					;  xref F000:9C4F
F000:9C52  D0 E4				shl	ah,1			; Shift w/zeros fill
F000:9C54  73 02				jnc	short loc_522		; Jump if carry=0
F000:9C56  43					inc	bx
F000:9C57  43					inc	bx
F000:9C58			loc_522:					;  xref F000:9C54
F000:9C58  D0 E4				shl	ah,1			; Shift w/zeros fill
F000:9C5A  73 02				jnc	short loc_523		; Jump if carry=0
F000:9C5C  43					inc	bx
F000:9C5D  43					inc	bx
F000:9C5E			loc_523:					;  xref F000:9C5A
F000:9C5E  B1 01				mov	cl,1
F000:9C60  F6 C4 08				test	ah,8
F000:9C63  74 13				jz	short loc_525		; Jump if zero
F000:9C65			loc_524:					;  xref F000:9C6A
F000:9C65  43					inc	bx
F000:9C66  2E: F6 07 80				test	byte ptr cs:[bx],80h
F000:9C6A  74 F9				jz	loc_524			; Jump if zero
F000:9C6C  43					inc	bx
F000:9C6D  2E: 8A 0F				mov	cl,cs:[bx]
F000:9C70  43					inc	bx
F000:9C71  80 F9 FF				cmp	cl,0FFh
F000:9C74  75 02				jne	short loc_525		; Jump if not equal
F000:9C76  B1 01				mov	cl,1
F000:9C78			loc_525:					;  xref F000:9C63, 9C74
F000:9C78  FE CD				dec	ch
F000:9C7A  8A E5				mov	ah,ch
F000:9C7C			loc_526:					;  xref F000:9C8C
F000:9C7C  8A EC				mov	ch,ah
F000:9C7E			loc_527:					;  xref F000:9C87
F000:9C7E  2E: 80 3F FF				cmp	byte ptr cs:[bx],0FFh
F000:9C82  74 05				je	short loc_528		; Jump if equal
F000:9C84  43					inc	bx
F000:9C85  FE CD				dec	ch
F000:9C87  75 F5				jnz	loc_527			; Jump if not zero
F000:9C89			loc_528:					;  xref F000:9C82
F000:9C89  43					inc	bx
F000:9C8A  FE C9				dec	cl
F000:9C8C  75 EE				jnz	loc_526			; Jump if not zero
F000:9C8E  FE C8				dec	al
F000:9C90  75 A0				jnz	loc_518			; Jump if not zero
F000:9C92			loc_529:					;  xref F000:9C34
F000:9C92  B0 8E				mov	al,8Eh
F000:9C94  E6 70				out	70h,al			; port 70h, CMOS addr,bit7=NMI
										;  al = 8Eh, test results reg
F000:9C96  E3 00				jcxz	short $+2		; delay for I/O
F000:9C98  E3 00				jcxz	short $+2		; delay for I/O
F000:9C9A  E4 71				in	al,71h			; port 71h, CMOS data
F000:9C9C  8A E0				mov	ah,al
F000:9C9E  2E: 8A 47 01				mov	al,cs:[bx+1]
F000:9CA2  2E: 8A 5F 02				mov	bl,cs:[bx+2]
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 122

F000:9CA6  F6 C4 C0				test	ah,0C0h
F000:9CA9  75 0C				jnz	short loc_530		; Jump if not zero
F000:9CAB  0C 80				or	al,80h
F000:9CAD  E6 70				out	70h,al			; port 70h, CMOS addr,bit7=NMI
F000:9CAF  E3 00				jcxz	short $+2		; delay for I/O
F000:9CB1  E3 00				jcxz	short $+2		; delay for I/O
F000:9CB3  E4 71				in	al,71h			; port 71h, CMOS data
F000:9CB5  EB 1E				jmp	short loc_533		; (9CD5)
F000:9CB7			loc_530:					;  xref F000:9CA9
F000:9CB7  24 7F				and	al,7Fh
F000:9CB9  8A E3				mov	ah,bl
F000:9CBB  BB B83D				mov	bx,0B83Dh
F000:9CBE  3C 55				cmp	al,55h			; 'U'
F000:9CC0  76 03				jbe	short loc_531		; Jump if below or =
F000:9CC2 њBB BB4D				mov	bx,offset data_235	; (F000:BB4D=2Ch)
F000:9CC5			loc_531:					;  xref F000:9CC0, 9CCD
F000:9CC5 њ2E: 38 07				cmp	cs:[bx],al
F000:9CC8  74 05				je	short loc_532		; Jump if equal
F000:9CCA  83 C3 06				add	bx,6
F000:9CCD  EB F6				jmp	short loc_531		; (9CC5)
F000:9CCF			loc_532:					;  xref F000:9CC8
F000:9CCF  2E: 8A 47 03				mov	al,cs:[bx+3]
F000:9CD3  8A DC				mov	bl,ah
F000:9CD5			loc_533:					;  xref F000:9CB5
F000:9CD5  B7 08				mov	bh,8
F000:9CD7  B4 00				mov	ah,0
F000:9CD9			loc_534:					;  xref F000:9CE5
F000:9CD9  D0 C3				rol	bl,1			; Rotate
F000:9CDB  73 04				jnc	short loc_535		; Jump if carry=0
F000:9CDD  D1 C0				rol	ax,1			; Rotate
F000:9CDF  EB 02				jmp	short loc_536		; (9CE3)
F000:9CE1			loc_535:					;  xref F000:9CDB
F000:9CE1  D0 C0				rol	al,1			; Rotate
F000:9CE3			loc_536:					;  xref F000:9CDF
F000:9CE3  FE CF				dec	bh
F000:9CE5  75 F2				jnz	loc_534			; Jump if not zero
F000:9CE7  8A C4				mov	al,ah
F000:9CE9  0A C0				or	al,al			; Zero ?
F000:9CEB  C3					retn
				sub_96		endp

							                        ;* No entry point to code
F000:9CEC  BB 00C4				mov	bx,0C4h
F000:9CEF  3C 1A				cmp	al,1Ah
F000:9CF1  72 17				jb	short loc_537		; Jump if below
F000:9CF3  BB 016F				mov	bx,16Fh
F000:9CF6  2C 1A				sub	al,1Ah
F000:9CF8  3C 1A				cmp	al,1Ah
F000:9CFA  72 0E				jb	short loc_537		; Jump if below
F000:9CFC  BB 026B				mov	bx,26Bh
F000:9CFF  2C 1A				sub	al,1Ah
F000:9D01  3C 1C				cmp	al,1Ch
F000:9D03  72 05				jb	short loc_537		; Jump if below
F000:9D05 њBB 049F				mov	bx,offset data_87	; (F000:049F=0FFh)
F000:9D08  2C 1C				sub	al,1Ch
F000:9D0A			loc_537:					;  xref F000:9CF1, 9CFA, 9D03, 9D68
F000:9D0A  0A C0				or	al,al			; Zero ?
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 123

F000:9D0C  74 5C				jz	short loc_548		; Jump if zero
F000:9D0E  2E: 8A 67 03				mov	ah,cs:[bx+3]
F000:9D12  2E: 8A 4F 02				mov	cl,cs:[bx+2]
F000:9D16  B5 01				mov	ch,1
F000:9D18			loc_538:					;  xref F000:9D20
F000:9D18  D0 E9				shr	cl,1			; Shift w/zeros fill
F000:9D1A  73 02				jnc	short loc_539		; Jump if carry=0
F000:9D1C  D0 E5				shl	ch,1			; Shift w/zeros fill
F000:9D1E			loc_539:					;  xref F000:9D1A
F000:9D1E  0A C9				or	cl,cl			; Zero ?
F000:9D20  75 F6				jnz	loc_538			; Jump if not zero
F000:9D22  83 C3 04				add	bx,4
F000:9D25  D0 E4				shl	ah,1			; Shift w/zeros fill
F000:9D27  73 01				jnc	short loc_540		; Jump if carry=0
F000:9D29  43					inc	bx
F000:9D2A			loc_540:					;  xref F000:9D27
F000:9D2A  D0 E4				shl	ah,1			; Shift w/zeros fill
F000:9D2C  73 02				jnc	short loc_541		; Jump if carry=0
F000:9D2E  43					inc	bx
F000:9D2F  43					inc	bx
F000:9D30			loc_541:					;  xref F000:9D2C
F000:9D30  D0 E4				shl	ah,1			; Shift w/zeros fill
F000:9D32  73 02				jnc	short loc_542		; Jump if carry=0
F000:9D34  43					inc	bx
F000:9D35  43					inc	bx
F000:9D36			loc_542:					;  xref F000:9D32
F000:9D36  B1 01				mov	cl,1
F000:9D38  F6 C4 08				test	ah,8
F000:9D3B  74 13				jz	short loc_544		; Jump if zero
F000:9D3D			loc_543:					;  xref F000:9D42
F000:9D3D  43					inc	bx
F000:9D3E  2E: F6 07 80				test	byte ptr cs:[bx],80h
F000:9D42  74 F9				jz	loc_543			; Jump if zero
F000:9D44  43					inc	bx
F000:9D45  2E: 8A 0F				mov	cl,cs:[bx]
F000:9D48  43					inc	bx
F000:9D49  80 F9 FF				cmp	cl,0FFh
F000:9D4C  75 02				jne	short loc_544		; Jump if not equal
F000:9D4E  B1 01				mov	cl,1
F000:9D50			loc_544:					;  xref F000:9D3B, 9D4C
F000:9D50  FE CD				dec	ch
F000:9D52  8A E5				mov	ah,ch
F000:9D54			loc_545:					;  xref F000:9D64
F000:9D54  8A EC				mov	ch,ah
F000:9D56			loc_546:					;  xref F000:9D5F
F000:9D56  2E: 80 3F FF				cmp	byte ptr cs:[bx],0FFh
F000:9D5A  74 05				je	short loc_547		; Jump if equal
F000:9D5C  43					inc	bx
F000:9D5D  FE CD				dec	ch
F000:9D5F  75 F5				jnz	loc_546			; Jump if not zero
F000:9D61			loc_547:					;  xref F000:9D5A
F000:9D61  43					inc	bx
F000:9D62  FE C9				dec	cl
F000:9D64  75 EE				jnz	loc_545			; Jump if not zero
F000:9D66  FE C8				dec	al
F000:9D68  75 A0				jnz	loc_537			; Jump if not zero
F000:9D6A			loc_548:					;  xref F000:9D0C
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 124

F000:9D6A  2E: 8A 47 01				mov	al,cs:[bx+1]
F000:9D6E  2E: 8A 67 02				mov	ah,cs:[bx+2]
F000:9D72  C3					retn
F000:9D73  A1 04 00 C3				db	0A1h, 04h, 00h,0C3h

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:AD3E, ADAA
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_97		proc	near
F000:9D77  1E					push	ds
F000:9D78  56					push	si
F000:9D79  51					push	cx
F000:9D7A њBE 82E0				mov	si,offset data_133	; (F000:82E0=30h)
F000:9D7D  0B C0				or	ax,ax			; Zero ?
F000:9D7F  74 09				jz	short loc_549		; Jump if zero
F000:9D81  83 C6 04				add	si,4
F000:9D84  48					dec	ax
F000:9D85  2E: C5 34				lds	si,dword ptr cs:[si]	; Load 32 bit ptr
F000:9D88  EB 05				jmp	short loc_550		; (9D8F)
F000:9D8A			loc_549:					;  xref F000:9D7F
F000:9D8A  2E: 8B 34				mov	si,cs:[si]
F000:9D8D  0E					push	cs
F000:9D8E  1F					pop	ds
F000:9D8F			loc_550:					;  xref F000:9D88
F000:9D8F  B4 14				mov	ah,14h
F000:9D91  F6 E4				mul	ah			; ax = reg * al
F000:9D93  03 F0				add	si,ax
F000:9D95  32 ED				xor	ch,ch			; Zero register
F000:9D97  8A CB				mov	cl,bl
F000:9D99  D1 E1				shl	cx,1			; Shift w/zeros fill
F000:9D9B  03 F1				add	si,cx
F000:9D9D  8B 34				mov	si,[si]
F000:9D9F  8A CF				mov	cl,bh
F000:9DA1  E3 0A				jcxz	short loc_552		; Jump if cx=0
F000:9DA3			loc_551:					;  xref F000:9DA8, 9DAB
F000:9DA3  8A 04				mov	al,[si]
F000:9DA5  46					inc	si
F000:9DA6  0A C0				or	al,al			; Zero ?
F000:9DA8  75 F9				jnz	loc_551			; Jump if not zero
F000:9DAA  49					dec	cx
F000:9DAB  75 F6				jnz	loc_551			; Jump if not zero
F000:9DAD			loc_552:					;  xref F000:9DA1
F000:9DAD  8B C6				mov	ax,si
F000:9DAF  8C DA				mov	dx,ds
F000:9DB1  59					pop	cx
F000:9DB2  5E					pop	si
F000:9DB3  1F					pop	ds
F000:9DB4  C3					retn
				sub_97		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
           MBIOS.LST       BIOS ROM Analysis			Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 125

				;         Called from:   F000:9E05, 9E16, 9E27
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_98		proc	near
F000:9DB5  33 C0				xor	ax,ax			; Zero register

F000:9DB7			locloop_553:					;  xref F000:9DBA
F000:9DB7  AC					lodsb				; String [si] to al
F000:9DB8  03 D8				add	bx,ax
F000:9DBA  E2 FB				loop	locloop_553		; Loop if cx > 0

F000:9DBC  C3					retn
				sub_98		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:AE6A
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_99		proc	near
F000:9DBD  56					push	si
F000:9DBE  BE 0019				mov	si,19h
F000:9DC1  BB 001B				mov	bx,1Bh
F000:9DC4  E8 0099				call	sub_100			; (9E60)
F000:9DC7  BE 001A				mov	si,1Ah
F000:9DCA  BB 0023				mov	bx,23h
F000:9DCD  E8 0090				call	sub_100			; (9E60)
F000:9DD0 њBE 13E6				mov	si,data_31e		; (0040:13E6=0DAh)
F000:9DD3  80 24 3E				and	byte ptr [si],3Eh	; '>'
F000:9DD6  A0 13E2				mov	al,ds:data_55e		; (3000:13E2=0FFh)
F000:9DD9  50					push	ax
F000:9DDA  8A E0				mov	ah,al
F000:9DDC  25 F00F				and	ax,0F00Fh
F000:9DDF  74 0E				jz	short loc_554		; Jump if zero
F000:9DE1  80 0C 01				or	byte ptr [si],1
F000:9DE4  0A C0				or	al,al			; Zero ?
F000:9DE6  74 07				jz	short loc_554		; Jump if zero
F000:9DE8  0A E4				or	ah,ah			; Zero ?
F000:9DEA  74 03				jz	short loc_554		; Jump if zero
F000:9DEC  80 0C 40				or	byte ptr [si],40h	; '@'
F000:9DEF			loc_554:					;  xref F000:9DDF, 9DE6, 9DEA
F000:9DEF  58					pop	ax
F000:9DF0  F6 06 13FE 01			test	byte ptr ds:data_57e,1	; (3000:13FE=0FFh)
F000:9DF5  74 06				jz	short loc_555		; Jump if zero
F000:9DF7  C0 C8 04				ror	al,4			; Rotate
F000:9DFA  A2 13E2				mov	ds:data_55e,al		; (3000:13E2=0FFh)
F000:9DFD			loc_555:					;  xref F000:9DF5
F000:9DFD  33 DB				xor	bx,bx			; Zero register
F000:9DFF  B9 001E				mov	cx,1Eh
F000:9E02 њBE 13E2				mov	si,data_30e		; (0040:13E2=0D6h)
F000:9E05  E8 FFAD				call	sub_98			; (9DB5)
F000:9E08  86 DF				xchg	bl,bh
F000:9E0A  89 1E 1400				mov	ds:data_58e,bx		; (3000:1400=0FFFFh)
F000:9E0E  33 DB				xor	bx,bx			; Zero register
F000:9E10 њBE 1409				mov	si,data_33e		; (0040:1409=0FDh)
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 126

F000:9E13  B9 0007				mov	cx,7
F000:9E16  E8 FF9C				call	sub_98			; (9DB5)
F000:9E19 њBE 1412				mov	si,data_34e		; (0040:1412=84h)
F000:9E1C  2E: 8B 0E 82CA			mov	cx,cs:data_132		; (F000:82CA=0D5h)
F000:9E21  81 E9 00BF				sub	cx,0BFh
F000:9E25  E3 03				jcxz	short loc_556		; Jump if cx=0
F000:9E27  E8 FF8B				call	sub_98			; (9DB5)
F000:9E2A			loc_556:					;  xref F000:9E25
F000:9E2A  86 FB				xchg	bh,bl
F000:9E2C  89 1E 1410				mov	ds:data_59e,bx		; (3000:1410=0FFFFh)
F000:9E30  FA					cli				; Disable interrupts
F000:9E31 њBE 13E0				mov	si,data_29e		; (0040:13E0=0D4h)
F000:9E34  C7 04 0000				mov	word ptr [si],0
F000:9E38  2E: 8B 0E 82CA			mov	cx,cs:data_132		; (F000:82CA=0D5h)
F000:9E3D  81 E9 008D				sub	cx,8Dh
F000:9E41  B0 8E				mov	al,8Eh

F000:9E43			locloop_557:					;  xref F000:9E5B
F000:9E43 њ81 FE 1404				cmp	si,data_32e		; (0040:1404=0F8h)
F000:9E47  75 08				jne	short loc_558		; Jump if not equal
F000:9E49  83 C6 03				add	si,3
F000:9E4C  04 03				add	al,3
F000:9E4E  83 E9 03				sub	cx,3
F000:9E51			loc_558:					;  xref F000:9E47
F000:9E51  8A E0				mov	ah,al
F000:9E53  AC					lodsb				; String [si] to al
F000:9E54  86 E0				xchg	ah,al
F000:9E56  E8 4D91				call	sub_349			; (EBEA)
F000:9E59  FE C0				inc	al
F000:9E5B  E2 E6				loop	locloop_557		; Loop if cx > 0

F000:9E5D  FB					sti				; Enable interrupts
F000:9E5E  5E					pop	si
F000:9E5F  C3					retn
				sub_99		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:9DC4, 9DCD
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_100		proc	near
F000:9E60  57					push	di
F000:9E61 њBF 13D2				mov	di,data_28e		; (0040:13D2=0C6h)
F000:9E64  03 DF				add	bx,di
F000:9E66  03 FE				add	di,si
F000:9E68  80 3D 30				cmp	byte ptr [di],30h	; '0'
F000:9E6B  72 20				jb	short loc_562		; Jump if below
F000:9E6D  74 20				jz	short loc_563		; Jump if zero
F000:9E6F  B0 53				mov	al,53h			; 'S'
F000:9E71  B4 00				mov	ah,0
F000:9E73			loc_559:					;  xref F000:9E93
F000:9E73 њC6 05 00				mov	byte ptr [di],0
F000:9E76  88 07				mov	[bx],al
F000:9E78 њBB 13E4				mov	bx,data_56e		; (3000:13E4=0FFh)
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 127

F000:9E7B  83 FE 19				cmp	si,19h
F000:9E7E  74 05				je	short loc_560		; Jump if equal
F000:9E80  80 27 F0				and	byte ptr [bx],0F0h
F000:9E83  EB 06				jmp	short loc_561		; (9E8B)
F000:9E85			loc_560:					;  xref F000:9E7E
F000:9E85  C0 E4 04				shl	ah,4			; Shift w/zeros fill
F000:9E88  80 27 0F				and	byte ptr [bx],0Fh
F000:9E8B			loc_561:					;  xref F000:9E83
F000:9E8B  08 27				or	[bx],ah
F000:9E8D			loc_562:					;  xref F000:9E6B
F000:9E8D  5F					pop	di
F000:9E8E  C3					retn
F000:9E8F			loc_563:					;  xref F000:9E6D
F000:9E8F  B0 45				mov	al,45h			; 'E'
F000:9E91  B4 01				mov	ah,1
F000:9E93  EB DE				jmp	short loc_559		; (9E73)
				sub_100		endp

F000:9E95  00 90				db	 00h, 90h

F000:9E97			int_13h_hrd_dsk	proc	near
F000:9E97  80 FA 80				cmp	dl,80h
F000:9E9A  FB					sti				; Enable interrupts
F000:9E9B  FC					cld				; Clear direction
F000:9E9C  72 65				jc	short loc_569		; Jump if carry Set
F000:9E9E  0A E4				or	ah,ah			; Zero ?
F000:9EA0  75 04				jnz	short loc_564		; Jump if not zero
F000:9EA2  CD 40				int	40h			; Floppy dl=drive # ah=func 00h
										;  reset disk, al=return status
F000:9EA4  32 E4				xor	ah,ah			; Zero register
F000:9EA6			loc_564:					;  xref F000:9EA0
F000:9EA6  E8 1DFF				call	sub_231			; (BCA8)
F000:9EA9  50					push	ax
F000:9EAA  51					push	cx
F000:9EAB  52					push	dx
F000:9EAC  53					push	bx
F000:9EAD  56					push	si
F000:9EAE  57					push	di
F000:9EAF  1E					push	ds
F000:9EB0  06					push	es
F000:9EB1  83 EC 0E				sub	sp,0Eh
F000:9EB4  55					push	bp
F000:9EB5  8B EC				mov	bp,sp
F000:9EB7  6A 40				push	40h
F000:9EB9  1F					pop	ds
F000:9EBA  80 FC 41				cmp	ah,41h			; 'A'
F000:9EBD  72 05				jb	short loc_565		; Jump if below
F000:9EBF  E8 0B32				call	sub_158			; (A9F4)
F000:9EC2  EB 15				jmp	short loc_566		; (9ED9)
F000:9EC4			loc_565:					;  xref F000:9EBD
F000:9EC4  50					push	ax
F000:9EC5  8A C4				mov	al,ah
F000:9EC7  98					cbw				; Convrt byte to word
F000:9EC8  8B F8				mov	di,ax
F000:9ECA  3C 19				cmp	al,19h
F000:9ECC  58					pop	ax
F000:9ECD  77 2A				ja	short loc_568		; Jump if above
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 128

F000:9ECF  D1 E7				shl	di,1			; Shift w/zeros fill
F000:9ED1  E8 074D				call	sub_136			; (A621)
F000:9ED4  2E: FF 95 9F08			call	word ptr cs:data_156[di]	;*(F000:9F08=9F45h)  26 entries
F000:9ED9			loc_566:					;  xref F000:9EC2, 9F01
F000:9ED9 њ89 46 1E				mov	[bp+1Eh],ax
F000:9EDC  B8 0201				mov	ax,201h
F000:9EDF  72 05				jc	short loc_567		; Jump if carry Set
F000:9EE1  80 66 24 FE				and	byte ptr [bp+24h],0FEh
F000:9EE5  48					dec	ax
F000:9EE6			loc_567:					;  xref F000:9EDF
F000:9EE6  09 46 24				or	[bp+24h],ax
F000:9EE9  5D					pop	bp
F000:9EEA  83 C4 0E				add	sp,0Eh
F000:9EED  07					pop	es
F000:9EEE  1F					pop	ds
F000:9EEF  5F					pop	di
F000:9EF0  5E					pop	si
F000:9EF1  5B					pop	bx
F000:9EF2  5A					pop	dx
F000:9EF3  59					pop	cx
F000:9EF4  58					pop	ax
F000:9EF5  E8 1DB0				call	sub_231			; (BCA8)
F000:9EF8  CF					iret				; Interrupt return
				int_13h_hrd_dsk	endp

F000:9EF9			loc_568:					;  xref F000:9ECD
F000:9EF9  B8 0100				mov	ax,100h
						assume	ds:seg_b
F000:9EFC  88 26 0074				mov	hdsk_status_1,ah	; (0040:0074=0)
F000:9F00  F9					stc				; Set carry flag
F000:9F01  EB D6				jmp	short loc_566		; (9ED9)
F000:9F03			loc_569:					;  xref F000:9E9C
F000:9F03  CD 40				int	40h			; Floppy dl=drive # ah=func 01h
										;  read status, al=return status
F000:9F05  CA 0002				retf	2			; Return far
F000:9F08  9F45			data_156	dw	offset sub_102		; Data table (indexed access) (9F45)
										;  xref F000:9ED4
F000:9F0A  A014			data_157	dw	offset sub_106		; (A014)
										;  xref F000:9ED4
F000:9F0C  A01F			data_158	dw	offset sub_107		; (A01F)
										;  xref F000:9ED4
F000:9F0E  A02F			data_159	dw	offset sub_108		; (A02F)
										;  xref F000:9ED4
F000:9F10  A047			data_160	dw	offset sub_109		; (A047)
										;  xref F000:9ED4
F000:9F12  A068			data_161	dw	offset sub_110		; (A068)
										;  xref F000:9ED4
F000:9F14  9F3C			data_162	dw	offset sub_101		; (9F3C)
										;  xref F000:9ED4
F000:9F16  9F3C			data_163	dw	offset sub_101		; (9F3C)
										;  xref F000:9ED4
F000:9F18  9F52			data_164	dw	offset sub_104		; (9F52)
										;  xref F000:9ED4
F000:9F1A  A124			data_165	dw	offset sub_112		; (A124)
										;  xref F000:9ED4
F000:9F1C  A157			data_166	dw	offset sub_113		; (A157)
										;  xref F000:9ED4
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 129

F000:9F1E  A166			data_167	dw	offset sub_114		; (A166)
										;  xref F000:9ED4
F000:9F20  A282			data_168	dw	offset sub_115		; (A282)
										;  xref F000:9ED4
F000:9F22  9F4C			data_169	dw	offset sub_103		; (9F4C)
										;  xref F000:9ED4
F000:9F24  9F3C			data_170	dw	offset sub_101		; (9F3C)
										;  xref F000:9ED4
F000:9F26  9F3C			data_171	dw	offset sub_101		; (9F3C)
										;  xref F000:9ED4
F000:9F28  A2CB			data_172	dw	offset sub_116		; (A2CB)
										;  xref F000:9ED4
F000:9F2A  A2F5			data_173	dw	offset sub_117		; (A2F5)
										;  xref F000:9ED4
F000:9F2C  9F3C			data_174	dw	offset sub_101		; (9F3C)
										;  xref F000:9ED4
F000:9F2E  9F3C			data_175	dw	offset sub_101		; (9F3C)
										;  xref F000:9ED4
F000:9F30  A31B			data_176	dw	offset sub_118		; (A31B)
										;  xref F000:9ED4
F000:9F32  9F57			data_177	dw	offset sub_105		; (9F57)
										;  xref F000:9ED4
F000:9F34  9F3C			data_178	dw	offset sub_101		; (9F3C)
										;  xref F000:9ED4
F000:9F36  9F3C			data_179	dw	offset sub_101		; (9F3C)
										;  xref F000:9ED4
F000:9F38  9F3C			data_180	dw	offset sub_101		; (9F3C)
										;  xref F000:9ED4
F000:9F3A  A377			data_181	dw	offset sub_120		; (A377)
										;  xref F000:9ED4

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:9ED4, 9F14, 9F16, 9F24, 9F26, 9F2C, 9F2E
				;                             9F34, 9F36, 9F38
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_101		proc	near
F000:9F3C  B8 0100				mov	ax,100h
F000:9F3F  88 26 0074				mov	hdsk_status_1,ah	; (0040:0074=0)
F000:9F43  F9					stc				; Set carry flag
F000:9F44  C3					retn
				sub_101		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:9ED4, 9F08
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_102		proc	near
F000:9F45  80 FA 83				cmp	dl,83h
F000:9F48  77 07				ja	short loc_ret_571	; Jump if above
F000:9F4A			loc_570:					;  xref F000:9F4F
F000:9F4A  EB 15				jmp	short loc_573		; (9F61)
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 130


				;пппп External Entry into Subroutine пппппппппппппппппппппппппппппппппппппп
				;
				;         Called from:   F000:9ED4, 9F22

				sub_103:
F000:9F4C  E8 0490				call	sub_123			; (A3DF)
F000:9F4F  73 F9				jnc	loc_570			; Jump if carry=0

F000:9F51			loc_ret_571:					;  xref F000:9F48
F000:9F51  C3					retn

				;пппп External Entry into Subroutine пппппппппппппппппппппппппппппппппппппп
				;
				;         Called from:   F000:9ED4, 9F18

				sub_104:
F000:9F52  E8 0185				call	sub_111			; (A0DA)
F000:9F55  EB 03				jmp	short loc_572		; (9F5A)

				;пппп External Entry into Subroutine пппппппппппппппппппппппппппппппппппппп
				;
				;         Called from:   F000:9ED4, 9F32

				sub_105:
F000:9F57  E8 03F4				call	sub_119			; (A34E)
F000:9F5A			loc_572:					;  xref F000:9F55
F000:9F5A  89 56 1A				mov	[bp+1Ah],dx
F000:9F5D  89 4E 1C				mov	[bp+1Ch],cx
F000:9F60  C3					retn
F000:9F61			loc_573:					;  xref F000:9F4A
F000:9F61  C6 06 008E 00			mov	hdsk_complete,0		; (0040:008E=0)
F000:9F66  E8 0861				call	sub_145			; (A7CA)
F000:9F69  B0 04				mov	al,4
F000:9F6B  EE					out	dx,al			; port 0, DMA-1 bas&add ch 0
F000:9F6C  B9 0026				mov	cx,26h
F000:9F6F  E8 58EC				call	sub_403			; (F85E)
F000:9F72  B0 00				mov	al,0
F000:9F74  EE					out	dx,al			; port 0, DMA-1 bas&add ch 0
F000:9F75  E8 048E				call	sub_125			; (A406)
F000:9F78  72 11				jc	short loc_575		; Jump if carry Set
F000:9F7A  E8 0846				call	sub_144			; (A7C3)
F000:9F7D  EC					in	al,dx			; port 0, DMA-1 bas&add ch 0
F000:9F7E  A2 008D				mov	hdsk_error,al		; (0040:008D=1)
F000:9F81  3C 01				cmp	al,1
F000:9F83  74 09				je	short loc_576		; Jump if equal
F000:9F85			loc_574:					;  xref F000:9FD7, A00A
F000:9F85 њB4 05				mov	ah,5
F000:9F87  F9					stc				; Set carry flag
F000:9F88  E9 0084				jmp	loc_580			; (A00F)
F000:9F8B			loc_575:					;  xref F000:9F78
F000:9F8B  E9 0085				jmp	loc_ret_581		; (A013)
F000:9F8E			loc_576:					;  xref F000:9F83
F000:9F8E  B2 80				mov	dl,80h
F000:9F90  A0 0015				mov	al,byte ptr error_codes	; (0040:0015=1)
F000:9F93  8A E0				mov	ah,al
F000:9F95  25 0C03				and	ax,0C03h
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 131

F000:9F98  C0 EC 02				shr	ah,2			; Shift w/zeros fill
F000:9F9B  8B 5E 02				mov	bx,[bp+2]
F000:9F9E  2E: 3B 1E 8278			cmp	bx,cs:data_124		; (F000:8278=1F0h)
F000:9FA3  74 04				je	short loc_577		; Jump if equal
F000:9FA5  02 D0				add	dl,al
F000:9FA7  8A C4				mov	al,ah
F000:9FA9			loc_577:					;  xref F000:9FA3
F000:9FA9  50					push	ax
F000:9FAA  52					push	dx
F000:9FAB  BF 0022				mov	di,22h
F000:9FAE  E8 0670				call	sub_136			; (A621)
F000:9FB1  E8 0341				call	sub_117			; (A2F5)
F000:9FB4  5A					pop	dx
F000:9FB5  52					push	dx
F000:9FB6  BF 0012				mov	di,12h
F000:9FB9  E8 0665				call	sub_136			; (A621)
F000:9FBC  E8 0165				call	sub_112			; (A124)
F000:9FBF  5A					pop	dx
F000:9FC0  E8 0826				call	sub_147			; (A7E9)
F000:9FC3  26: 8A 47 17				mov	al,es:[bx+17h]
F000:9FC7  0A C0				or	al,al			; Zero ?
F000:9FC9  74 0E				jz	short loc_578		; Jump if zero
F000:9FCB  52					push	dx
F000:9FCC  06					push	es
F000:9FCD  53					push	bx
F000:9FCE  E8 09B1				call	sub_153			; (A982)
F000:9FD1  5B					pop	bx
F000:9FD2  07					pop	es
F000:9FD3  5A					pop	dx
F000:9FD4  73 03				jnc	short loc_578		; Jump if carry=0
F000:9FD6  58					pop	ax
F000:9FD7  EB AC				jmp	short loc_574		; (9F85)
F000:9FD9			loc_578:					;  xref F000:9FC9, 9FD4
F000:9FD9  58					pop	ax
F000:9FDA  3C 02				cmp	al,2
F000:9FDC  72 2F				jb	short loc_579		; Jump if below
F000:9FDE  FE C2				inc	dl
F000:9FE0  52					push	dx
F000:9FE1  BF 0022				mov	di,22h
F000:9FE4  E8 063A				call	sub_136			; (A621)
F000:9FE7  E8 030B				call	sub_117			; (A2F5)
F000:9FEA  5A					pop	dx
F000:9FEB  52					push	dx
F000:9FEC  BF 0012				mov	di,12h
F000:9FEF  E8 062F				call	sub_136			; (A621)
F000:9FF2  E8 012F				call	sub_112			; (A124)
F000:9FF5  5A					pop	dx
F000:9FF6  E8 07F0				call	sub_147			; (A7E9)
F000:9FF9  26: 8A 47 17				mov	al,es:[bx+17h]
F000:9FFD  0A C0				or	al,al			; Zero ?
F000:9FFF  74 0C				jz	short loc_579		; Jump if zero
F000:A001  06					push	es
F000:A002  53					push	bx
F000:A003  E8 097C				call	sub_153			; (A982)
F000:A006  5B					pop	bx
F000:A007  07					pop	es
F000:A008  73 03				jnc	short loc_579		; Jump if carry=0
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 132

F000:A00A  E9 FF78				jmp	loc_574			; (9F85)
F000:A00D			loc_579:					;  xref F000:9FDC, 9FFF, A008
F000:A00D  32 E4				xor	ah,ah			; Zero register
F000:A00F			loc_580:					;  xref F000:9F88
F000:A00F  88 26 0074				mov	hdsk_status_1,ah	; (0040:0074=0)

F000:A013			loc_ret_581:					;  xref F000:9F8B
F000:A013  C3					retn
				sub_102		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:9ED4, 9F0A
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_106		proc	near
F000:A014  A0 0074				mov	al,hdsk_status_1	; (0040:0074=0)
F000:A017  B4 00				mov	ah,0
F000:A019  88 26 0074				mov	hdsk_status_1,ah	; (0040:0074=0)
F000:A01D  F8					clc				; Clear carry flag
F000:A01E  C3					retn
				sub_106		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:9ED4, 9F0C
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_107		proc	near
F000:A01F  C7 46 1E 0200			mov	word ptr [bp+1Eh],200h
F000:A024  E8 0524				call	sub_131			; (A54B)
F000:A027  72 05				jc	short loc_ret_582	; Jump if carry Set
F000:A029  B4 20				mov	ah,20h			; ' '
F000:A02B  E9 0151				jmp	loc_597			; (A17F)

F000:A02E			loc_ret_582:					;  xref F000:A027
F000:A02E  C3					retn

				;пппп External Entry into Subroutine пппппппппппппппппппппппппппппппппппппп
				;
				;         Called from:   F000:9ED4, 9F0E

				sub_108:
F000:A02F  E8 DE2E				call	sub_39			; (7E60)
F000:A032  73 03				jnc	short loc_583		; Jump if carry=0
F000:A034  E9 0143				jmp	loc_595			; (A17A)
F000:A037			loc_583:					;  xref F000:A032
F000:A037  C7 46 1E 0200			mov	word ptr [bp+1Eh],200h
F000:A03C  E8 050C				call	sub_131			; (A54B)
F000:A03F  72 05				jc	short loc_ret_584	; Jump if carry Set
F000:A041  B4 30				mov	ah,30h			; '0'
F000:A043  E9 01B7				jmp	loc_606			; (A1FD)

           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 133

F000:A046			loc_ret_584:					;  xref F000:A03F
F000:A046  C3					retn

				;пппп External Entry into Subroutine пппппппппппппппппппппппппппппппппппппп
				;
				;         Called from:   F000:9ED4, 9F10

				sub_109:
F000:A047  E8 0395				call	sub_123			; (A3DF)
F000:A04A  72 1B				jc	short loc_ret_585	; Jump if carry Set
F000:A04C  E8 03DF				call	sub_126			; (A42E)
F000:A04F  72 16				jc	short loc_ret_585	; Jump if carry Set
F000:A051  E8 0523				call	sub_132			; (A577)
F000:A054  E8 0532				call	sub_133			; (A589)
F000:A057  E8 039D				call	sub_124			; (A3F7)
F000:A05A  B0 40				mov	al,40h			; '@'
F000:A05C  E8 04B6				call	sub_130			; (A515)
F000:A05F  E8 0407				call	sub_127			; (A469)
F000:A062  72 03				jc	short loc_ret_585	; Jump if carry Set
F000:A064  E8 044C				call	sub_129			; (A4B3)

F000:A067			loc_ret_585:					;  xref F000:A04A, A04F, A062
F000:A067  C3					retn

				;пппп External Entry into Subroutine пппппппппппппппппппппппппппппппппппппп
				;
				;         Called from:   F000:9ED4, 9F12

				sub_110:
F000:A068  E8 DDFC				call	sub_40			; (7E67)
F000:A06B  73 03				jnc	short loc_586		; Jump if carry=0
F000:A06D  E9 010A				jmp	loc_595			; (A17A)
F000:A070			loc_586:					;  xref F000:A06B
F000:A070  E8 036C				call	sub_123			; (A3DF)
F000:A073  72 05				jc	short loc_587		; Jump if carry Set
F000:A075  E8 03B6				call	sub_126			; (A42E)
F000:A078  73 02				jnc	short loc_588		; Jump if carry=0
F000:A07A			loc_587:					;  xref F000:A073
F000:A07A  EB 5D				jmp	short loc_ret_589	; (A0D9)
F000:A07C			loc_588:					;  xref F000:A078
F000:A07C  8C C7				mov	di,es
F000:A07E  8B F3				mov	si,bx
F000:A080  E8 04F4				call	sub_132			; (A577)
F000:A083  E8 0371				call	sub_124			; (A3F7)
F000:A086  8A 46 09				mov	al,[bp+9]
F000:A089  E8 0714				call	sub_139			; (A7A0)
F000:A08C  EE					out	dx,al			; port 0, DMA-1 bas&add ch 0
F000:A08D  E3 00				jcxz	short $+2		; delay for I/O
F000:A08F  E3 00				jcxz	short $+2		; delay for I/O
F000:A091  8A 46 0A				mov	al,[bp+0Ah]
F000:A094  E8 0717				call	sub_141			; (A7AE)
F000:A097  EE					out	dx,al			; port 0, DMA-1 bas&add ch 0
F000:A098  E3 00				jcxz	short $+2		; delay for I/O
F000:A09A  E3 00				jcxz	short $+2		; delay for I/O
F000:A09C  E8 06F6				call	sub_138			; (A795)
F000:A09F  E3 00				jcxz	short $+2		; delay for I/O
F000:A0A1  E3 00				jcxz	short $+2		; delay for I/O
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 134

F000:A0A3  8A 46 0B				mov	al,[bp+0Bh]
F000:A0A6  E8 06FE				call	sub_140			; (A7A7)
F000:A0A9  EE					out	dx,al			; port 0, DMA-1 bas&add ch 0
F000:A0AA  E3 00				jcxz	short $+2		; delay for I/O
F000:A0AC  E3 00				jcxz	short $+2		; delay for I/O
F000:A0AE  8A 46 0C				mov	al,[bp+0Ch]
F000:A0B1  E8 0701				call	sub_142			; (A7B5)
F000:A0B4  EE					out	dx,al			; port 0, DMA-1 bas&add ch 0
F000:A0B5  B0 50				mov	al,50h			; 'P'
F000:A0B7  E8 045B				call	sub_130			; (A515)
F000:A0BA  E8 03D5				call	sub_128			; (A492)
F000:A0BD  72 1A				jc	short loc_ret_589	; Jump if carry Set
F000:A0BF  8C D8				mov	ax,ds
F000:A0C1  97					xchg	di,ax
F000:A0C2  8E D8				mov	ds,ax
F000:A0C4  B9 0100				mov	cx,100h
F000:A0C7  8B 56 02				mov	dx,[bp+2]
F000:A0CA  FA					cli				; Disable interrupts
F000:A0CB  FC					cld				; Clear direction
F000:A0CC  F3/ 6F				rep	outsw			; Rep when cx >0 Out [si] to port dx
F000:A0CE  FB					sti				; Enable interrupts
F000:A0CF  8E DF				mov	ds,di
F000:A0D1  E8 0395				call	sub_127			; (A469)
F000:A0D4  72 03				jc	short loc_ret_589	; Jump if carry Set
F000:A0D6  E8 03DA				call	sub_129			; (A4B3)

F000:A0D9			loc_ret_589:					;  xref F000:A07A, A0BD, A0D4
F000:A0D9  C3					retn

				;пппп External Entry into Subroutine пппппппппппппппппппппппппппппппппппппп
				;
				;         Called from:   F000:9F52

				sub_111:
F000:A0DA  E8 029D				call	sub_121			; (A37A)
F000:A0DD  73 09				jnc	short loc_590		; Jump if carry=0
F000:A0DF  B4 07				mov	ah,7
F000:A0E1  33 C9				xor	cx,cx			; Zero register
F000:A0E3  33 D2				xor	dx,dx			; Zero register
F000:A0E5  F9					stc				; Set carry flag
F000:A0E6  EB 37				jmp	short loc_592		; (A11F)
F000:A0E8			loc_590:					;  xref F000:A0DD
F000:A0E8  9C					pushf				; Push flags
F000:A0E9  26: 8A 77 02				mov	dh,es:[bx+2]
F000:A0ED  FE CE				dec	dh
F000:A0EF  26: 8B 07				mov	ax,es:[bx]
F000:A0F2  83 E8 02				sub	ax,2
F000:A0F5  9D					popf				; Pop flags
F000:A0F6  74 08				jz	short loc_591		; Jump if zero
F000:A0F8  3D 03FF				cmp	ax,3FFh
F000:A0FB  76 03				jbe	short loc_591		; Jump if below or =
F000:A0FD  B8 03FF				mov	ax,3FFh
F000:A100			loc_591:					;  xref F000:A0F6, A0FB
F000:A100  8A D4				mov	dl,ah
F000:A102  8A E8				mov	ch,al
F000:A104  C0 E4 06				shl	ah,6			; Shift w/zeros fill
F000:A107  8A CC				mov	cl,ah
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 135

F000:A109  8A E2				mov	ah,dl
F000:A10B  C0 E4 04				shl	ah,4			; Shift w/zeros fill
F000:A10E  80 E4 C0				and	ah,0C0h
F000:A111  0A F4				or	dh,ah
F000:A113  26: 8A 47 0E				mov	al,es:[bx+0Eh]
F000:A117  0A C8				or	cl,al
F000:A119  8A 16 0075				mov	dl,hdsk_count		; (0040:0075=1)
F000:A11D  B4 00				mov	ah,0
F000:A11F			loc_592:					;  xref F000:A0E6
F000:A11F  88 26 0074				mov	hdsk_status_1,ah	; (0040:0074=0)
F000:A123  C3					retn

				;пппп External Entry into Subroutine пппппппппппппппппппппппппппппппппппппп
				;
				;         Called from:   F000:9ED4, 9F1A, 9FBC, 9FF2

				sub_112:
F000:A124  E8 02B8				call	sub_123			; (A3DF)
F000:A127  72 2D				jc	short loc_ret_593	; Jump if carry Set
F000:A129  E8 024E				call	sub_121			; (A37A)
F000:A12C  72 28				jc	short loc_ret_593	; Jump if carry Set
F000:A12E  E8 02FD				call	sub_126			; (A42E)
F000:A131  72 23				jc	short loc_ret_593	; Jump if carry Set
F000:A133  E8 0441				call	sub_132			; (A577)
F000:A136  8A E2				mov	ah,dl
F000:A138  E8 0665				call	sub_139			; (A7A0)
F000:A13B  8A 46 09				mov	al,[bp+9]
F000:A13E  EE					out	dx,al			; port 0, DMA-1 bas&add ch 0
F000:A13F  E3 00				jcxz	short $+2		; delay for I/O
F000:A141  E3 00				jcxz	short $+2		; delay for I/O
F000:A143  E8 064F				call	sub_138			; (A795)
F000:A146  B0 91				mov	al,91h
F000:A148  E8 02AC				call	sub_124			; (A3F7)
F000:A14B  E8 03C7				call	sub_130			; (A515)
F000:A14E  E8 0318				call	sub_127			; (A469)
F000:A151  72 03				jc	short loc_ret_593	; Jump if carry Set
F000:A153  E8 035D				call	sub_129			; (A4B3)

F000:A156			loc_ret_593:					;  xref F000:A127, A12C, A131, A151
F000:A156  C3					retn

				;пппп External Entry into Subroutine пппппппппппппппппппппппппппппппппппппп
				;
				;         Called from:   F000:9ED4, 9F1C

				sub_113:
F000:A157  C7 46 1E 0204			mov	word ptr [bp+1Eh],204h
F000:A15C  E8 03EC				call	sub_131			; (A54B)
F000:A15F  72 04				jc	short loc_ret_594	; Jump if carry Set
F000:A161  B4 22				mov	ah,22h			; '"'
F000:A163  EB 1A				jmp	short loc_597		; (A17F)

F000:A165			loc_ret_594:					;  xref F000:A15F
F000:A165  C3					retn

				;пппп External Entry into Subroutine пппппппппппппппппппппппппппппппппппппп
				;
           MBIOS.LST       BIOS ROM Analysis			Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 136

				;         Called from:   F000:9ED4, 9F1E

				sub_114:
F000:A166  E8 DCF7				call	sub_39			; (7E60)
F000:A169  72 0F				jc	short loc_595		; Jump if carry Set
F000:A16B  C7 46 1E 0204			mov	word ptr [bp+1Eh],204h
F000:A170  E8 03D8				call	sub_131			; (A54B)
F000:A173  72 09				jc	short loc_ret_596	; Jump if carry Set
F000:A175  B4 32				mov	ah,32h			; '2'
F000:A177  E9 0083				jmp	loc_606			; (A1FD)
F000:A17A			loc_595:					;  xref F000:A034, A06D, A169
F000:A17A  88 26 0074				mov	hdsk_status_1,ah	; (0040:0074=0)

F000:A17E			loc_ret_596:					;  xref F000:A173
F000:A17E  C3					retn
F000:A17F			loc_597:					;  xref F000:A02B, A163
F000:A17F  E8 025D				call	sub_123			; (A3DF)
F000:A182  72 78				jc	short loc_ret_605	; Jump if carry Set
F000:A184  E8 02A7				call	sub_126			; (A42E)
F000:A187  72 73				jc	short loc_ret_605	; Jump if carry Set
F000:A189  8B FB				mov	di,bx
F000:A18B  8C C6				mov	si,es
F000:A18D  E8 03E7				call	sub_132			; (A577)
F000:A190  F6 06 0076 C0			test	hdsk_head_ctrl,0C0h	; (0040:0076=8)
F000:A195  74 02				jz	short loc_598		; Jump if zero
F000:A197  FE C4				inc	ah
F000:A199			loc_598:					;  xref F000:A195
F000:A199  E8 03ED				call	sub_133			; (A589)
F000:A19C  E8 0258				call	sub_124			; (A3F7)
F000:A19F  8A C4				mov	al,ah
F000:A1A1  E8 0419				call	sub_134			; (A5BD)
F000:A1A4  73 02				jnc	short loc_599		; Jump if carry=0
F000:A1A6  B0 C4				mov	al,0C4h
F000:A1A8			loc_599:					;  xref F000:A1A4
F000:A1A8  E8 036A				call	sub_130			; (A515)
F000:A1AB			loc_600:					;  xref F000:A1DA, A1F1
F000:A1AB њE8 044C				call	sub_135			; (A5FA)
F000:A1AE  72 43				jc	short loc_604		; Jump if carry Set
F000:A1B0  E8 02B6				call	sub_127			; (A469)
F000:A1B3  72 47				jc	short loc_ret_605	; Jump if carry Set
F000:A1B5  E8 02FB				call	sub_129			; (A4B3)
F000:A1B8  73 07				jnc	short loc_601		; Jump if carry=0
F000:A1BA  80 3E 0074 11			cmp	hdsk_status_1,11h	; (0040:0074=0)
F000:A1BF  75 32				jne	short loc_604		; Jump if not equal
F000:A1C1			loc_601:					;  xref F000:A1B8
F000:A1C1  8E C6				mov	es,si
F000:A1C3  8B CB				mov	cx,bx
F000:A1C5  8B 56 02				mov	dx,[bp+2]
F000:A1C8  FA					cli				; Disable interrupts
F000:A1C9  FC					cld				; Clear direction
F000:A1CA  80 7E 0F 00				cmp	byte ptr [bp+0Fh],0
F000:A1CE  74 03				je	short loc_602		; Jump if equal
F000:A1D0  D1 E9				shr	cx,1			; Shift w/zeros fill
F000:A1D3			loc_602:					;  xref F000:A1CE
F000:A1D2  66| F3/ 6D				rep	insd			; Rep when cx >0 Port dx to es:[di]
F000:A1D5  FB					sti				; Enable interrupts
F000:A1D6  F6 46 0E 02				test	byte ptr [bp+0Eh],2
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 137

F000:A1DA  74 CF				jz	loc_600			; Jump if zero
F000:A1DC  E8 02B3				call	sub_128			; (A492)
F000:A1DF  72 1B				jc	short loc_ret_605	; Jump if carry Set
F000:A1E1  B9 0004				mov	cx,4

F000:A1E4			locloop_603:					;  xref F000:A1EF
F000:A1E4  EC					in	al,dx			; port 0, DMA-1 bas&add ch 0
F000:A1E5  26: 88 05				mov	es:[di],al
F000:A1E8  47					inc	di
F000:A1E9  E3 00				jcxz	short $+2		; delay for I/O
F000:A1EB  E3 00				jcxz	short $+2		; delay for I/O
F000:A1ED  E3 00				jcxz	short $+2		; delay for I/O
F000:A1EF  E2 F3				loop	locloop_603		; Loop if cx > 0

F000:A1F1  EB B8				jmp	short loc_600		; (A1AB)
F000:A1F3			loc_604:					;  xref F000:A1AE, A1BF
F000:A1F3  8A 26 0074				mov	ah,hdsk_status_1	; (0040:0074=0)
F000:A1F7  0A E4				or	ah,ah			; Zero ?
F000:A1F9  74 01				jz	short loc_ret_605	; Jump if zero
F000:A1FB  F9					stc				; Set carry flag

F000:A1FC			loc_ret_605:					;  xref F000:A182, A187, A1B3, A1DF
										;            A1F9
F000:A1FC  C3					retn
F000:A1FD			loc_606:					;  xref F000:A043, A177
F000:A1FD  E8 01DF				call	sub_123			; (A3DF)
F000:A200  72 77				jc	short loc_613		; Jump if carry Set
F000:A202  E8 0229				call	sub_126			; (A42E)
F000:A205  72 72				jc	short loc_613		; Jump if carry Set
F000:A207  8C C7				mov	di,es
F000:A209  8B F3				mov	si,bx
F000:A20B  E8 0369				call	sub_132			; (A577)
F000:A20E  E8 0169				call	sub_121			; (A37A)
F000:A211  F6 06 0076 C0			test	hdsk_head_ctrl,0C0h	; (0040:0076=8)
F000:A216  74 02				jz	short loc_607		; Jump if zero
F000:A218  FE C4				inc	ah
F000:A21A			loc_607:					;  xref F000:A216
F000:A21A  E8 036C				call	sub_133			; (A589)
F000:A21D  E8 01D7				call	sub_124			; (A3F7)
F000:A220  8A C4				mov	al,ah
F000:A222  E8 0398				call	sub_134			; (A5BD)
F000:A225  73 02				jnc	short loc_608		; Jump if carry=0
F000:A227  B0 C5				mov	al,0C5h
F000:A229			loc_608:					;  xref F000:A225
F000:A229  E8 02E9				call	sub_130			; (A515)
F000:A22C  E8 0263				call	sub_128			; (A492)
F000:A22F  72 48				jc	short loc_613		; Jump if carry Set
F000:A231			loc_609:					;  xref F000:A277
F000:A231 њE8 03C6				call	sub_135			; (A5FA)
F000:A234  72 43				jc	short loc_613		; Jump if carry Set
F000:A236  80 7E 0F 00				cmp	byte ptr [bp+0Fh],0
F000:A23A  8E DF				mov	ds,di
F000:A23C  8B CB				mov	cx,bx
F000:A23E  8B 56 02				mov	dx,[bp+2]
F000:A241  FA					cli				; Disable interrupts
F000:A242  FC					cld				; Clear direction
F000:A243  74 03				jz	short loc_610		; Jump if zero
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 138

F000:A245  D1 E9				shr	cx,1			; Shift w/zeros fill
F000:A248			loc_610:					;  xref F000:A243
F000:A247  66| F3/ 6F				rep	outsd			; Rep when cx >0 Out [si] to port dx
F000:A24A  FB					sti				; Enable interrupts
F000:A24B  F6 46 0E 02				test	byte ptr [bp+0Eh],2
F000:A24F  74 19				jz	short loc_612		; Jump if zero
F000:A251  6A 40				push	40h
F000:A253  1F					pop	ds
F000:A254  E8 023B				call	sub_128			; (A492)
F000:A257  72 20				jc	short loc_613		; Jump if carry Set
F000:A259  B9 0004				mov	cx,4
F000:A25C  8E DF				mov	ds,di

F000:A25E			locloop_611:					;  xref F000:A268
F000:A25E  8A 04				mov	al,[si]
F000:A260  46					inc	si
F000:A261  EE					out	dx,al			; port 0, DMA-1 bas&add ch 0
F000:A262  E3 00				jcxz	short $+2		; delay for I/O
F000:A264  E3 00				jcxz	short $+2		; delay for I/O
F000:A266  E3 00				jcxz	short $+2		; delay for I/O
F000:A268  E2 F4				loop	locloop_611		; Loop if cx > 0

F000:A26A			loc_612:					;  xref F000:A24F
F000:A26A  6A 40				push	40h
F000:A26C  1F					pop	ds
F000:A26D  E8 01F9				call	sub_127			; (A469)
F000:A270  72 07				jc	short loc_613		; Jump if carry Set
F000:A272  E8 023E				call	sub_129			; (A4B3)
F000:A275  72 02				jc	short loc_613		; Jump if carry Set
F000:A277  EB B8				jmp	short loc_609		; (A231)
F000:A279			loc_613:					;  xref F000:A200, A205, A22F, A234
										;            A257, A270, A275
F000:A279  8A 26 0074				mov	ah,hdsk_status_1	; (0040:0074=0)
F000:A27D  80 FC 01				cmp	ah,1
F000:A280  F5					cmc				; Complement carry
F000:A281  C3					retn
				sub_107		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:9ED4, 9F20
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_115		proc	near
F000:A282			loc_614:					;  xref F000:A377
F000:A282 њE8 015A				call	sub_123			; (A3DF)
F000:A285  72 43				jc	short loc_ret_615	; Jump if carry Set
F000:A287  E8 01A4				call	sub_126			; (A42E)
F000:A28A  72 3E				jc	short loc_ret_615	; Jump if carry Set
F000:A28C  E8 02E8				call	sub_132			; (A577)
F000:A28F  8A EA				mov	ch,dl
F000:A291  E8 0513				call	sub_140			; (A7A7)
F000:A294  8A 46 0B				mov	al,[bp+0Bh]
F000:A297  EE					out	dx,al			; port 0, DMA-1 bas&add ch 0
F000:A298  E3 00				jcxz	short $+2		; delay for I/O
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 139

F000:A29A  E3 00				jcxz	short $+2		; delay for I/O
F000:A29C  E8 0516				call	sub_142			; (A7B5)
F000:A29F  8A 46 0C				mov	al,[bp+0Ch]
F000:A2A2  EE					out	dx,al			; port 0, DMA-1 bas&add ch 0
F000:A2A3  E3 00				jcxz	short $+2		; delay for I/O
F000:A2A5  E3 00				jcxz	short $+2		; delay for I/O
F000:A2A7  E8 04EB				call	sub_138			; (A795)
F000:A2AA  E8 014A				call	sub_124			; (A3F7)
F000:A2AD  B0 70				mov	al,70h			; 'p'
F000:A2AF  E8 0263				call	sub_130			; (A515)
F000:A2B2  E8 01B4				call	sub_127			; (A469)
F000:A2B5  72 13				jc	short loc_ret_615	; Jump if carry Set
F000:A2B7  E8 01F9				call	sub_129			; (A4B3)
F000:A2BA  73 0E				jnc	short loc_ret_615	; Jump if carry=0
F000:A2BC  80 3E 0074 40			cmp	hdsk_status_1,40h	; (0040:0074=0) '@'
F000:A2C1  F9					stc				; Set carry flag
F000:A2C2  75 06				jnz	short loc_ret_615	; Jump if not zero
F000:A2C4  32 E4				xor	ah,ah			; Zero register
F000:A2C6  88 26 0074				mov	hdsk_status_1,ah	; (0040:0074=0)

F000:A2CA			loc_ret_615:					;  xref F000:A285, A28A, A2B5, A2BA
										;            A2C2
F000:A2CA  C3					retn
				sub_115		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:9ED4, 9F28
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_116		proc	near
F000:A2CB  E8 0111				call	sub_123			; (A3DF)
F000:A2CE  72 24				jc	short loc_ret_617	; Jump if carry Set
F000:A2D0  E8 0133				call	sub_125			; (A406)
F000:A2D3  72 1F				jc	short loc_ret_617	; Jump if carry Set
F000:A2D5  E8 04BD				call	sub_138			; (A795)
F000:A2D8  E8 04E1				call	sub_143			; (A7BC)
F000:A2DB  51					push	cx
F000:A2DC  B9 0004				mov	cx,4
F000:A2DF  E8 557C				call	sub_403			; (F85E)
F000:A2E2  59					pop	cx
F000:A2E3  EC					in	al,dx			; port 0, DMA-1 bas&add ch 0
F000:A2E4  A2 008C				mov	hdsk_status_2,al	; (0040:008C=50h)
F000:A2E7  B4 00				mov	ah,0
F000:A2E9  A8 40				test	al,40h			; '@'
F000:A2EB  75 03				jnz	short loc_616		; Jump if not zero
F000:A2ED  B4 AA				mov	ah,0AAh
F000:A2EF  F9					stc				; Set carry flag
F000:A2F0			loc_616:					;  xref F000:A2EB
F000:A2F0  88 26 0074				mov	hdsk_status_1,ah	; (0040:0074=0)

F000:A2F4			loc_ret_617:					;  xref F000:A2CE, A2D3
F000:A2F4  C3					retn
				sub_116		endp

           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 140


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:9ED4, 9F2A, 9FB1, 9FE7
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_117		proc	near
F000:A2F5  E8 00E7				call	sub_123			; (A3DF)
F000:A2F8  72 20				jc	short loc_ret_620	; Jump if carry Set
F000:A2FA  E8 0131				call	sub_126			; (A42E)
F000:A2FD  72 1B				jc	short loc_ret_620	; Jump if carry Set
F000:A2FF  E8 0275				call	sub_132			; (A577)
F000:A302  E8 0490				call	sub_138			; (A795)
F000:A305  E8 00EF				call	sub_124			; (A3F7)
F000:A308			loc_618:					;  xref F000:A9AA
F000:A308 њB0 10				mov	al,10h
F000:A30A  E8 0208				call	sub_130			; (A515)
F000:A30D  E8 0159				call	sub_127			; (A469)
F000:A310  73 05				jnc	short loc_619		; Jump if carry=0
F000:A312  E8 0154				call	sub_127			; (A469)
F000:A315  72 03				jc	short loc_ret_620	; Jump if carry Set
F000:A317			loc_619:					;  xref F000:A310
F000:A317  E8 0199				call	sub_129			; (A4B3)

F000:A31A			loc_ret_620:					;  xref F000:A2F8, A2FD, A315
F000:A31A  C3					retn
				sub_117		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:9ED4, 9F30
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_118		proc	near
F000:A31B  E8 00C1				call	sub_123			; (A3DF)
F000:A31E  72 2D				jc	short loc_ret_622	; Jump if carry Set
F000:A320  E8 010B				call	sub_126			; (A42E)
F000:A323  72 28				jc	short loc_ret_622	; Jump if carry Set
F000:A325  E8 024F				call	sub_132			; (A577)
F000:A328  E8 00DB				call	sub_125			; (A406)
F000:A32B  72 20				jc	short loc_ret_622	; Jump if carry Set
F000:A32D  B0 90				mov	al,90h
F000:A32F  E8 01E3				call	sub_130			; (A515)
F000:A332  E8 0134				call	sub_127			; (A469)
F000:A335  72 16				jc	short loc_ret_622	; Jump if carry Set
F000:A337  E8 0489				call	sub_144			; (A7C3)
F000:A33A  EC					in	al,dx			; port 0, DMA-1 bas&add ch 0
F000:A33B  A2 008D				mov	hdsk_error,al		; (0040:008D=1)
F000:A33E  B4 20				mov	ah,20h			; ' '
F000:A340  24 07				and	al,7
F000:A342  3C 01				cmp	al,1
F000:A344  F9					stc				; Set carry flag
F000:A345  75 02				jnz	short loc_621		; Jump if not zero
F000:A347  32 E4				xor	ah,ah			; Zero register
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 141

F000:A349			loc_621:					;  xref F000:A345
F000:A349  88 26 0074				mov	hdsk_status_1,ah	; (0040:0074=0)

F000:A34D			loc_ret_622:					;  xref F000:A31E, A323, A32B, A335
F000:A34D  C3					retn
				sub_118		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:9F57
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_119		proc	near
F000:A34E  E8 008E				call	sub_123			; (A3DF)
F000:A351  73 07				jnc	short loc_623		; Jump if carry=0
F000:A353  32 E4				xor	ah,ah			; Zero register
F000:A355  33 C9				xor	cx,cx			; Zero register
F000:A357  33 D2				xor	dx,dx			; Zero register
F000:A359  C3					retn
F000:A35A			loc_623:					;  xref F000:A351
F000:A35A  E8 002A				call	sub_122			; (A387)
F000:A35D  26: 8B 07				mov	ax,es:[bx]
F000:A360  48					dec	ax
F000:A361  26: 8A 4F 0E				mov	cl,es:[bx+0Eh]
F000:A365  B5 00				mov	ch,0
F000:A367  F7 E1				mul	cx			; dx:ax = reg * ax
F000:A369  26: 8A 4F 02				mov	cl,es:[bx+2]
F000:A36D  F7 E1				mul	cx			; dx:ax = reg * ax
F000:A36F  8B CA				mov	cx,dx
F000:A371  8B D0				mov	dx,ax
F000:A373  B4 03				mov	ah,3
F000:A375  F8					clc				; Clear carry flag
F000:A376  C3					retn
				sub_119		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:9ED4, 9F3A
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_120		proc	near
F000:A377  E9 FF08				jmp	loc_614			; (A282)
				sub_120		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:A0DA, A129, A20E
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_121		proc	near
F000:A37A  80 FA 83				cmp	dl,83h
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 142

F000:A37D  76 08				jbe	short loc_624		; Jump if below or =
F000:A37F  B4 01				mov	ah,1
F000:A381  88 26 0074				mov	hdsk_status_1,ah	; (0040:0074=0)
F000:A385  F9					stc				; Set carry flag
F000:A386  C3					retn
				sub_121		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:A35A, A626, AA4B
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_122		proc	near
F000:A387			loc_624:					;  xref F000:A37D
F000:A387  33 DB				xor	bx,bx			; Zero register
F000:A389  8E C3				mov	es,bx
F000:A38B  BB 0118				mov	bx,118h
F000:A38E  80 FA 81				cmp	dl,81h
F000:A391  74 2D				je	short loc_626		; Jump if equal
F000:A393 њBB 0104				mov	bx,data_2e		; (0000:0104=40h)
F000:A396  72 28				jc	short loc_626		; Jump if carry Set
F000:A398  26: C4 1F				les	bx,dword ptr es:[bx]	; Load 32 bit ptr
F000:A39B  53					push	bx
F000:A39C  8C C3				mov	bx,es
F000:A39E  81 FB 4000				cmp	bx,4000h
F000:A3A2  5B					pop	bx
F000:A3A3  75 0C				jnz	short loc_625		; Jump if not zero
F000:A3A5  52					push	dx
F000:A3A6  83 E2 03				and	dx,3
F000:A3A9  C1 E2 05				shl	dx,5			; Shift w/zeros fill
F000:A3AC  03 DA				add	bx,dx
F000:A3AE  5A					pop	dx
F000:A3AF  EB 12				jmp	short loc_627		; (A3C3)
F000:A3B1			loc_625:					;  xref F000:A3A3
F000:A3B1  0E					push	cs
F000:A3B2  07					pop	es
F000:A3B3  BB EE80				mov	bx,0EE80h
F000:A3B6  80 FA 82				cmp	dl,82h
F000:A3B9  74 08				je	short loc_627		; Jump if equal
F000:A3BB њBB EEA0				mov	bx,offset data_282	; (F000:EEA0=32h)
F000:A3BE  EB 03				jmp	short loc_627		; (A3C3)
F000:A3C0			loc_626:					;  xref F000:A391, A396
F000:A3C0  26: C4 1F				les	bx,dword ptr es:[bx]	; Load 32 bit ptr
F000:A3C3			loc_627:					;  xref F000:A3AF, A3B9, A3BE
F000:A3C3  26: 80 7F 03 A0			cmp	byte ptr es:[bx+3],0A0h
F000:A3C8  75 13				jne	short loc_629		; Jump if not equal
F000:A3CA  56					push	si
F000:A3CB  51					push	cx
F000:A3CC  50					push	ax
F000:A3CD  B4 00				mov	ah,0
F000:A3CF  8B F3				mov	si,bx
F000:A3D1  B9 0010				mov	cx,10h

F000:A3D4			locloop_628:					;  xref F000:A3D8
F000:A3D4  26: AC				lods	byte ptr es:[si]	; String [si] to al
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 143

F000:A3D6  02 E0				add	ah,al
F000:A3D8  E2 FA				loop	locloop_628		; Loop if cx > 0

F000:A3DA  58					pop	ax
F000:A3DB  59					pop	cx
F000:A3DC  5E					pop	si
F000:A3DD			loc_629:					;  xref F000:A3C8
F000:A3DD  F8					clc				; Clear carry flag
F000:A3DE  C3					retn
				sub_122		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:9F4C, A047, A070, A124, A17F, A1FD, A282
				;                             A2CB, A2F5, A31B, A34E, A9F4
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_123		proc	near
F000:A3DF  50					push	ax
F000:A3E0  A0 0075				mov	al,hdsk_count		; (0040:0075=1)
F000:A3E3  8A E2				mov	ah,dl
F000:A3E5  80 E4 7F				and	ah,7Fh
F000:A3E8  38 E0				cmp	al,ah
F000:A3EA  58					pop	ax
F000:A3EB  76 02				jbe	short loc_630		; Jump if below or =
F000:A3ED  F8					clc				; Clear carry flag
F000:A3EE  C3					retn
F000:A3EF			loc_630:					;  xref F000:A3EB
F000:A3EF  B4 01				mov	ah,1
F000:A3F1  88 26 0074				mov	hdsk_status_1,ah	; (0040:0074=0)
F000:A3F5  F9					stc				; Set carry flag
F000:A3F6  C3					retn
				sub_123		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:A057, A083, A148, A19C, A21D, A2AA, A305
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_124		proc	near
F000:A3F7  52					push	dx
F000:A3F8  50					push	ax
F000:A3F9  8A 46 08				mov	al,[bp+8]
F000:A3FC  8B 56 02				mov	dx,[bp+2]
F000:A3FF  83 C2 01				add	dx,1
F000:A402  EE					out	dx,al			; port 1, DMA-1 bas&cnt ch 0
F000:A403  58					pop	ax
F000:A404  5A					pop	dx
F000:A405  C3					retn
				sub_124		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 144

				;                              SUBROUTINE
				;
				;         Called from:   F000:9F75, A2D0, A328, A434, A515
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_125		proc	near
F000:A406  FB					sti				; Enable interrupts
F000:A407  51					push	cx
F000:A408  52					push	dx
F000:A409  50					push	ax
F000:A40A  B9 0020				mov	cx,20h
F000:A40D  E8 03AC				call	sub_143			; (A7BC)
F000:A410  B4 80				mov	ah,80h

F000:A412			locloop_631:					;  xref F000:A41B
F000:A412  51					push	cx
F000:A413  33 C9				xor	cx,cx			; Zero register
F000:A415  E8 4324				call	sub_331			; (E73C)
F000:A418  59					pop	cx
F000:A419  73 0F				jnc	short loc_632		; Jump if carry=0
F000:A41B  E2 F5				loop	locloop_631		; Loop if cx > 0

F000:A41D  EC					in	al,dx			; port 0, DMA-1 bas&add ch 0
F000:A41E  A2 008C				mov	hdsk_status_2,al	; (0040:008C=50h)
F000:A421  58					pop	ax
F000:A422  B4 80				mov	ah,80h
F000:A424  88 26 0074				mov	hdsk_status_1,ah	; (0040:0074=0)
F000:A428  EB 01				jmp	short loc_633		; (A42B)
F000:A42A			loc_632:					;  xref F000:A419
F000:A42A  58					pop	ax
F000:A42B			loc_633:					;  xref F000:A428
F000:A42B  5A					pop	dx
F000:A42C  59					pop	cx
F000:A42D  C3					retn
				sub_125		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:A04C, A075, A12E, A184, A202, A287, A2FA
				;                             A320, A984, A9A2, A9AE
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_126		proc	near
F000:A42E  52					push	dx
F000:A42F  51					push	cx
F000:A430  50					push	ax
F000:A431  B9 0C00				mov	cx,0C00h

F000:A434			locloop_634:					;  xref F000:A454
F000:A434  E8 FFCF				call	sub_125			; (A406)
F000:A437  72 24				jc	short loc_636		; Jump if carry Set
F000:A439  E8 0359				call	sub_138			; (A795)
F000:A43C  51					push	cx
F000:A43D  B9 0004				mov	cx,4
F000:A440  E8 541B				call	sub_403			; (F85E)
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 145

F000:A443  59					pop	cx
F000:A444  E8 0375				call	sub_143			; (A7BC)
F000:A447  EC					in	al,dx			; port 0, DMA-1 bas&add ch 0
F000:A448  B4 AA				mov	ah,0AAh
F000:A44A  A8 40				test	al,40h			; '@'
F000:A44C  74 06				jz	short loc_635		; Jump if zero
F000:A44E  B4 40				mov	ah,40h			; '@'
F000:A450  A8 10				test	al,10h
F000:A452  75 10				jnz	short loc_637		; Jump if not zero
F000:A454			loc_635:					;  xref F000:A44C
F000:A454  E2 DE				loop	locloop_634		; Loop if cx > 0

F000:A456  A2 008C				mov	hdsk_status_2,al	; (0040:008C=50h)
F000:A459  88 26 0074				mov	hdsk_status_1,ah	; (0040:0074=0)
F000:A45D			loc_636:					;  xref F000:A437
F000:A45D  59					pop	cx
F000:A45E  8A C1				mov	al,cl
F000:A460  59					pop	cx
F000:A461  5A					pop	dx
F000:A462  F9					stc				; Set carry flag
F000:A463  C3					retn
F000:A464			loc_637:					;  xref F000:A452
F000:A464  58					pop	ax
F000:A465  59					pop	cx
F000:A466  5A					pop	dx
F000:A467  F8					clc				; Clear carry flag
F000:A468  C3					retn
				sub_126		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:A05F, A0D1, A14E, A1B0, A26D, A2B2, A30D
				;                             A312, A332, A999, A9DB
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_127		proc	near
F000:A469  53					push	bx
F000:A46A  F8					clc				; Clear carry flag
F000:A46B  B8 9000				mov	ax,9000h
F000:A46E  CD 15				int	15h			; General services, ah=func 90h
										;  device busy, al=type,
										;   es:bx=ptr of request block
F000:A470  FB					sti				; Enable interrupts
F000:A471  72 10				jc	short loc_639		; Jump if carry Set
F000:A473 њBB 008E				mov	bx,offset hdsk_complete	; (0040:008E=0)
F000:A476  BA 0010				mov	dx,10h
F000:A479			loc_638:					;  xref F000:A481
F000:A479  33 C9				xor	cx,cx			; Zero register
F000:A47B  E8 4334				call	sub_333			; (E7B2)
F000:A47E  73 0B				jnc	short loc_640		; Jump if carry=0
F000:A480  4A					dec	dx
F000:A481  75 F6				jnz	loc_638			; Jump if not zero
F000:A483			loc_639:					;  xref F000:A471
F000:A483  B4 80				mov	ah,80h
F000:A485  88 26 0074				mov	hdsk_status_1,ah	; (0040:0074=0)
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 146

F000:A489  EB 05				jmp	short loc_641		; (A490)
F000:A48B			loc_640:					;  xref F000:A47E
F000:A48B  C6 06 008E 00			mov	hdsk_complete,0		; (0040:008E=0)
F000:A490			loc_641:					;  xref F000:A489
F000:A490  5B					pop	bx
F000:A491  C3					retn
				sub_127		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:A0BA, A1DC, A22C, A254
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_128		proc	near
F000:A492  51					push	cx
F000:A493  52					push	dx
F000:A494  50					push	ax
F000:A495  B9 00C8				mov	cx,0C8h
F000:A498  E8 0321				call	sub_143			; (A7BC)
F000:A49B  B4 08				mov	ah,8
F000:A49D  E8 42D6				call	sub_332			; (E776)
F000:A4A0  73 0D				jnc	short loc_642		; Jump if carry=0
F000:A4A2  EC					in	al,dx			; port 0, DMA-1 bas&add ch 0
F000:A4A3  A2 008C				mov	hdsk_status_2,al	; (0040:008C=50h)
F000:A4A6  58					pop	ax
F000:A4A7  B4 80				mov	ah,80h
F000:A4A9  88 26 0074				mov	hdsk_status_1,ah	; (0040:0074=0)
F000:A4AD  EB 01				jmp	short loc_643		; (A4B0)
F000:A4AF			loc_642:					;  xref F000:A4A0
F000:A4AF  58					pop	ax
F000:A4B0			loc_643:					;  xref F000:A4AD
F000:A4B0  5A					pop	dx
F000:A4B1  59					pop	cx
F000:A4B2  C3					retn
				sub_128		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:A064, A0D6, A153, A1B5, A272, A2B7, A317
				;                             A99E, A9E0
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_129		proc	near
F000:A4B3  52					push	dx
F000:A4B4  50					push	ax
F000:A4B5  E8 0304				call	sub_143			; (A7BC)
F000:A4B8  EC					in	al,dx			; port 0, DMA-1 bas&add ch 0
F000:A4B9  A2 008C				mov	hdsk_status_2,al	; (0040:008C=50h)
F000:A4BC  B4 11				mov	ah,11h
F000:A4BE  A8 04				test	al,4
F000:A4C0  75 45				jnz	short loc_644		; Jump if not zero
F000:A4C2  B4 CC				mov	ah,0CCh
F000:A4C4  A8 20				test	al,20h			; ' '
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 147

F000:A4C6  75 3F				jnz	short loc_644		; Jump if not zero
F000:A4C8  B4 AA				mov	ah,0AAh
F000:A4CA  A8 40				test	al,40h			; '@'
F000:A4CC  74 39				jz	short loc_644		; Jump if zero
F000:A4CE  B4 40				mov	ah,40h			; '@'
F000:A4D0  A8 10				test	al,10h
F000:A4D2  74 33				jz	short loc_644		; Jump if zero
F000:A4D4  B4 00				mov	ah,0
F000:A4D6  A8 01				test	al,1
F000:A4D8  74 2D				jz	short loc_644		; Jump if zero
F000:A4DA  E8 02E6				call	sub_144			; (A7C3)
F000:A4DD  EC					in	al,dx			; port 0, DMA-1 bas&add ch 0
F000:A4DE  A2 008D				mov	hdsk_error,al		; (0040:008D=1)
F000:A4E1  B4 02				mov	ah,2
F000:A4E3  A8 01				test	al,1
F000:A4E5  75 20				jnz	short loc_644		; Jump if not zero
F000:A4E7  B4 01				mov	ah,1
F000:A4E9  A8 04				test	al,4
F000:A4EB  75 1A				jnz	short loc_644		; Jump if not zero
F000:A4ED  B4 04				mov	ah,4
F000:A4EF  A8 10				test	al,10h
F000:A4F1  75 14				jnz	short loc_644		; Jump if not zero
F000:A4F3  B4 10				mov	ah,10h
F000:A4F5  A8 40				test	al,40h			; '@'
F000:A4F7  75 0E				jnz	short loc_644		; Jump if not zero
F000:A4F9  B4 40				mov	ah,40h			; '@'
F000:A4FB  A8 02				test	al,2
F000:A4FD  75 08				jnz	short loc_644		; Jump if not zero
F000:A4FF  B4 0A				mov	ah,0Ah
F000:A501  A8 80				test	al,80h
F000:A503  75 02				jnz	short loc_644		; Jump if not zero
F000:A505  B4 BB				mov	ah,0BBh
F000:A507			loc_644:					;  xref F000:A4C0, A4C6, A4CC, A4D2
										;            A4D8, A4E5, A4EB, A4F1
										;            A4F7, A4FD, A503
F000:A507  88 26 0074				mov	hdsk_status_1,ah	; (0040:0074=0)
F000:A50B  5A					pop	dx
F000:A50C  8A C2				mov	al,dl
F000:A50E  5A					pop	dx
F000:A50F  0A E4				or	ah,ah			; Zero ?
F000:A511  74 01				jz	short loc_ret_645	; Jump if zero
F000:A513  F9					stc				; Set carry flag

F000:A514			loc_ret_645:					;  xref F000:A511
F000:A514  C3					retn
				sub_129		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:A05C, A0B7, A14B, A1A8, A229, A2AF, A30A
				;                             A32F, A996
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_130		proc	near
F000:A515  E8 FEEE				call	sub_125			; (A406)
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 148

F000:A518  FA					cli				; Disable interrupts
F000:A519  50					push	ax
F000:A51A  C6 06 008E 00			mov	hdsk_complete,0		; (0040:008E=0)
F000:A51F  E4 A1				in	al,0A1h			; port 0A1h, 8259-2 int IMR
F000:A521  E3 00				jcxz	short $+2		; delay for I/O
F000:A523  E3 00				jcxz	short $+2		; delay for I/O
F000:A525  8A 66 05				mov	ah,[bp+5]
F000:A528  F6 D4				not	ah
F000:A52A  22 C4				and	al,ah
F000:A52C  E6 A1				out	0A1h,al			; port 0A1h, 8259-2 int comands
F000:A52E  E4 21				in	al,21h			; port 21h, 8259-1 int IMR
F000:A530  E3 00				jcxz	short $+2		; delay for I/O
F000:A532  E3 00				jcxz	short $+2		; delay for I/O
F000:A534  24 FB				and	al,0FBh
F000:A536  E6 21				out	21h,al			; port 21h, 8259-1 int comands
F000:A538  E3 00				jcxz	short $+2		; delay for I/O
F000:A53A  E3 00				jcxz	short $+2		; delay for I/O
F000:A53C  58					pop	ax
F000:A53D  52					push	dx
F000:A53E  8B 56 02				mov	dx,[bp+2]
F000:A541  83 C2 07				add	dx,7
F000:A544  88 46 0E				mov	[bp+0Eh],al
F000:A547  EE					out	dx,al			; port 7, DMA-1 bas&cnt ch 3
F000:A548  5A					pop	dx
F000:A549  FB					sti				; Enable interrupts
F000:A54A  C3					retn
				sub_130		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:A024, A03C, A15C, A170
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_131		proc	near
F000:A54B  52					push	dx
F000:A54C  50					push	ax
F000:A54D  8B C3				mov	ax,bx
F000:A54F  C1 E8 04				shr	ax,4			; Shift w/zeros fill
F000:A552  8C C2				mov	dx,es
F000:A554  03 C2				add	ax,dx
F000:A556  8E C0				mov	es,ax
F000:A558  83 E3 0F				and	bx,0Fh
F000:A55B  33 C0				xor	ax,ax			; Zero register
F000:A55D  BA 0001				mov	dx,1
F000:A560  2B C3				sub	ax,bx
F000:A562  83 DA 00				sbb	dx,0
F000:A565  F7 76 1E				div	word ptr [bp+1Eh]	; ax,dxrem=dx:ax/data
F000:A568  8A D0				mov	dl,al
F000:A56A  58					pop	ax
F000:A56B  38 C2				cmp	dl,al
F000:A56D  5A					pop	dx
F000:A56E  73 06				jnc	short loc_ret_646	; Jump if carry=0
F000:A570  B4 09				mov	ah,9
F000:A572  88 26 0074				mov	hdsk_status_1,ah	; (0040:0074=0)

           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 149

F000:A576			loc_ret_646:					;  xref F000:A56E
F000:A576  C3					retn
				sub_131		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:A051, A080, A133, A18D, A20B, A28C, A2FF
				;                             A325
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_132		proc	near
F000:A577  52					push	dx
F000:A578  50					push	ax
F000:A579  A0 0076				mov	al,hdsk_head_ctrl	; (0040:0076=8)
F000:A57C  24 08				and	al,8
F000:A57E  8B 56 02				mov	dx,[bp+2]
F000:A581  81 C2 0206				add	dx,206h
F000:A585  EE					out	dx,al			; port 206h ??i/o non-standard
F000:A586  58					pop	ax
F000:A587  5A					pop	dx
F000:A588  C3					retn
				sub_132		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:A054, A199, A21A
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_133		proc	near
F000:A589  50					push	ax
F000:A58A  52					push	dx
F000:A58B  E8 0212				call	sub_139			; (A7A0)
F000:A58E  8A 46 09				mov	al,[bp+9]
F000:A591  EE					out	dx,al			; port 0, DMA-1 bas&add ch 0
F000:A592  E3 00				jcxz	short $+2		; delay for I/O
F000:A594  E3 00				jcxz	short $+2		; delay for I/O
F000:A596  E8 0215				call	sub_141			; (A7AE)
F000:A599  8A 46 0A				mov	al,[bp+0Ah]
F000:A59C  EE					out	dx,al			; port 0, DMA-1 bas&add ch 0
F000:A59D  E3 00				jcxz	short $+2		; delay for I/O
F000:A59F  E3 00				jcxz	short $+2		; delay for I/O
F000:A5A1  E8 0203				call	sub_140			; (A7A7)
F000:A5A4  8A 46 0B				mov	al,[bp+0Bh]
F000:A5A7  EE					out	dx,al			; port 0, DMA-1 bas&add ch 0
F000:A5A8  E3 00				jcxz	short $+2		; delay for I/O
F000:A5AA  E3 00				jcxz	short $+2		; delay for I/O
F000:A5AC  E8 0206				call	sub_142			; (A7B5)
F000:A5AF  8A 46 0C				mov	al,[bp+0Ch]
F000:A5B2  EE					out	dx,al			; port 0, DMA-1 bas&add ch 0
F000:A5B3  E3 00				jcxz	short $+2		; delay for I/O
F000:A5B5  E3 00				jcxz	short $+2		; delay for I/O
F000:A5B7  E8 01DB				call	sub_138			; (A795)
F000:A5BA  5A					pop	dx
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 150

F000:A5BB  58					pop	ax
F000:A5BC  C3					retn
				sub_133		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:A1A1, A222
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_134		proc	near
F000:A5BD  56					push	si
F000:A5BE  52					push	dx
F000:A5BF  51					push	cx
F000:A5C0  50					push	ax
F000:A5C1  B4 00				mov	ah,0
F000:A5C3  C6 46 07 00				mov	byte ptr [bp+7],0
F000:A5C7  8A 6E 09				mov	ch,[bp+9]
F000:A5CA  88 6E 06				mov	[bp+6],ch
F000:A5CD  BB 0100				mov	bx,100h
F000:A5D0  A8 02				test	al,2
F000:A5D2  75 1D				jnz	short loc_647		; Jump if not zero
F000:A5D4  8A 4E 04				mov	cl,[bp+4]
F000:A5D7  0A C9				or	cl,cl			; Zero ?
F000:A5D9  74 16				jz	short loc_647		; Jump if zero
F000:A5DB  8A C5				mov	al,ch
F000:A5DD  B4 00				mov	ah,0
F000:A5DF  F6 F1				div	cl			; al, ah rem = ax/reg
F000:A5E1  88 46 06				mov	[bp+6],al
F000:A5E4  88 66 07				mov	[bp+7],ah
F000:A5E7  8B C3				mov	ax,bx
F000:A5E9  B5 00				mov	ch,0
F000:A5EB  F7 E1				mul	cx			; dx:ax = reg * ax
F000:A5ED  8B D8				mov	bx,ax
F000:A5EF  B4 01				mov	ah,1
F000:A5F1			loc_647:					;  xref F000:A5D2, A5D9
F000:A5F1  80 FC 01				cmp	ah,1
F000:A5F4  F5					cmc				; Complement carry
F000:A5F5  58					pop	ax
F000:A5F6  59					pop	cx
F000:A5F7  5A					pop	dx
F000:A5F8  5E					pop	si
F000:A5F9  C3					retn
				sub_134		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:A1AB, A231
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_135		proc	near
F000:A5FA  52					push	dx
F000:A5FB  51					push	cx
F000:A5FC  50					push	ax
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 151

F000:A5FD  8A 4E 07				mov	cl,[bp+7]
F000:A600  B5 00				mov	ch,0
F000:A602  80 7E 06 00				cmp	byte ptr [bp+6],0
F000:A606  74 05				je	short loc_648		; Jump if equal
F000:A608  FE 4E 06				dec	byte ptr [bp+6]
F000:A60B  79 0C				jns	short loc_649		; Jump if not sign
F000:A60D			loc_648:					;  xref F000:A606
F000:A60D  E3 0F				jcxz	short loc_651		; Jump if cx=0
F000:A60F  B8 0100				mov	ax,100h
F000:A612  88 46 07				mov	[bp+7],al
F000:A615  F7 E1				mul	cx			; dx:ax = reg * ax
F000:A617  8B D8				mov	bx,ax
F000:A619			loc_649:					;  xref F000:A60B
F000:A619  F8					clc				; Clear carry flag
F000:A61A			loc_650:					;  xref F000:A61F
F000:A61A њ58					pop	ax
F000:A61B  59					pop	cx
F000:A61C  5A					pop	dx
F000:A61D  C3					retn
F000:A61E			loc_651:					;  xref F000:A60D
F000:A61E  F9					stc				; Set carry flag
F000:A61F  EB F9				jmp	short loc_650		; (A61A)
				sub_135		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:9ED1, 9FAE, 9FB9, 9FE4, 9FEF
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_136		proc	near
F000:A621  06					push	es
F000:A622  52					push	dx
F000:A623  51					push	cx
F000:A624  53					push	bx
F000:A625  50					push	ax
F000:A626  E8 FD5E				call	sub_122			; (A387)
F000:A629  9C					pushf				; Push flags
F000:A62A  83 FF 0A				cmp	di,0Ah
F000:A62D  74 05				je	short loc_652		; Jump if equal
F000:A62F  83 FF 12				cmp	di,12h
F000:A632  75 04				jne	short loc_653		; Jump if not equal
F000:A634			loc_652:					;  xref F000:A62D
F000:A634  26: 8A 47 0E				mov	al,es:[bx+0Eh]
F000:A638			loc_653:					;  xref F000:A632
F000:A638  88 46 09				mov	[bp+9],al
F000:A63B  26: 8A 67 08				mov	ah,es:[bx+8]
F000:A63F  A0 0076				mov	al,hdsk_head_ctrl	; (0040:0076=8)
F000:A642  24 C0				and	al,0C0h
F000:A644  0A C4				or	al,ah
F000:A646  A2 0076				mov	hdsk_head_ctrl,al	; (0040:0076=8)
F000:A649  26: 8B 47 05				mov	ax,es:[bx+5]
F000:A64D  C1 E8 02				shr	ax,2			; Shift w/zeros fill
F000:A650  88 46 08				mov	[bp+8],al
F000:A653  8A C1				mov	al,cl
F000:A655  24 3F				and	al,3Fh			; '?'
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 152

F000:A657  88 46 0A				mov	[bp+0Ah],al
F000:A65A  88 6E 0B				mov	[bp+0Bh],ch
F000:A65D  C0 E9 06				shr	cl,6			; Shift w/zeros fill
F000:A660  8A E6				mov	ah,dh
F000:A662  C0 EC 04				shr	ah,4			; Shift w/zeros fill
F000:A665  80 E4 0C				and	ah,0Ch
F000:A668  0A CC				or	cl,ah
F000:A66A  88 4E 0C				mov	[bp+0Ch],cl
F000:A66D  06					push	es
F000:A66E  53					push	bx
F000:A66F  E8 0177				call	sub_147			; (A7E9)
F000:A672  26: 8A 47 1A				mov	al,es:[bx+1Ah]
F000:A676  24 80				and	al,80h
F000:A678  88 46 0F				mov	[bp+0Fh],al
F000:A67B  26: 8A 67 14				mov	ah,es:[bx+14h]
F000:A67F  5B					pop	bx
F000:A680  07					pop	es
F000:A681  83 FF 12				cmp	di,12h
F000:A684  75 06				jne	short loc_654		; Jump if not equal
F000:A686  26: 8A 77 02				mov	dh,es:[bx+2]
F000:A68A  FE CE				dec	dh
F000:A68C			loc_654:					;  xref F000:A684
F000:A68C  80 E6 0F				and	dh,0Fh
F000:A68F  0A E6				or	ah,dh
F000:A691  88 66 0D				mov	[bp+0Dh],ah
F000:A694  06					push	es
F000:A695  53					push	bx
F000:A696  E8 0150				call	sub_147			; (A7E9)
F000:A699  26: 8A 47 17				mov	al,es:[bx+17h]
F000:A69D  88 46 04				mov	[bp+4],al
F000:A6A0  26: 8A 4F 16				mov	cl,es:[bx+16h]
F000:A6A4  80 E9 08				sub	cl,8
F000:A6A7  B0 01				mov	al,1
F000:A6A9  D2 E0				shl	al,cl			; Shift w/zeros fill
F000:A6AB  88 46 05				mov	[bp+5],al
F000:A6AE  26: 8B 47 10				mov	ax,es:[bx+10h]
F000:A6B2  89 46 02				mov	[bp+2],ax
F000:A6B5  5B					pop	bx
F000:A6B6  07					pop	es
F000:A6B7  9D					popf				; Pop flags
F000:A6B8  74 03				jz	short loc_655		; Jump if zero
F000:A6BA  E9 00B7				jmp	loc_661			; (A774)
F000:A6BD			loc_655:					;  xref F000:A6B8
F000:A6BD  83 FF 0A				cmp	di,0Ah
F000:A6C0  74 16				je	short loc_656		; Jump if equal
F000:A6C2  83 FF 12				cmp	di,12h
F000:A6C5  75 18				jne	short loc_657		; Jump if not equal
F000:A6C7  26: 8A 47 0B				mov	al,es:[bx+0Bh]
F000:A6CB  FE C8				dec	al
F000:A6CD  8A 66 0D				mov	ah,[bp+0Dh]
F000:A6D0  80 E4 F0				and	ah,0F0h
F000:A6D3  0A C4				or	al,ah
F000:A6D5  88 46 0D				mov	[bp+0Dh],al
F000:A6D8			loc_656:					;  xref F000:A6C0
F000:A6D8  26: 8A 4F 04				mov	cl,es:[bx+4]
F000:A6DC  88 4E 09				mov	[bp+9],cl
F000:A6DF			loc_657:					;  xref F000:A6C5
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 153

F000:A6DF  8B 56 1C				mov	dx,[bp+1Ch]
F000:A6E2  86 D6				xchg	dl,dh
F000:A6E4  C0 EE 06				shr	dh,6			; Shift w/zeros fill
F000:A6E7  83 FF 04				cmp	di,4
F000:A6EA  74 27				je	short loc_658		; Jump if equal
F000:A6EC  83 FF 06				cmp	di,6
F000:A6EF  74 22				je	short loc_658		; Jump if equal
F000:A6F1  83 FF 08				cmp	di,8
F000:A6F4  74 1D				je	short loc_658		; Jump if equal
F000:A6F6  83 FF 18				cmp	di,18h
F000:A6F9  74 18				je	short loc_658		; Jump if equal
F000:A6FB  83 FF 14				cmp	di,14h
F000:A6FE  74 13				je	short loc_658		; Jump if equal
F000:A700  83 FF 16				cmp	di,16h
F000:A703  74 0E				je	short loc_658		; Jump if equal
F000:A705  83 FF 0A				cmp	di,0Ah
F000:A708  74 09				je	short loc_658		; Jump if equal
F000:A70A  83 FF 32				cmp	di,32h
F000:A70D  75 65				jne	short loc_661		; Jump if not equal
F000:A70F  26: 8B 57 0C				mov	dx,es:[bx+0Ch]
F000:A713			loc_658:					;  xref F000:A6EA, A6EF, A6F4, A6F9
										;            A6FE, A703, A708
F000:A713  8A 46 1B				mov	al,[bp+1Bh]
F000:A716  26: F6 67 0E				mul	byte ptr es:[bx+0Eh]	; ax = data * al
F000:A71A  8B C8				mov	cx,ax
F000:A71C  26: 8A 47 02				mov	al,es:[bx+2]
F000:A720  26: F6 67 0E				mul	byte ptr es:[bx+0Eh]	; ax = data * al
F000:A724  F7 E2				mul	dx			; dx:ax = reg * ax
F000:A726  03 C1				add	ax,cx
F000:A728  83 D2 00				adc	dx,0
F000:A72B  8A 4E 1C				mov	cl,[bp+1Ch]
F000:A72E  83 E1 3F				and	cx,3Fh
F000:A731  49					dec	cx
F000:A732  83 FF 0A				cmp	di,0Ah
F000:A735  74 05				je	short loc_659		; Jump if equal
F000:A737  03 C1				add	ax,cx
F000:A739  83 D2 00				adc	dx,0
F000:A73C			loc_659:					;  xref F000:A735
F000:A73C  88 46 0A				mov	[bp+0Ah],al
F000:A73F  88 66 0B				mov	[bp+0Bh],ah
F000:A742  88 56 0C				mov	[bp+0Ch],dl
F000:A745  1E					push	ds
F000:A746  57					push	di
F000:A747  06					push	es
F000:A748  53					push	bx
F000:A749  52					push	dx
F000:A74A  8A 56 1A				mov	dl,[bp+1Ah]
F000:A74D  E8 0099				call	sub_147			; (A7E9)
F000:A750  5A					pop	dx
F000:A751  06					push	es
F000:A752  1F					pop	ds
F000:A753  8B FB				mov	di,bx
F000:A755  5B					pop	bx
F000:A756  07					pop	es
F000:A757  F6 45 1A 08				test	byte ptr [di+1Ah],8
F000:A75B  74 0C				jz	short loc_660		; Jump if zero
F000:A75D  E8 001A				call	sub_137			; (A77A)
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 154

F000:A760  88 66 0A				mov	[bp+0Ah],ah
F000:A763  88 4E 0B				mov	[bp+0Bh],cl
F000:A766  88 6E 0C				mov	[bp+0Ch],ch
F000:A769			loc_660:					;  xref F000:A75B
F000:A769  80 E6 0F				and	dh,0Fh
F000:A76C  0A 75 14				or	dh,[di+14h]
F000:A76F  88 76 0D				mov	[bp+0Dh],dh
F000:A772  5F					pop	di
F000:A773  1F					pop	ds
F000:A774			loc_661:					;  xref F000:A6BA, A70D
F000:A774  58					pop	ax
F000:A775  5B					pop	bx
F000:A776  59					pop	cx
F000:A777  5A					pop	dx
F000:A778  07					pop	es
F000:A779  C3					retn
				sub_136		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:A75D
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_137		proc	near
F000:A77A  50					push	ax
F000:A77B  26: 8A 47 04				mov	al,es:[bx+4]
F000:A77F  26: F6 67 0B				mul	byte ptr es:[bx+0Bh]	; ax = data * al
F000:A783  8B C8				mov	cx,ax
F000:A785  58					pop	ax
F000:A786  F7 F1				div	cx			; ax,dx rem=dx:ax/reg
F000:A788  8B C8				mov	cx,ax
F000:A78A  8B C2				mov	ax,dx
F000:A78C  26: F6 77 04				div	byte ptr es:[bx+4]	; al,ah rem = ax/data
F000:A790  FE C4				inc	ah
F000:A792  8A F0				mov	dh,al
F000:A794  C3					retn
				sub_137		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:A09C, A143, A2A7, A2D5, A302, A439, A5B7
				;                             A927, A991, A9A7, A9CB
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_138		proc	near
F000:A795  8B 56 02				mov	dx,[bp+2]
F000:A798  83 C2 06				add	dx,6
F000:A79B  8A 46 0D				mov	al,[bp+0Dh]
F000:A79E  EE					out	dx,al			; port 6, DMA-1 bas&add ch 3
F000:A79F  C3					retn
				sub_138		endp


           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 155

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:A089, A138, A58B, A989, A9C3
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_139		proc	near
F000:A7A0  8B 56 02				mov	dx,[bp+2]
F000:A7A3  83 C2 02				add	dx,2
F000:A7A6  C3					retn
				sub_139		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:A0A6, A291, A5A1
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_140		proc	near
F000:A7A7  8B 56 02				mov	dx,[bp+2]
F000:A7AA  83 C2 04				add	dx,4
F000:A7AD  C3					retn
				sub_140		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:A094, A596
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_141		proc	near
F000:A7AE  8B 56 02				mov	dx,[bp+2]
F000:A7B1  83 C2 03				add	dx,3
F000:A7B4  C3					retn
				sub_141		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:A0B1, A29C, A5AC
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_142		proc	near
F000:A7B5  8B 56 02				mov	dx,[bp+2]
F000:A7B8  83 C2 05				add	dx,5
F000:A7BB  C3					retn
				sub_142		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:A2D8, A40D, A444, A498, A4B5
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 156


				sub_143		proc	near
F000:A7BC  8B 56 02				mov	dx,[bp+2]
F000:A7BF  83 C2 07				add	dx,7
F000:A7C2  C3					retn
				sub_143		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:9F7A, A337, A4DA
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_144		proc	near
F000:A7C3  8B 56 02				mov	dx,[bp+2]
F000:A7C6  83 C2 01				add	dx,1
F000:A7C9  C3					retn
				sub_144		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:9F66
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_145		proc	near
F000:A7CA  8B 56 02				mov	dx,[bp+2]
F000:A7CD  81 C2 0206				add	dx,206h
F000:A7D1  C3					retn
				sub_145		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:A875
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_146		proc	near
F000:A7D2  B0 04				mov	al,4
F000:A7D4  81 C2 0206				add	dx,206h
F000:A7D8  EE					out	dx,al			; port 206h ??i/o non-standard
F000:A7D9  B9 0100				mov	cx,100h
F000:A7DC  E8 507F				call	sub_403			; (F85E)
F000:A7DF  B0 00				mov	al,0
F000:A7E1  EE					out	dx,al			; port 206h ??i/o non-standard
F000:A7E2  B9 8000				mov	cx,8000h
F000:A7E5  E8 5076				call	sub_403			; (F85E)
F000:A7E8  C3					retn
				sub_146		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
           MBIOS.LST       BIOS ROM Analysis			Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 157

				;         Called from:   F000:9FC0, 9FF6, A66F, A696, A74D, AA94
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_147		proc	near
F000:A7E9  50					push	ax
F000:A7EA  33 DB				xor	bx,bx			; Zero register
F000:A7EC  8E C3				mov	es,bx
F000:A7EE њBB 0104				mov	bx,data_2e		; (0000:0104=40h)
F000:A7F1  26: C4 1F				les	bx,dword ptr es:[bx]	; Load 32 bit ptr
F000:A7F4  8C C0				mov	ax,es
F000:A7F6  3D 4000				cmp	ax,4000h
F000:A7F9  74 0A				je	short loc_662		; Jump if equal
F000:A7FB  3D F000				cmp	ax,0F000h
F000:A7FE  74 05				je	short loc_662		; Jump if equal
F000:A800  BB EE40				mov	bx,0EE40h
F000:A803  0E					push	cs
F000:A804  07					pop	es
F000:A805			loc_662:					;  xref F000:A7F9, A7FE
F000:A805  52					push	dx
F000:A806  83 E2 03				and	dx,3
F000:A809  C1 E2 05				shl	dx,5			; Shift w/zeros fill
F000:A80C  03 DA				add	bx,dx
F000:A80E  5A					pop	dx
F000:A80F  58					pop	ax
F000:A810  C3					retn
				sub_147		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:A960
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_148		proc	near
F000:A811  51					push	cx
F000:A812  50					push	ax
F000:A813  9C					pushf				; Push flags
F000:A814  FB					sti				; Enable interrupts
F000:A815  8B CE				mov	cx,si
F000:A817  B4 00				mov	ah,0
F000:A819  E3 1A				jcxz	short loc_666		; Jump if cx=0

F000:A81B			locloop_663:					;  xref F000:A831
F000:A81B  0B FF				or	di,di			; Zero ?
F000:A81D  74 05				jz	short loc_664		; Jump if zero
F000:A81F  E8 01C2				call	sub_157			; (A9E4)
F000:A822  72 0F				jc	short loc_665		; Jump if carry Set
F000:A824			loc_664:					;  xref F000:A81D
F000:A824  E8 0016				call	sub_149			; (A83D)
F000:A827  73 0C				jnc	short loc_666		; Jump if carry=0
F000:A829  51					push	cx
F000:A82A  B9 4000				mov	cx,4000h
F000:A82D  E8 502E				call	sub_403			; (F85E)
F000:A830  59					pop	cx
F000:A831  E2 E8				loop	locloop_663		; Loop if cx > 0

           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 158

F000:A833			loc_665:					;  xref F000:A822
F000:A833  B4 01				mov	ah,1
F000:A835			loc_666:					;  xref F000:A819, A827
F000:A835  9D					popf				; Pop flags
F000:A836  80 FC 01				cmp	ah,1
F000:A839  F5					cmc				; Complement carry
F000:A83A  58					pop	ax
F000:A83B  59					pop	cx
F000:A83C  C3					retn
				sub_148		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:A824
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_149		proc	near
F000:A83D  52					push	dx
F000:A83E  50					push	ax
F000:A83F  8A E2				mov	ah,dl
F000:A841  8B D3				mov	dx,bx
F000:A843  83 C2 07				add	dx,7
F000:A846  EC					in	al,dx			; port 7, DMA-1 bas&cnt ch 3
F000:A847  A8 80				test	al,80h
F000:A849  75 23				jnz	short loc_668		; Jump if not zero
F000:A84B  B0 A0				mov	al,0A0h
F000:A84D  F6 C4 01				test	ah,1
F000:A850  74 02				jz	short loc_667		; Jump if zero
F000:A852  B0 B0				mov	al,0B0h
F000:A854			loc_667:					;  xref F000:A850
F000:A854  8B D3				mov	dx,bx
F000:A856  83 C2 06				add	dx,6
F000:A859  EE					out	dx,al			; port 6, DMA-1 bas&add ch 3
F000:A85A  8B D3				mov	dx,bx
F000:A85C  83 C2 07				add	dx,7
F000:A85F  51					push	cx
F000:A860  B9 0004				mov	cx,4
F000:A863  E8 4FF8				call	sub_403			; (F85E)
F000:A866  59					pop	cx
F000:A867  EC					in	al,dx			; port 7, DMA-1 bas&cnt ch 3
F000:A868  24 E5				and	al,0E5h
F000:A86A  3C 40				cmp	al,40h			; '@'
F000:A86C  74 01				je	short loc_669		; Jump if equal
F000:A86E			loc_668:					;  xref F000:A849
F000:A86E  F9					stc				; Set carry flag
F000:A86F			loc_669:					;  xref F000:A86C
F000:A86F  58					pop	ax
F000:A870  5A					pop	dx
F000:A871  C3					retn
				sub_149		endp

							                        ;* No entry point to code
F000:A872  52					push	dx
F000:A873  8B D7				mov	dx,di
F000:A875  E8 FF5A				call	sub_146			; (A7D2)
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 159

F000:A878  5A					pop	dx
F000:A879  B4 00				mov	ah,0
F000:A87B  E8 0034				call	sub_150			; (A8B2)
F000:A87E  72 18				jc	short loc_670		; Jump if carry Set
F000:A880  26: 8B 47 02				mov	ax,es:[bx+2]
F000:A884  26: 8B 4F 06				mov	cx,es:[bx+6]
F000:A888  26: 8B 5F 0C				mov	bx,es:[bx+0Ch]
F000:A88C  0A EF				or	ch,bh
F000:A88E  75 08				jnz	short loc_670		; Jump if not zero
F000:A890  8A F1				mov	dh,cl
F000:A892  8B C8				mov	cx,ax
F000:A894  B0 2F				mov	al,2Fh			; '/'
F000:A896  EB 02				jmp	short loc_671		; (A89A)
F000:A898			loc_670:					;  xref F000:A87E, A88E
F000:A898  B0 00				mov	al,0
F000:A89A			loc_671:					;  xref F000:A896
F000:A89A  52					push	dx
F000:A89B  51					push	cx
F000:A89C  53					push	bx
F000:A89D  50					push	ax
F000:A89E  9C					pushf				; Push flags
F000:A89F  FA					cli				; Disable interrupts
F000:A8A0  8B D7				mov	dx,di
F000:A8A2  9D					popf				; Pop flags
F000:A8A3  58					pop	ax
F000:A8A4  5B					pop	bx
F000:A8A5  59					pop	cx
F000:A8A6  5A					pop	dx
F000:A8A7  C3					retn
F000:A8A8  A914			data_182	dw	offset sub_151		; Data table (indexed access) (A914)
										;  xref F000:A900
F000:A8AA  A9A2			data_183	dw	offset sub_155		; (A9A2)
										;  xref F000:A900
F000:A8AC  A982			data_184	dw	offset sub_153		; (A982)
										;  xref F000:A900
F000:A8AE  A97E			data_185	dw	offset sub_152		; (A97E)
										;  xref F000:A900
F000:A8B0  A9AD			data_186	dw	offset sub_156		; (A9AD)
										;  xref F000:A900

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:A87B
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_150		proc	near
F000:A8B2  FB					sti				; Enable interrupts
F000:A8B3  FC					cld				; Clear direction
F000:A8B4  50					push	ax
F000:A8B5  51					push	cx
F000:A8B6  52					push	dx
F000:A8B7  53					push	bx
F000:A8B8  56					push	si
F000:A8B9  57					push	di
F000:A8BA  1E					push	ds
F000:A8BB  06					push	es
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 160

F000:A8BC  83 EC 0E				sub	sp,0Eh
F000:A8BF  55					push	bp
F000:A8C0 њBD 0040				mov	bp,seg seg_b
F000:A8C3  8E DD				mov	ds,bp
F000:A8C5  8B EC				mov	bp,sp
F000:A8C7  89 7E 02				mov	[bp+2],di
F000:A8CA  2E: 8A 0E 827A			mov	cl,cs:data_125		; (F000:827A=0Eh)
F000:A8CF  2E: 3B 3E 8278			cmp	di,cs:data_124		; (F000:8278=1F0h)
F000:A8D4  74 05				je	short loc_672		; Jump if equal
F000:A8D6  2E: 8A 0E 827E			mov	cl,cs:data_127		; (F000:827E=0Fh)
F000:A8DB			loc_672:					;  xref F000:A8D4
F000:A8DB  80 E9 08				sub	cl,8
F000:A8DE  B5 01				mov	ch,1
F000:A8E0  D2 E5				shl	ch,cl			; Shift w/zeros fill
F000:A8E2  88 6E 05				mov	[bp+5],ch
F000:A8E5  B1 A0				mov	cl,0A0h
F000:A8E7  F6 C2 01				test	dl,1
F000:A8EA  74 02				jz	short loc_673		; Jump if zero
F000:A8EC  B1 B0				mov	cl,0B0h
F000:A8EE			loc_673:					;  xref F000:A8EA
F000:A8EE  88 4E 0D				mov	[bp+0Dh],cl
F000:A8F1  80 FC 05				cmp	ah,5
F000:A8F4  72 03				jb	short loc_674		; Jump if below
F000:A8F6  F9					stc				; Set carry flag
F000:A8F7  EB 0C				jmp	short loc_675		; (A905)
F000:A8F9			loc_674:					;  xref F000:A8F4
F000:A8F9  8B F0				mov	si,ax
F000:A8FB  C1 EE 08				shr	si,8			; Shift w/zeros fill
F000:A8FE  D1 E6				shl	si,1			; Shift w/zeros fill
F000:A900  2E: FF 94 A8A8			call	word ptr cs:data_182[si]	;*(F000:A8A8=0A914h) 5 entries
F000:A905			loc_675:					;  xref F000:A8F7
F000:A905  9F					lahf				; Load ah from flags
F000:A906  5D					pop	bp
F000:A907  83 C4 0E				add	sp,0Eh
F000:A90A  9E					sahf				; Store ah into flags
F000:A90B  07					pop	es
F000:A90C  1F					pop	ds
F000:A90D  5F					pop	di
F000:A90E  5E					pop	si
F000:A90F  5B					pop	bx
F000:A910  5A					pop	dx
F000:A911  59					pop	cx
F000:A912  58					pop	ax
F000:A913  C3					retn
				sub_150		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:A8A8, A900
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_151		proc	near
F000:A914  8B C3				mov	ax,bx
F000:A916  C1 E8 04				shr	ax,4			; Shift w/zeros fill
F000:A919  8C C1				mov	cx,es
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 161

F000:A91B  03 C1				add	ax,cx
F000:A91D  8E C0				mov	es,ax
F000:A91F  83 E3 0F				and	bx,0Fh
F000:A922  8B FB				mov	di,bx
F000:A924  8C C6				mov	si,es
F000:A926  52					push	dx
F000:A927  E8 FE6B				call	sub_138			; (A795)
F000:A92A  B0 00				mov	al,0
F000:A92C  8B 56 02				mov	dx,[bp+2]
F000:A92F  83 C2 04				add	dx,4
F000:A932  EE					out	dx,al			; port 4, DMA-1 bas&add ch 2
F000:A933  B9 1000				mov	cx,1000h
F000:A936  E8 4F25				call	sub_403			; (F85E)
F000:A939  8B 56 02				mov	dx,[bp+2]
F000:A93C  83 C2 07				add	dx,7
F000:A93F  EC					in	al,dx			; port 7, DMA-1 bas&cnt ch 3
F000:A940  5A					pop	dx
F000:A941  3C FF				cmp	al,0FFh
F000:A943  74 37				je	short loc_676		; Jump if equal
F000:A945  24 FD				and	al,0FDh
F000:A947  3C 00				cmp	al,0
F000:A949  74 31				je	short loc_676		; Jump if equal
F000:A94B  52					push	dx
F000:A94C  8B 56 02				mov	dx,[bp+2]
F000:A94F  83 C2 07				add	dx,7
F000:A952  B0 EC				mov	al,0ECh
F000:A954  EE					out	dx,al			; port 7, DMA-1 bas&cnt ch 3
F000:A955  5A					pop	dx
F000:A956  56					push	si
F000:A957  57					push	di
F000:A958  8B 5E 02				mov	bx,[bp+2]
F000:A95B  BE 0014				mov	si,14h
F000:A95E  33 FF				xor	di,di			; Zero register
F000:A960  E8 FEAE				call	sub_148			; (A811)
F000:A963  5F					pop	di
F000:A964  5E					pop	si
F000:A965  72 15				jc	short loc_676		; Jump if carry Set
F000:A967  8E C6				mov	es,si
F000:A969  B9 0100				mov	cx,100h
F000:A96C  8B 56 02				mov	dx,[bp+2]
F000:A96F  FA					cli				; Disable interrupts
F000:A970  FC					cld				; Clear direction
F000:A971  F3/ 6D				rep	insw			; Rep when cx >0 Port dx to es:[di]
F000:A973  FB					sti				; Enable interrupts
F000:A974  8A 26 0074				mov	ah,hdsk_status_1	; (0040:0074=0)
F000:A978  0A E4				or	ah,ah			; Zero ?
F000:A97A  74 01				jz	short loc_ret_677	; Jump if zero
F000:A97C			loc_676:					;  xref F000:A943, A949, A965
F000:A97C  F9					stc				; Set carry flag

F000:A97D			loc_ret_677:					;  xref F000:A97A
F000:A97D  C3					retn
				sub_151		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
           MBIOS.LST       BIOS ROM Analysis			Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 162

				;
				;         Called from:   F000:A8AE, A900
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_152		proc	near
F000:A97E  E8 09DF				call	sub_197			; (B360)
F000:A981  C3					retn
				sub_152		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:9FCE, A003, A8AC, A900
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_153		proc	near
F000:A982  B4 C6				mov	ah,0C6h

				;пппп External Entry into Subroutine пппппппппппппппппппппппппппппппппппппп
				;
				;         Called from:   F000:B364

				sub_154:
F000:A984  E8 FAA7				call	sub_126			; (A42E)
F000:A987  72 18				jc	short loc_ret_678	; Jump if carry Set
F000:A989  E8 FE14				call	sub_139			; (A7A0)
F000:A98C  EE					out	dx,al			; port 0, DMA-1 bas&add ch 0
F000:A98D  E3 00				jcxz	short $+2		; delay for I/O
F000:A98F  E3 00				jcxz	short $+2		; delay for I/O
F000:A991  E8 FE01				call	sub_138			; (A795)
F000:A994  8A C4				mov	al,ah
F000:A996  E8 FB7C				call	sub_130			; (A515)
F000:A999  E8 FACD				call	sub_127			; (A469)
F000:A99C  72 03				jc	short loc_ret_678	; Jump if carry Set
F000:A99E  E8 FB12				call	sub_129			; (A4B3)

F000:A9A1			loc_ret_678:					;  xref F000:A987, A99C, A9A5
F000:A9A1  C3					retn
				sub_153		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:A8AA, A900
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_155		proc	near
F000:A9A2  E8 FA89				call	sub_126			; (A42E)
F000:A9A5  72 FA				jc	loc_ret_678		; Jump if carry Set
F000:A9A7  E8 FDEB				call	sub_138			; (A795)
F000:A9AA  E9 F95B				jmp	loc_618			; (A308)
				sub_155		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 163

				;                              SUBROUTINE
				;
				;         Called from:   F000:A8B0, A900
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_156		proc	near
F000:A9AD  50					push	ax
F000:A9AE  E8 FA7D				call	sub_126			; (A42E)
F000:A9B1  58					pop	ax
F000:A9B2  72 2F				jc	short loc_ret_679	; Jump if carry Set
F000:A9B4  50					push	ax
F000:A9B5  8B 56 02				mov	dx,[bp+2]
F000:A9B8  83 C2 01				add	dx,1
F000:A9BB  B0 03				mov	al,3
F000:A9BD  EE					out	dx,al			; port 1, DMA-1 bas&cnt ch 0
F000:A9BE  E3 00				jcxz	short $+2		; delay for I/O
F000:A9C0  E3 00				jcxz	short $+2		; delay for I/O
F000:A9C2  58					pop	ax
F000:A9C3  E8 FDDA				call	sub_139			; (A7A0)
F000:A9C6  EE					out	dx,al			; port 1, DMA-1 bas&cnt ch 0
F000:A9C7  E3 00				jcxz	short $+2		; delay for I/O
F000:A9C9  E3 00				jcxz	short $+2		; delay for I/O
F000:A9CB  E8 FDC7				call	sub_138			; (A795)
F000:A9CE  E3 00				jcxz	short $+2		; delay for I/O
F000:A9D0  E3 00				jcxz	short $+2		; delay for I/O
F000:A9D2  8B 56 02				mov	dx,[bp+2]
F000:A9D5  83 C2 07				add	dx,7
F000:A9D8  B0 EF				mov	al,0EFh
F000:A9DA  EE					out	dx,al			; port 7, DMA-1 bas&cnt ch 3
F000:A9DB  E8 FA8B				call	sub_127			; (A469)
F000:A9DE  72 03				jc	short loc_ret_679	; Jump if carry Set
F000:A9E0  E8 FAD0				call	sub_129			; (A4B3)

F000:A9E3			loc_ret_679:					;  xref F000:A9B2, A9DE
F000:A9E3  C3					retn
				sub_156		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:A81F
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_157		proc	near
F000:A9E4  50					push	ax
F000:A9E5  B0 8E				mov	al,8Eh
F000:A9E7  E8 41F7				call	sub_348			; (EBE1)
F000:A9EA  A8 02				test	al,2
F000:A9EC  58					pop	ax
F000:A9ED  F8					clc				; Clear carry flag
F000:A9EE  75 03				jnz	short loc_ret_680	; Jump if not zero
F000:A9F0  E8 D964				call	sub_49			; (8357)

F000:A9F3			loc_ret_680:					;  xref F000:A9EE
F000:A9F3  C3					retn
				sub_157		endp
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 164



				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:9EBF
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_158		proc	near
F000:A9F4  E8 F9E8				call	sub_123			; (A3DF)
F000:A9F7  72 15				jc	short loc_ret_681	; Jump if carry Set
F000:A9F9  50					push	ax
F000:A9FA  8A C4				mov	al,ah
F000:A9FC  B4 00				mov	ah,0
F000:A9FE  2C 41				sub	al,41h			; 'A'
F000:AA00  3C 0B				cmp	al,0Bh
F000:AA02  73 0B				jae	short loc_682		; Jump if above or =
F000:AA04  D1 E0				shl	ax,1			; Shift w/zeros fill
F000:AA06  8B F8				mov	di,ax
F000:AA08  58					pop	ax
F000:AA09  2E: FF 95 AA12			call	word ptr cs:data_187[di]	;*(F000:AA12=0AA30h) 11 entries

F000:AA0E			loc_ret_681:					;  xref F000:A9F7
F000:AA0E  C3					retn
F000:AA0F			loc_682:					;  xref F000:AA02
F000:AA0F  58					pop	ax
F000:AA10  EB 16				jmp	short loc_683		; (AA28)
F000:AA12  AA30			data_187	dw	offset sub_160		; Data table (indexed access) (AA30)
										;  xref F000:AA09
F000:AA14  AA28			data_188	dw	offset sub_159		; (AA28)
										;  xref F000:AA09
F000:AA16  AA28			data_189	dw	offset sub_159		; (AA28)
										;  xref F000:AA09
F000:AA18  AA28			data_190	dw	offset sub_159		; (AA28)
										;  xref F000:AA09
F000:AA1A  AA28			data_191	dw	offset sub_159		; (AA28)
										;  xref F000:AA09
F000:AA1C  AA28			data_192	dw	offset sub_159		; (AA28)
										;  xref F000:AA09
F000:AA1E  AA28			data_193	dw	offset sub_159		; (AA28)
										;  xref F000:AA09
F000:AA20  AA4B			data_194	dw	offset sub_161		; (AA4B)
										;  xref F000:AA09
F000:AA22  AA28			data_195	dw	offset sub_159		; (AA28)
										;  xref F000:AA09
F000:AA24  AA28			data_196	dw	offset sub_159		; (AA28)
										;  xref F000:AA09
F000:AA26  AA28			data_197	dw	offset sub_159		; (AA28)
										;  xref F000:AA09
				sub_158		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:AA09, AA14, AA16, AA18, AA1A, AA1C, AA1E
				;                             AA22, AA24, AA26
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 165

				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_159		proc	near
F000:AA28			loc_683:					;  xref F000:AA10, AA34, AA58
F000:AA28 њF9					stc				; Set carry flag
F000:AA29  B4 01				mov	ah,1
F000:AA2B  88 26 0074				mov	hdsk_status_1,ah	; (0040:0074=0)
F000:AA2F  C3					retn
				sub_159		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:AA09, AA12
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_160		proc	near
F000:AA30  81 FB 55AA				cmp	bx,55AAh
F000:AA34  75 F2				jne	loc_683			; Jump if not equal
F000:AA36  86 DF				xchg	bl,bh
F000:AA38  B9 0004				mov	cx,4
F000:AA3B  89 5E 18				mov	[bp+18h],bx
F000:AA3E  89 4E 1C				mov	[bp+1Ch],cx
F000:AA41  B8 0200				mov	ax,200h
F000:AA44  C6 06 0074 00			mov	hdsk_status_1,0		; (0040:0074=0)
F000:AA49  F8					clc				; Clear carry flag
F000:AA4A  C3					retn
				sub_160		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:AA09, AA20
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_161		proc	near
F000:AA4B  E8 F939				call	sub_122			; (A387)
F000:AA4E  1E					push	ds
F000:AA4F  8E 5E 12				mov	ds,[bp+12h]
F000:AA52  80 3C 1E				cmp	byte ptr [si],1Eh
F000:AA55  73 03				jae	short loc_684		; Jump if above or =
F000:AA57  1F					pop	ds
F000:AA58  EB CE				jmp	short loc_683		; (AA28)
F000:AA5A			loc_684:					;  xref F000:AA55
F000:AA5A  52					push	dx
F000:AA5B  8B FE				mov	di,si
F000:AA5D  32 C0				xor	al,al			; Zero register
F000:AA5F  B9 001E				mov	cx,1Eh

F000:AA62			locloop_685:					;  xref F000:AA65
F000:AA62  88 05				mov	[di],al
F000:AA64  47					inc	di
F000:AA65  E2 FB				loop	locloop_685		; Loop if cx > 0

F000:AA67  26: 8B 0F				mov	cx,es:[bx]
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 166

F000:AA6A  89 4C 04				mov	[si+4],cx
F000:AA6D  26: 8A 47 02				mov	al,es:[bx+2]
F000:AA71  88 44 08				mov	[si+8],al
F000:AA74  26: 8A 67 0E				mov	ah,es:[bx+0Eh]
F000:AA78  88 64 0C				mov	[si+0Ch],ah
F000:AA7B  F6 E4				mul	ah			; ax = reg * al
F000:AA7D  F7 E1				mul	cx			; dx:ax = reg * ax
F000:AA7F  89 44 10				mov	[si+10h],ax
F000:AA82  89 54 12				mov	[si+12h],dx
F000:AA85  C7 44 18 0200			mov	word ptr [si+18h],200h
F000:AA8A  C7 04 001E				mov	word ptr [si],1Eh
F000:AA8E  C7 44 02 0002			mov	word ptr [si+2],2
F000:AA93  5A					pop	dx
F000:AA94  E8 FD52				call	sub_147			; (A7E9)
F000:AA97  83 C3 10				add	bx,10h
F000:AA9A  89 5C 1A				mov	[si+1Ah],bx
F000:AA9D  8C 44 1C				mov	[si+1Ch],es
F000:AAA0  8A 46 1E				mov	al,[bp+1Eh]
F000:AAA3  32 E4				xor	ah,ah			; Zero register
F000:AAA5  1F					pop	ds
F000:AAA6  88 26 0074				mov	ds:video_hdw_off,ah	; (0000:0074=0A4h)
F000:AAAA  C3					retn
				sub_161		endp

F000:AAAB  00					db	0

F000:AAAC			int_16h_keybd	proc	near			;  xref F000:E82E
F000:AAAC њFB					sti				; Enable interrupts
F000:AAAD  E9 11F9				jmp	loc_843			; (BCA9)
F000:AAB0			loc_686:					;  xref F000:BCDB
F000:AAB0 њ1E					push	ds
F000:AAB1  53					push	bx
F000:AAB2  51					push	cx
F000:AAB3  6A 40				push	40h
F000:AAB5  1F					pop	ds
F000:AAB6  80 EC 03				sub	ah,3
F000:AAB9  74 44				jz	short loc_691		; Jump if zero
F000:AABB  72 14				jc	short loc_687		; Jump if carry Set
F000:AABD  80 EC 02				sub	ah,2
F000:AAC0  74 1F				jz	short loc_689		; Jump if zero
F000:AAC2  80 EC 0B				sub	ah,0Bh
F000:AAC5  74 7F				jz	short loc_695		; Jump if zero
F000:AAC7  FE CC				dec	ah
F000:AAC9  74 60				jz	short loc_692		; Jump if zero
F000:AACB  FE CC				dec	ah
F000:AACD  74 5E				jz	short loc_693		; Jump if zero
F000:AACF  EB 0C				jmp	short loc_688		; (AADD)
F000:AAD1			loc_687:					;  xref F000:AABB
F000:AAD1  FE C4				inc	ah
F000:AAD3  74 6C				jz	short loc_694		; Jump if zero
F000:AAD5  FE C4				inc	ah
F000:AAD7  74 7F				jz	short loc_697		; Jump if zero
F000:AAD9  FE C4				inc	ah
F000:AADB  EB 71				jmp	short loc_696		; (AB4E)
F000:AADD			loc_688:					;  xref F000:AACF, AAFD, AB02, AB07
										;            AB0B, AB29, AB44, AB4C
										;            AB56
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 167

F000:AADD њ59					pop	cx
F000:AADE  5B					pop	bx
F000:AADF  1F					pop	ds
F000:AAE0  CF					iret				; Interrupt return
				int_16h_keybd	endp

F000:AAE1			loc_689:					;  xref F000:AAC0
F000:AAE1  FA					cli				; Disable interrupts
F000:AAE2  8B 1E 001C				mov	bx,keybd_q_tail		; (0040:001C=38h)
F000:AAE6  53					push	bx
F000:AAE7  E8 38F8				call	sub_327			; (E3E2)
F000:AAEA  3B 1E 001A				cmp	bx,keybd_q_head		; (0040:001A=38h)
F000:AAEE  B0 01				mov	al,1
F000:AAF0  74 0A				jz	short loc_690		; Jump if zero
F000:AAF2  89 1E 001C				mov	keybd_q_tail,bx		; (0040:001C=38h)
F000:AAF6  5B					pop	bx
F000:AAF7  89 0F				mov	[bx],cx
F000:AAF9  53					push	bx
F000:AAFA  B0 00				mov	al,0
F000:AAFC			loc_690:					;  xref F000:AAF0
F000:AAFC  5B					pop	bx
F000:AAFD  EB DE				jmp	short loc_688		; (AADD)
F000:AAFF			loc_691:					;  xref F000:AAB9
F000:AAFF  80 FB 1F				cmp	bl,1Fh
F000:AB02  77 D9				ja	loc_688			; Jump if above
F000:AB04  80 FF 03				cmp	bh,3
F000:AB07  77 D4				ja	loc_688			; Jump if above
F000:AB09  3C 05				cmp	al,5
F000:AB0B  75 D0				jne	loc_688			; Jump if not equal
F000:AB0D  C0 CF 03				ror	bh,3			; Rotate
F000:AB10  0A DF				or	bl,bh
F000:AB12  E8 494D				call	sub_398			; (F462)
F000:AB15  FB					sti				; Enable interrupts
F000:AB16  B0 F3				mov	al,0F3h
F000:AB18  E8 4954				call	sub_399			; (F46F)
F000:AB1B  8A C3				mov	al,bl
F000:AB1D  E8 494F				call	sub_399			; (F46F)
F000:AB20  E8 4936				call	sub_397			; (F459)
F000:AB23  FB					sti				; Enable interrupts
F000:AB24  B0 F4				mov	al,0F4h
F000:AB26  E8 4946				call	sub_399			; (F46F)
F000:AB29  EB B2				jmp	short loc_688		; (AADD)
F000:AB2B			loc_692:					;  xref F000:AAC9
F000:AB2B  EB 3B				jmp	short loc_698		; (AB68)
F000:AB2D			loc_693:					;  xref F000:AACD
F000:AB2D  A0 0018				mov	al,keybd_flags_2	; (0040:0018=0)
F000:AB30  8A E0				mov	ah,al
F000:AB32  25 7304				and	ax,7304h
F000:AB35  C0 C8 03				ror	al,3			; Rotate
F000:AB38  0A E0				or	ah,al
F000:AB3A  A0 0096				mov	al,keybd_flags_3	; (0040:0096=10h)
F000:AB3D  24 0C				and	al,0Ch
F000:AB3F  0A E0				or	ah,al
F000:AB41			loc_694:					;  xref F000:AAD3
F000:AB41  A0 0017				mov	al,keybd_flags_1	; (0040:0017=20h)
F000:AB44  EB 97				jmp	short loc_688		; (AADD)
F000:AB46			loc_695:					;  xref F000:AAC5
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 168

F000:AB46  E8 377F				call	sub_317			; (E2C8)
F000:AB49  E8 379A				call	sub_318			; (E2E6)
F000:AB4C  EB 8F				jmp	short loc_688		; (AADD)
F000:AB4E			loc_696:					;  xref F000:AADB, AB54
F000:AB4E  E8 3777				call	sub_317			; (E2C8)
F000:AB51  E8 37A0				call	sub_319			; (E2F4)
F000:AB54  74 F8				jz	loc_696			; Jump if zero
F000:AB56  EB 85				jmp	short loc_688		; (AADD)
F000:AB58			loc_697:					;  xref F000:AAD7, AB66
F000:AB58 њE8 37DD				call	sub_321			; (E338)
F000:AB5B  FB					sti				; Enable interrupts
F000:AB5C  74 13				jz	short loc_699		; Jump if zero
F000:AB5E  E8 3793				call	sub_319			; (E2F4)
F000:AB61  75 0E				jnz	short loc_699		; Jump if not zero
F000:AB63  E8 3762				call	sub_317			; (E2C8)
F000:AB66  EB F0				jmp	short loc_697		; (AB58)
F000:AB68			loc_698:					;  xref F000:AB2B
F000:AB68  E8 37CD				call	sub_321			; (E338)
F000:AB6B  FB					sti				; Enable interrupts
F000:AB6C  74 03				jz	short loc_699		; Jump if zero
F000:AB6E  E8 3775				call	sub_318			; (E2E6)
F000:AB71			loc_699:					;  xref F000:AB5C, AB61, AB6C
F000:AB71  59					pop	cx
F000:AB72  5B					pop	bx
F000:AB73  1F					pop	ds
F000:AB74  CA 0002				retf	2			; Return far
F000:AB77  00					db	0
F000:AB78			loc_700:					;  xref F000:9683
F000:AB78  53					push	bx
F000:AB79  50					push	ax
F000:AB7A  B0 8D				mov	al,8Dh
F000:AB7C  E6 70				out	70h,al			; port 70h, CMOS addr,bit7=NMI
										;  al = 8Dh, status register D
F000:AB7E  E4 61				in	al,61h			; port 61h, 8255 port B, read
F000:AB80  8A D8				mov	bl,al
F000:AB82  E8 408B				call	sub_351			; (EC10)
F000:AB85  F6 C3 C0				test	bl,0C0h
F000:AB88  75 08				jnz	short loc_702		; Jump if not zero
F000:AB8A  E8 0969				call	sub_204			; (B4F6)
F000:AB8D			loc_701:					;  xref F000:AB94
F000:AB8D  E6 70				out	70h,al			; port 70h, CMOS addr,bit7=NMI
										;  al = 8Dh, status register D
F000:AB8F  58					pop	ax
F000:AB90  5B					pop	bx
F000:AB91  CF					iret				; Interrupt return
F000:AB92			loc_702:					;  xref F000:AB88
F000:AB92  A8 80				test	al,80h
F000:AB94  75 F7				jnz	loc_701			; Jump if not zero
F000:AB96  32 C0				xor	al,al			; Zero register
F000:AB98  E8 2B1A				call	sub_300			; (D6B5)
F000:AB9B  E8 017B				call	sub_171			; (AD19)
F000:AB9E  E8 0956				call	sub_205			; (B4F7)
F000:ABA1  E9 01BC				jmp	loc_729			; (AD60)
F000:ABA4			loc_703:					;  xref F000:8C4F
F000:ABA4  FB					sti				; Enable interrupts
F000:ABA5  E9 0956				jmp	loc_807			; (B4FE)
F000:ABA8			loc_704:					;  xref F000:B51E
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 169

F000:ABA8 њ80 FC 08				cmp	ah,8
F000:ABAB  73 2B				jae	short loc_709		; Jump if above or =
F000:ABAD  80 FC 01				cmp	ah,1
F000:ABB0  77 2B				ja	short loc_710		; Jump if above
F000:ABB2  1E					push	ds
F000:ABB3  6A 40				push	40h
F000:ABB5  1F					pop	ds
F000:ABB6  B0 00				mov	al,0
F000:ABB8  FA					cli				; Disable interrupts
F000:ABB9  74 0E				jz	short loc_705		; Jump if zero
F000:ABBB  86 06 0070				xchg	timer_rolled,al		; (0040:0070=0)
F000:ABBF  8B 16 006C				mov	dx,timer_low		; (0040:006C=0DE8Ch)
F000:ABC3  8B 0E 006E				mov	cx,timer_hi		; (0040:006E=12h)
F000:ABC7  EB 0B				jmp	short loc_706		; (ABD4)
F000:ABC9			loc_705:					;  xref F000:ABB9
F000:ABC9  A2 0070				mov	timer_rolled,al		; (0040:0070=0)
F000:ABCC  89 16 006C				mov	timer_low,dx		; (0040:006C=0DE8Ch)
F000:ABD0  89 0E 006E				mov	timer_hi,cx		; (0040:006E=12h)
F000:ABD4			loc_706:					;  xref F000:ABC7
F000:ABD4  1F					pop	ds
F000:ABD5			loc_707:					;  xref F000:AC47, AC6B, AC91
F000:ABD5 њF9					stc				; Set carry flag
F000:ABD6			loc_708:					;  xref F000:AC9D
F000:ABD6 њB4 00				mov	ah,0
F000:ABD8			loc_709:					;  xref F000:ABAB
F000:ABD8  FB					sti				; Enable interrupts
F000:ABD9  F5					cmc				; Complement carry
F000:ABDA  CA 0002				retf	2			; Return far
F000:ABDD			loc_710:					;  xref F000:ABB0
F000:ABDD  8A C4				mov	al,ah
F000:ABDF  98					cbw				; Convrt byte to word
F000:ABE0  48					dec	ax
F000:ABE1  48					dec	ax
F000:ABE2  74 51				jz	short loc_713		; Jump if zero
F000:ABE4  48					dec	ax
F000:ABE5  74 33				jz	short loc_712		; Jump if zero
F000:ABE7  48					dec	ax
F000:ABE8  74 5F				jz	short loc_714		; Jump if zero
F000:ABEA  48					dec	ax
F000:ABEB  74 0C				jz	short loc_711		; Jump if zero
F000:ABED  48					dec	ax
F000:ABEE  74 7E				jz	short loc_716		; Jump if zero
F000:ABF0  FA					cli				; Disable interrupts
F000:ABF1  E8 3FD9				call	sub_345			; (EBCD)
F000:ABF4  24 57				and	al,57h			; 'W'
F000:ABF6  E9 0095				jmp	loc_717			; (AC8E)
F000:ABF9			loc_711:					;  xref F000:ABEB
F000:ABF9  E8 00A4				call	sub_163			; (ACA0)
F000:ABFC  52					push	dx
F000:ABFD  B8 3209				mov	ax,3209h
F000:AC00  B2 08				mov	dl,8
F000:AC02  E8 00D9				call	sub_166			; (ACDE)
F000:AC05  5A					pop	dx
F000:AC06  8A E2				mov	ah,dl
F000:AC08  B0 07				mov	al,7
F000:AC0A  E8 3FDD				call	sub_349			; (EBEA)
F000:AC0D  B8 0006				mov	ax,6
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 170

F000:AC10  E8 3FD7				call	sub_349			; (EBEA)
F000:AC13  E8 3FB7				call	sub_345			; (EBCD)
F000:AC16  24 7F				and	al,7Fh
F000:AC18  EB 74				jmp	short loc_717		; (AC8E)
F000:AC1A			loc_712:					;  xref F000:ABE5
F000:AC1A  E8 0083				call	sub_163			; (ACA0)
F000:AC1D  52					push	dx
F000:AC1E  B8 0402				mov	ax,402h
F000:AC21  B2 00				mov	dl,0
F000:AC23  E8 00B8				call	sub_166			; (ACDE)
F000:AC26  5A					pop	dx
F000:AC27  E8 3FA3				call	sub_345			; (EBCD)
F000:AC2A  24 60				and	al,60h			; '`'
F000:AC2C  0C 02				or	al,2
F000:AC2E  80 E2 01				and	dl,1
F000:AC31  0A C2				or	al,dl
F000:AC33  EB 59				jmp	short loc_717		; (AC8E)
F000:AC35			loc_713:					;  xref F000:ABE2
F000:AC35  E8 005C				call	sub_162			; (AC94)
F000:AC38  B0 02				mov	al,2
F000:AC3A  B9 0004				mov	cx,4
F000:AC3D  E8 008D				call	sub_165			; (ACCD)
F000:AC40  E8 3F8A				call	sub_345			; (EBCD)
F000:AC43  24 01				and	al,1
F000:AC45  8A D0				mov	dl,al
F000:AC47  EB 8C				jmp	short loc_707		; (ABD5)
F000:AC49			loc_714:					;  xref F000:ABE8
F000:AC49  E8 0048				call	sub_162			; (AC94)
F000:AC4C  B0 09				mov	al,9
F000:AC4E  B9 0832				mov	cx,832h
F000:AC51  E8 0079				call	sub_165			; (ACCD)
F000:AC54  B0 07				mov	al,7
F000:AC56  E8 3F88				call	sub_348			; (EBE1)
F000:AC59  8A D0				mov	dl,al
F000:AC5B  81 F9 1900				cmp	cx,1900h
F000:AC5F  75 0A				jne	short loc_715		; Jump if not equal
F000:AC61  50					push	ax
F000:AC62  B8 2032				mov	ax,2032h
F000:AC65  E8 3F82				call	sub_349			; (EBEA)
F000:AC68  58					pop	ax
F000:AC69  B5 20				mov	ch,20h			; ' '
F000:AC6B			loc_715:					;  xref F000:AC5F
F000:AC6B  E9 FF67				jmp	loc_707			; (ABD5)
F000:AC6E			loc_716:					;  xref F000:ABEE
F000:AC6E  FA					cli				; Disable interrupts
F000:AC6F  E8 3F5B				call	sub_345			; (EBCD)
F000:AC72  FB					sti				; Enable interrupts
F000:AC73  A8 20				test	al,20h			; ' '
F000:AC75  75 24				jnz	short loc_719		; Jump if not zero
F000:AC77  E8 0026				call	sub_163			; (ACA0)
F000:AC7A  52					push	dx
F000:AC7B  B8 0503				mov	ax,503h
F000:AC7E  B2 01				mov	dl,1
F000:AC80  E8 005B				call	sub_166			; (ACDE)
F000:AC83  5A					pop	dx
F000:AC84  E8 3F3B				call	sub_344			; (EBC2)
F000:AC87  E8 3F43				call	sub_345			; (EBCD)
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 171

F000:AC8A  24 7F				and	al,7Fh
F000:AC8C  0C 20				or	al,20h			; ' '
F000:AC8E			loc_717:					;  xref F000:ABF6, AC18, AC33
F000:AC8E  E8 3F48				call	sub_347			; (EBD9)
F000:AC91  E9 FF41				jmp	loc_707			; (ABD5)

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:AC35, AC49
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_162		proc	near
F000:AC94  E8 0027				call	sub_164			; (ACBE)
F000:AC97  75 01				jnz	short loc_718		; Jump if not zero
F000:AC99  C3					retn
F000:AC9A			loc_718:					;  xref F000:AC97
F000:AC9A  58					pop	ax
F000:AC9B			loc_719:					;  xref F000:AC75
F000:AC9B  33 C0				xor	ax,ax			; Zero register
F000:AC9D  E9 FF36				jmp	loc_708			; (ABD6)
				sub_162		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:ABF9, AC1A, AC77
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_163		proc	near
F000:ACA0  51					push	cx
F000:ACA1  E8 001A				call	sub_164			; (ACBE)
F000:ACA4  59					pop	cx
F000:ACA5  74 16				jz	short loc_ret_720	; Jump if zero
F000:ACA7  B8 260A				mov	ax,260Ah
F000:ACAA  90					nop
F000:ACAB  E8 3F3C				call	sub_349			; (EBEA)
F000:ACAE  B8 820B				mov	ax,820Bh
F000:ACB1  E8 3F36				call	sub_349			; (EBEA)
F000:ACB4  E8 3F1C				call	sub_346			; (EBD3)
F000:ACB7  B0 0D				mov	al,0Dh
F000:ACB9  E8 3F25				call	sub_348			; (EBE1)
F000:ACBC  90					nop

F000:ACBD			loc_ret_720:					;  xref F000:ACA5
F000:ACBD  C3					retn
				sub_163		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:AC94, ACA1
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_164		proc	near
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 172

F000:ACBE  B9 1000				mov	cx,1000h

F000:ACC1			locloop_721:					;  xref F000:ACCA
F000:ACC1  FB					sti				; Enable interrupts
F000:ACC2  B0 0A				mov	al,0Ah
F000:ACC4  FA					cli				; Disable interrupts
F000:ACC5  E8 3F19				call	sub_348			; (EBE1)
F000:ACC8  A8 80				test	al,80h
F000:ACCA  E0 F5				loopnz	locloop_721		; Loop if zf=0, cx>0

F000:ACCC  C3					retn
				sub_164		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:AC3D, AC51
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_165		proc	near
F000:ACCD  FA					cli				; Disable interrupts
F000:ACCE  E8 3F10				call	sub_348			; (EBE1)
F000:ACD1  86 C1				xchg	al,cl
F000:ACD3  E8 3F0B				call	sub_348			; (EBE1)
F000:ACD6  86 C5				xchg	al,ch
F000:ACD8  E8 3F06				call	sub_348			; (EBE1)
F000:ACDB  86 C6				xchg	al,dh
F000:ACDD  C3					retn
				sub_165		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:AC02, AC23, AC80
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_166		proc	near
F000:ACDE  51					push	cx
F000:ACDF  86 E1				xchg	ah,cl
F000:ACE1  FA					cli				; Disable interrupts
F000:ACE2  E8 3F05				call	sub_349			; (EBEA)
F000:ACE5  91					xchg	cx,ax
F000:ACE6  E8 3F01				call	sub_349			; (EBEA)
F000:ACE9  92					xchg	dx,ax
F000:ACEA  E8 3EFD				call	sub_349			; (EBEA)
F000:ACED  90					nop
F000:ACEE  59					pop	cx
F000:ACEF  C3					retn
				sub_166		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:7D7A
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 173

				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_167		proc	near
F000:ACF0  B7 07				mov	bh,7
F000:ACF2  EB 27				jmp	short loc_725		; (AD1B)

				;пппп External Entry into Subroutine пппппппппппппппппппппппппппппппппппппп
				;
				;         Called from:   F000:7DBB

				sub_168:
F000:ACF4  B7 06				mov	bh,6
F000:ACF6  EB 23				jmp	short loc_725		; (AD1B)
F000:ACF8			loc_722:					;  xref F000:872E
F000:ACF8  B7 05				mov	bh,5
F000:ACFA  B3 06				mov	bl,6
F000:ACFC  EB 58				jmp	short loc_728		; (AD56)

				;пппп External Entry into Subroutine пппппппппппппппппппппппппппппппппппппп
				;
				;         Called from:   F000:875B, 87A7

				sub_169:
F000:ACFE  B7 00				mov	bh,0
F000:AD00  E3 06				jcxz	short loc_723		; Jump if cx=0
F000:AD02  B7 01				mov	bh,1
F000:AD04  73 03				jnc	short loc_ret_724	; Jump if carry=0
F000:AD06  B7 02				mov	bh,2
F000:AD08			loc_723:					;  xref F000:AD00
F000:AD08  F9					stc				; Set carry flag

F000:AD09			loc_ret_724:					;  xref F000:AD04
F000:AD09  C3					retn

				;пппп External Entry into Subroutine пппппппппппппппппппппппппппппппппппппп
				;
				;         Called from:   F000:877E

				sub_170:
F000:AD0A  E8 4289				call	sub_371			; (EF96)
F000:AD0D  B3 06				mov	bl,6
F000:AD0F  E8 0028				call	sub_175			; (AD3A)
F000:AD12  E8 4281				call	sub_371			; (EF96)
F000:AD15  B7 03				mov	bh,3
F000:AD17  EB 02				jmp	short loc_725		; (AD1B)

				;пппп External Entry into Subroutine пппппппппппппппппппппппппппппппппппппп
				;
				;         Called from:   F000:AB9B

				sub_171:
F000:AD19  B7 0C				mov	bh,0Ch

				;пппп External Entry into Subroutine пппппппппппппппппппппппппппппппппппппп
				;
				;         Called from:   F000:AD62, AD94

           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 174

				sub_172:
F000:AD1B			loc_725:					;  xref F000:ACF2, ACF6, AD17
F000:AD1B  B3 06				mov	bl,6
F000:AD1D  E8 001A				call	sub_175			; (AD3A)
F000:AD20  C3					retn

				;пппп External Entry into Subroutine пппппппппппппппппппппппппппппппппппппп
				;
				;         Called from:   F000:AD3B, ADA7

				sub_173:
F000:AD21  E8 3F0A				call	sub_353			; (EC2E)
F000:AD24  75 0F				jnz	short loc_726		; Jump if not zero
F000:AD26  B0 93				mov	al,93h
F000:AD28  E8 3EB6				call	sub_348			; (EBE1)
F000:AD2B  83 E0 1C				and	ax,1Ch
F000:AD2E  C0 E8 02				shr	al,2			; Shift w/zeros fill
F000:AD31  3C 01				cmp	al,1
F000:AD33  72 02				jb	short loc_ret_727	; Jump if below
F000:AD35			loc_726:					;  xref F000:AD24
F000:AD35  33 C0				xor	ax,ax			; Zero register

F000:AD37			loc_ret_727:					;  xref F000:AD33
F000:AD37  C3					retn

				;пппп External Entry into Subroutine пппппппппппппппппппппппппппппппппппппп
				;
				;         Called from:   F000:AD81

				sub_174:
F000:AD38  B3 00				mov	bl,0

				;пппп External Entry into Subroutine пппппппппппппппппппппппппппппппппппппп
				;
				;         Called from:   F000:AD0F, AD1D, AD5D

				sub_175:
F000:AD3A  52					push	dx
F000:AD3B  E8 FFE3				call	sub_173			; (AD21)
F000:AD3E  E8 F036				call	sub_97			; (9D77)
F000:AD41  1E					push	ds
F000:AD42  8E DA				mov	ds,dx
F000:AD44  8B F0				mov	si,ax
F000:AD46  E8 003C				call	sub_176			; (AD85)
F000:AD49  1F					pop	ds
F000:AD4A  5A					pop	dx
F000:AD4B  C3					retn
							                        ;* No entry point to code
F000:AD4C  1E					push	ds
F000:AD4D  0E					push	cs
F000:AD4E  1F					pop	ds
F000:AD4F  E8 0033				call	sub_176			; (AD85)
F000:AD52  1F					pop	ds
F000:AD53  C3					retn
F000:AD54  B3 00				db	0B3h, 00h
F000:AD56			loc_728:					;  xref F000:ACFC
F000:AD56  53					push	bx
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 175

F000:AD57  32 C0				xor	al,al			; Zero register
F000:AD59  E8 2959				call	sub_300			; (D6B5)
F000:AD5C  5B					pop	bx
F000:AD5D  E8 FFDA				call	sub_175			; (AD3A)
F000:AD60			loc_729:					;  xref F000:ABA1
F000:AD60  B7 04				mov	bh,4
F000:AD62  E8 FFB6				call	sub_172			; (AD1B)
F000:AD65  E8 3F11				call	sub_356			; (EC79)
F000:AD68  A8 20				test	al,20h			; ' '
F000:AD6A  75 08				jnz	short loc_732		; Jump if not zero
F000:AD6C			loc_730:					;  xref F000:AD72
F000:AD6C њFA					cli				; Disable interrupts
F000:AD6D  E8 4090				call	sub_370			; (EE00)

F000:AD70			locloop_731:					;  xref F000:AD70
F000:AD70  E2 FE				loop	locloop_731		; Loop if cx > 0

F000:AD72  EB F8				jmp	short loc_730		; (AD6C)
F000:AD74			loc_732:					;  xref F000:AD6A
F000:AD74 њBC AD7A				mov	sp,0AD7Ah		; (F000:AD7A=0FBh)
F000:AD77  E9 41FA				jmp	loc_1285		; (EF74)
				sub_167		endp

F000:AD7A			loc_733:					;  xref F000:AD7C
F000:AD7A њFB					sti				; Enable interrupts
F000:AD7B  F4					hlt				; Halt processor
F000:AD7C  EB FC				jmp	short loc_733		; (AD7A)
							                        ;* No entry point to code
F000:AD7E  E8 4215				call	sub_371			; (EF96)
F000:AD81  E8 FFB4				call	sub_174			; (AD38)
F000:AD84  C3					retn

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:AD46, AD4F
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_176		proc	near
F000:AD85  FA					cli				; Disable interrupts
F000:AD86  FC					cld				; Clear direction
F000:AD87			loc_734:					;  xref F000:AD8F
F000:AD87 њAC					lodsb				; String [si] to al
F000:AD88  22 C0				and	al,al
F000:AD8A  74 05				jz	short loc_ret_735	; Jump if zero
F000:AD8C  E8 4CC1				call	sub_405			; (FA50)
F000:AD8F  EB F6				jmp	short loc_734		; (AD87)

F000:AD91			loc_ret_735:					;  xref F000:AD8A
F000:AD91  C3					retn
				sub_176		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:C75D
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 176

				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_177		proc	near
F000:AD92  B7 09				mov	bh,9
F000:AD94  E8 FF84				call	sub_172			; (AD1B)
F000:AD97  E8 2884				call	sub_297			; (D61E)
F000:AD9A  C3					retn
				sub_177		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:7F3B, 7F61
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_178		proc	near
F000:AD9B  52					push	dx
F000:AD9C  53					push	bx
F000:AD9D  B7 0A				mov	bh,0Ah
F000:AD9F  0A C0				or	al,al			; Zero ?
F000:ADA1  74 02				jz	short loc_736		; Jump if zero
F000:ADA3  B7 0B				mov	bh,0Bh
F000:ADA5			loc_736:					;  xref F000:ADA1
F000:ADA5  B3 06				mov	bl,6
F000:ADA7  E8 FF77				call	sub_173			; (AD21)
F000:ADAA  E8 EFCA				call	sub_97			; (9D77)
F000:ADAD  8B F0				mov	si,ax
F000:ADAF  8E DA				mov	ds,dx
F000:ADB1  5B					pop	bx
F000:ADB2  5A					pop	dx
F000:ADB3  C3					retn
				sub_178		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:8B71
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_179		proc	near
F000:ADB4  80 3E 0072 68			cmp	byte ptr warm_boot_flag,68h	; (0040:0072=0) 'h'
F000:ADB9  75 6F				jne	short loc_ret_737	; Jump if not equal
F000:ADBB  F6 06 0017 0C			test	keybd_flags_1,0Ch	; (0040:0017=20h)
F000:ADC0  75 68				jnz	short loc_ret_737	; Jump if not zero
F000:ADC2  33 C0				xor	ax,ax			; Zero register
F000:ADC4  8E D8				mov	ds,ax
F000:ADC6  FF 36 0056				push	word ptr ds:vectr_15h_seg	; (0000:0056=20Bh)
F000:ADCA  FF 36 0054				push	word ptr ds:vectr_15h_off	; (0000:0054=240h)
						assume	ds:seg_a
F000:ADCE  FF 36 0026				push	vector_9h_seg		; (0000:0026=0A6Dh)
F000:ADD2  FF 36 0024				push	vector_9h_off		; (0000:0024=28h)
F000:ADD6  FF 36 0022				push	vector_8h_seg		; (0000:0022=0A6Dh)
F000:ADDA  FF 36 0020				push	vector_8h_off		; (0000:0020=1Fh)
F000:ADDE  C7 06 0024 E987			mov	vector_9h_off,0E987h	; (0000:0024=28h)
F000:ADE4  8C 0E 0026				mov	vector_9h_seg,cs	; (0000:0026=0A6Dh)
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 177

F000:ADE8  C7 06 0020 FEA5			mov	vector_8h_off,0FEA5h	; (0000:0020=1Fh)
F000:ADEE  8C 0E 0022				mov	vector_8h_seg,cs	; (0000:0022=0A6Dh)
F000:ADF2  C7 06 0054 F859			mov	word ptr ds:vectr_15h_off,0F859h	; (0000:0054=240h)
F000:ADF8  8C 0E 0056				mov	ds:vectr_15h_seg,cs	; (0000:0056=20Bh)
F000:ADFC  B8 0040				mov	ax,seg_b
F000:ADFF  8E D8				mov	ds,ax
						assume	ds:seg_b
F000:AE01  C6 06 0072 48			mov	byte ptr warm_boot_flag,48h	; (0040:0072=0) 'H'
F000:AE06  E8 D548				call	sub_48			; (8351)
F000:AE09  C6 06 0072 00			mov	byte ptr warm_boot_flag,0	; (0040:0072=0)
F000:AE0E  33 C0				xor	ax,ax			; Zero register
F000:AE10  8E D8				mov	ds,ax
						assume	ds:seg_a
F000:AE12  8F 06 0020				pop	vector_8h_off		; (0000:0020=1Fh)
F000:AE16  8F 06 0022				pop	vector_8h_seg		; (0000:0022=0A6Dh)
F000:AE1A  8F 06 0024				pop	vector_9h_off		; (0000:0024=28h)
F000:AE1E  8F 06 0026				pop	vector_9h_seg		; (0000:0026=0A6Dh)
F000:AE22  8F 06 0054				pop	word ptr ds:vectr_15h_off	; (0000:0054=240h)
F000:AE26  8F 06 0056				pop	word ptr ds:vectr_15h_seg	; (0000:0056=20Bh)

F000:AE2A			loc_ret_737:					;  xref F000:ADB9, ADC0
F000:AE2A  C3					retn
				sub_179		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:89B2, 8A0D
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_180		proc	near
F000:AE2B  50					push	ax
						assume	ds:seg_b
F000:AE2C  A1 0072				mov	ax,warm_boot_flag	; (0040:0072=0)
F000:AE2F  3C 48				cmp	al,48h			; 'H'
F000:AE31  74 12				je	short loc_738		; Jump if equal
F000:AE33  3C 68				cmp	al,68h			; 'h'
F000:AE35  74 0E				je	short loc_738		; Jump if equal
F000:AE37  3C 53				cmp	al,53h			; 'S'
F000:AE39  74 0A				je	short loc_738		; Jump if equal
F000:AE3B  80 FC 50				cmp	ah,50h			; 'P'
F000:AE3E  74 05				je	short loc_738		; Jump if equal
F000:AE40  C6 06 0072 00			mov	byte ptr warm_boot_flag,0	; (0040:0072=0)
F000:AE45			loc_738:					;  xref F000:AE31, AE35, AE39, AE3E
F000:AE45  58					pop	ax
F000:AE46  C3					retn
				sub_180		endp

F000:AE47  00					db	0

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:C76F
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 178

				sub_181		proc	near
F000:AE48  C6 06 0072 53			mov	byte ptr warm_boot_flag,53h	; (0040:0072=0) 'S'
F000:AE4D  E8 CFF2				call	sub_38			; (7E42)
F000:AE50  75 5C				jnz	short loc_ret_740	; Jump if not zero
F000:AE52  B8 3000				mov	ax,3000h
F000:AE55  A3 0067				mov	@gen_use_ptr,ax		; (0040:0067=17A4h)
F000:AE58  8E D8				mov	ds,ax
F000:AE5A  8E C0				mov	es,ax
F000:AE5C  E8 3DEC				call	sub_354			; (EC4B)
F000:AE5F  E8 D4EC				call	sub_47			; (834E)
F000:AE62  1E					push	ds
F000:AE63  07					pop	es
F000:AE64  73 45				jnc	short loc_739		; Jump if carry=0
F000:AE66  E8 D4DF				call	sub_46			; (8348)
F000:AE69  9C					pushf				; Push flags
F000:AE6A  E8 EF50				call	sub_99			; (9DBD)
F000:AE6D  9D					popf				; Pop flags
F000:AE6E  74 3B				jz	short loc_739		; Jump if zero
F000:AE70  FA					cli				; Disable interrupts
F000:AE71  B0 8D				mov	al,8Dh
F000:AE73  E6 70				out	70h,al			; port 70h, CMOS addr,bit7=NMI
										;  al = 8Dh, status register D
F000:AE75  B0 FF				mov	al,0FFh
F000:AE77  E6 A1				out	0A1h,al			; port 0A1h, 8259-2 int comands
										;  al = 0FFh, inhibit interrupts
F000:AE79  E3 00				jcxz	short $+2		; delay for I/O
F000:AE7B  E3 00				jcxz	short $+2		; delay for I/O
F000:AE7D  E6 21				out	21h,al			; port 21h, 8259-1 int comands
F000:AE7F  E8 0469				call	sub_189			; (B2EB)
F000:AE82  33 C0				xor	ax,ax			; Zero register
F000:AE84  8E D8				mov	ds,ax
						assume	ds:seg_a
F000:AE86  A3 0472				mov	warm_boot_flag_,ax	; (0000:0472=0)
F000:AE89  68 3000				push	3000h
F000:AE8C  07					pop	es
F000:AE8D  0E					push	cs
F000:AE8E  1F					pop	ds
F000:AE8F  E8 410F				call	sub_372			; (EFA1)
						assume	ds:seg_d
F000:AE92  2E: 8B 16 AEBC			mov	dx,cs:data_202		; (F000:AEBC=4F4h)
F000:AE97  06					push	es
F000:AE98  68 AE9C				push	0AE9Ch
F000:AE9B  CB					retf
							                        ;* No entry point to code
F000:AE9C  52					push	dx
F000:AE9D  E8 048C				call	sub_194			; (B32C)
F000:AEA0  B0 50				mov	al,50h			; 'P'
F000:AEA2  E8 3E4C				call	sub_363			; (ECF1)
F000:AEA5  5A					pop	dx
F000:AEA6  EA F000FFF0				jmp	far ptr power_on_reset	; (FFF0)
F000:AEAB			loc_739:					;  xref F000:AE64, AE6E
F000:AEAB  E8 393E				call	sub_334			; (E7EC)

F000:AEAE			loc_ret_740:					;  xref F000:AE50
F000:AEAE  C3					retn
				sub_181		endp

           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 179

							                        ;* No entry point to code
F000:AEAF  00 D0				add	al,dl
F000:AEB1  AE					scasb				; Scan es:[di] for al
F000:AEB2  00 F0				add	al,dh
F000:AEB4  C7 AE 00 F0				db	0C7h,0AEh, 00h,0F0h
F000:AEB8  02			data_199	db	2			;  xref F000:AF09, AF25, AF5B
F000:AEB9  10			data_200	db	10h			;  xref F000:AF30, AF6B, AF93
F000:AEBA  11BA			data_201	dw	11BAh			;  xref F000:AF1E, AF83
F000:AEBC  04F4			data_202	dw	4F4h			;  xref F000:AE92, AF8D
F000:AEBE  00 00				db	0, 0
F000:AEC0  0000			data_203	dw	0			;  xref F000:AF15, AF7A
F000:AEC2  02 FC AE 00 F0 41			db	 02h,0FCh,0AEh, 00h,0F0h, 41h
F000:AEC8  6D					db	 6Dh
F000:AEC9  0007[00]				db	7 dup (0)
F000:AED0  64 20 35 78 38 36			db	 64h, 20h, 35h, 78h, 38h, 36h
F000:AED6  000A[00]				db	10 dup (0)
F000:AEE0  41 6D 64 20 35 78			db	'Amd 5x86'
F000:AEE6  38 36
F000:AEE8  0008[00]				db	8 dup (0)
F000:AEF0  F9 AE 00 F0 F8 AE			db	0F9h,0AEh, 00h,0F0h,0F8h,0AEh
F000:AEF6  00 F0 00 00 FF FF			db	 00h,0F0h, 00h, 00h,0FFh,0FFh
F000:AEFC  01 00 02 00 04 00			db	 01h, 00h, 02h, 00h, 04h, 00h
F000:AF02  00 A8 00 00 00 00			db	 00h,0A8h, 00h, 00h, 00h, 00h
F000:AF08  08			data_207	db	8			;  xref F000:AF29, AF73
F000:AF09			loc_741:					;  xref F000:B417
F000:AF09 њ2E: 80 3E AEB8 FF			cmp	cs:data_199,0FFh	; (F000:AEB8=2)
F000:AF0F  74 3A				je	short loc_ret_742	; Jump if equal
F000:AF11  8E C4				mov	es,sp
F000:AF13  8E DE				mov	ds,si
F000:AF15  2E: 8B 0E AEC0			mov	cx,cs:data_203		; (F000:AEC0=0)
F000:AF1A  66| C1 E1 10				shl	ecx,10h			; Shift w/zeros fill
F000:AF1E  2E: 8B 0E AEBA			mov	cx,cs:data_201		; (F000:AEBA=11BAh)
F000:AF23  33 DB				xor	bx,bx			; Zero register
F000:AF25  2E: A0 AEB8				mov	al,cs:data_199		; (F000:AEB8=2)
F000:AF29  2E: F6 26 AF08			mul	cs:data_207		; (F000:AF08=8) ax = data * al
F000:AF2E  8B D8				mov	bx,ax
F000:AF30  2E: A0 AEB9				mov	al,cs:data_200		; (F000:AEB9=10h)
F000:AF34  2E: 8B 9F B031			mov	bx,cs:data_209[bx]	; (F000:B031=0B05Dh)
F000:AF39  90					nop
F000:AF3A  BC AF3F				mov	sp,0AF3Fh
F000:AF3D  FF E3				jmp	bx			;*
							                        ;* No entry point to code
F000:AF3F  41					inc	cx
F000:AF40  AF					scasw				; Scan es:[di] for ax
F000:AF41  8C DE				mov	si,ds
F000:AF43  8C C4				mov	sp,es
F000:AF45  33 C9				xor	cx,cx			; Zero register
F000:AF47  8E C1				mov	es,cx
F000:AF49  8E D9				mov	ds,cx

F000:AF4B			loc_ret_742:					;  xref F000:AF0F
F000:AF4B  C3					retn

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:B640
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 180

				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_182		proc	near
F000:AF4C			loc_743:					;  xref F000:B41F
F000:AF4C њBB 0000				mov	bx,offset data_83	; (F000:0000=0FFh)
F000:AF4F			loc_744:					;  xref F000:AFA1
F000:AF4F њ0F 01 E0				smsw	ax			; Store machine stat
F000:AF52  83 E0 01				and	ax,1
F000:AF55  B4 01				mov	ah,1
F000:AF57  75 43				jnz	short loc_747		; Jump if not zero
F000:AF59  B4 00				mov	ah,0
F000:AF5B  2E: A0 AEB8				mov	al,cs:data_199		; (F000:AEB8=2)
F000:AF5F  3C FF				cmp	al,0FFh
F000:AF61  75 06				jne	short loc_745		; Jump if not equal
F000:AF63  B4 02				mov	ah,2
F000:AF65  B0 00				mov	al,0
F000:AF67  EB 0A				jmp	short loc_746		; (AF73)
F000:AF69			loc_745:					;  xref F000:AF61
F000:AF69  B4 03				mov	ah,3
F000:AF6B  2E: 80 3E AEB9 FF			cmp	cs:data_200,0FFh	; (F000:AEB9=10h)
F000:AF71  74 29				je	short loc_747		; Jump if equal
F000:AF73			loc_746:					;  xref F000:AF67
F000:AF73  2E: F6 26 AF08			mul	cs:data_207		; (F000:AF08=8) ax = data * al
F000:AF78  03 D8				add	bx,ax
F000:AF7A  2E: 8B 0E AEC0			mov	cx,cs:data_203		; (F000:AEC0=0)
F000:AF7F  66| C1 E1 10				shl	ecx,10h			; Shift w/zeros fill
F000:AF83  2E: 8B 0E AEBA			mov	cx,cs:data_201		; (F000:AEBA=11BAh)
F000:AF88  F6 C1 03				test	cl,3
F000:AF8B  74 0F				jz	short loc_747		; Jump if zero
F000:AF8D  66| 2E: 8B 16 AEBC			mov	edx,dword ptr cs:data_202	; (F000:AEBC=4F4h)
F000:AF93  2E: A0 AEB9				mov	al,cs:data_200		; (F000:AEB9=10h)
F000:AF97  2E: FF A7 B02D			jmp	word ptr cs:data_208[bx]	;*(F000:B02D=0B06Fh)
F000:AF9C			loc_747:					;  xref F000:AF57, AF71, AF8B
F000:AF9C  F9					stc				; Set carry flag
F000:AF9D  C3					retn
				sub_182		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:B2EB, B62C
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_183		proc	near
F000:AF9E			loc_748:					;  xref F000:B44B
F000:AF9E њBB 0002				mov	bx,2
F000:AFA1  EB AC				jmp	short loc_744		; (AF4F)
				sub_183		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_184		proc	near
F000:AFA3  1E					push	ds
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 181

F000:AFA4  0E					push	cs
F000:AFA5  1F					pop	ds
F000:AFA6  66| 8B 3E FEB0			mov	edi,data_310		; (F000:FEB0=0AEFAh)
F000:AFAB  66| C1 C7 10				rol	edi,10h			; Rotate
F000:AFAF  66| 33 C9				xor	ecx,ecx			; Zero register
F000:AFB2  C5 36 FEA8				lds	si,dword ptr data_309	; (F000:FEA8=0AEB0h) Load 32 bit ptr
F000:AFB6  66| 33 DB				xor	ebx,ebx			; Zero register
F000:AFB9  8A 5C 08				mov	bl,[si+8]
F000:AFBC  8A 7C 09				mov	bh,[si+9]
F000:AFBF  8B 44 10				mov	ax,[si+10h]
F000:AFC2  66| C1 E0 10				shl	eax,10h			; Shift w/zeros fill
F000:AFC6  8B 44 0A				mov	ax,[si+0Ah]
F000:AFC9  66| 8B 54 0C				mov	edx,[si+0Ch]
F000:AFCD  66| C1 E6 10				shl	esi,10h			; Shift w/zeros fill
F000:AFD1  8C DE				mov	si,ds
F000:AFD3  1F					pop	ds
F000:AFD4  C3					retn
				sub_184		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_185		proc	near
F000:AFD5  1E					push	ds
F000:AFD6  56					push	si
F000:AFD7  0E					push	cs
F000:AFD8  1F					pop	ds
F000:AFD9  C5 36 FEA8				lds	si,dword ptr data_309	; (F000:FEA8=0AEB0h) Load 32 bit ptr
F000:AFDD  8B 54 0C				mov	dx,[si+0Ch]
F000:AFE0  5E					pop	si
F000:AFE1  1F					pop	ds
F000:AFE2  C3					retn
				sub_185		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_186		proc	near
F000:AFE3  06					push	es
F000:AFE4  1E					push	ds
F000:AFE5  56					push	si
F000:AFE6  0E					push	cs
F000:AFE7  1F					pop	ds
F000:AFE8  C5 36 FEA8				lds	si,dword ptr data_309	; (F000:FEA8=0AEB0h) Load 32 bit ptr
F000:AFEC  C4 04				les	ax,dword ptr [si]	; Load 32 bit ptr
F000:AFEE  8C C2				mov	dx,es
F000:AFF0  8B 5C 0A				mov	bx,[si+0Ah]
F000:AFF3  8A 4C 09				mov	cl,[si+9]
F000:AFF6  5E					pop	si
F000:AFF7  1F					pop	ds
F000:AFF8  07					pop	es
F000:AFF9  C3					retn
				sub_186		endp
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 182



				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_187		proc	near
F000:AFFA  06					push	es
F000:AFFB  1E					push	ds
F000:AFFC  56					push	si
F000:AFFD  0E					push	cs
F000:AFFE  1F					pop	ds
F000:AFFF  C5 36 FEA8				lds	si,dword ptr data_309	; (F000:FEA8=0AEB0h) Load 32 bit ptr
F000:B003  C4 44 04				les	ax,dword ptr [si+4]	; Load 32 bit ptr
F000:B006  8C C2				mov	dx,es
F000:B008  8A 5C 08				mov	bl,[si+8]
F000:B00B  5E					pop	si
F000:B00C  1F					pop	ds
F000:B00D  07					pop	es
F000:B00E  C3					retn
				sub_187		endp

F000:B00F  00 F9 C3 F9 C3 C3			db	 00h,0F9h,0C3h,0F9h,0C3h,0C3h
F000:B015  21 10 01 00 A1 92			db	 21h, 10h, 01h, 00h,0A1h, 92h
F000:B01B  81 00 21 10 01 00			db	 81h, 00h, 21h, 10h, 01h, 00h
F000:B021  A1 92 81 00 21 10			db	0A1h, 92h, 81h, 00h, 21h, 10h
F000:B027  01 00 A1 92 81 00			db	 01h, 00h,0A1h, 92h, 81h, 00h
F000:B02D  B06F			data_208	dw	0B06Fh			; Data table (indexed access)
										;  xref F000:AF97
F000:B02F  7D B0				db	 7Dh,0B0h
F000:B031  B05D			data_209	dw	0B05Dh			; Data table (indexed access)
										;  xref F000:AF34
F000:B033  00 00 99 B1 A7 B1			db	 00h, 00h, 99h,0B1h,0A7h,0B1h
F000:B039  A9 B0 00 00 F2 B1			db	0A9h,0B0h, 00h, 00h,0F2h,0B1h
F000:B03F  F5 B1 EF B1 00 00			db	0F5h,0B1h,0EFh,0B1h, 00h, 00h
F000:B045  10 B0 12 B0 14 B0			db	 10h,0B0h, 12h,0B0h, 14h,0B0h
F000:B04B  00 00 01 B2 03 B2			db	 00h, 00h, 01h,0B2h, 03h,0B2h
F000:B051  F8 B1 00 00 6F B0			db	0F8h,0B1h, 00h, 00h, 6Fh,0B0h
F000:B057  7D B0 5D B0 00 00			db	 7Dh,0B0h, 5Dh,0B0h, 00h, 00h
F000:B05D			loc_749:					;  xref F000:B1EF
F000:B05D њ3C FF				cmp	al,0FFh
F000:B05F  74 0D				je	short loc_ret_750	; Jump if equal
F000:B061  F6 C1 03				test	cl,3
F000:B064  75 08				jnz	short loc_ret_750	; Jump if not zero
F000:B066  0F 20 C0				mov	eax,cr0			; Mov reg-control reg
F000:B069  0C 10				or	al,10h
F000:B06B  0F 22 C0				mov	cr0,eax			; Mov reg-control reg

F000:B06E			loc_ret_750:					;  xref F000:B05F, B064
F000:B06E  C3					retn
							                        ;* No entry point to code
F000:B06F  0F 20 C0				mov	eax,cr0			; Mov reg-control reg
F000:B072  66| 25 9FFFFFFF			and	eax,9FFFFFFFh
F000:B078  0F 22 C0				mov	cr0,eax			; Mov reg-control reg
F000:B07B  F8					clc				; Clear carry flag
F000:B07C  C3					retn
							                        ;* No entry point to code
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 183

F000:B07D  0F 20 C0				mov	eax,cr0			; Mov reg-control reg
F000:B080  66| 0D 60000000			or	eax,60000000h
F000:B086  0F 22 C0				mov	cr0,eax			; Mov reg-control reg
F000:B089  0F 09				wbinvd				; Write-Back &inv csh
F000:B08B  F8					clc				; Clear carry flag
F000:B08C  C3					retn
F000:B08D  FF			data_210	db	0FFh			; Data table (indexed access)
										;  xref F000:B100
F000:B08E  FF 00 00 00 11 77			db	0FFh, 00h, 00h, 00h, 11h, 77h
F000:B094  00 00 1F FE 03 02			db	 00h, 00h, 1Fh,0FEh, 03h, 02h
F000:B09A  9E 9C F3 C1 02 C2			db	 9Eh, 9Ch,0F3h,0C1h, 02h,0C2h
F000:B0A0  84 C3 10 20 80 E8			db	 84h,0C3h, 10h, 20h, 80h,0E8h
F000:B0A6  18 C3				db	 18h,0C3h
F000:B0A8  08					db	8
F000:B0A9  3C			data_211	db	3Ch			;  xref F000:B124
F000:B0AA  FF 75 03 E9 AB 00			db	0FFh, 75h, 03h,0E9h,0ABh, 00h
F000:B0B0			loc_751:
F000:B0B0  FC					cld				; Clear direction
F000:B0B1  8B D4				mov	dx,sp
F000:B0B3  BF B015				mov	di,0B015h
F000:B0B6  F6 C1 80				test	cl,80h
F000:B0B9  74 36				jz	short loc_754		; Jump if zero
F000:B0BB  2E: 8B 1E FEA8			mov	bx,cs:data_309		; (F000:FEA8=0AEB0h)
F000:B0C0  2E: 8A 67 08				mov	ah,cs:[bx+8]
F000:B0C4  2E: 8B 5F 13				mov	bx,cs:[bx+13h]
F000:B0C8  2E: 8A 07				mov	al,cs:[bx]
F000:B0CB  83 C3 02				add	bx,2
F000:B0CE			loc_752:					;  xref F000:B0D8
F000:B0CE  2E: 38 27				cmp	cs:[bx],ah
F000:B0D1  74 09				je	short loc_753		; Jump if equal
F000:B0D3  83 C3 08				add	bx,8
F000:B0D6  FE C8				dec	al
F000:B0D8  75 F4				jnz	loc_752			; Jump if not zero
F000:B0DA  EB 15				jmp	short loc_754		; (B0F1)
F000:B0DC			loc_753:					;  xref F000:B0D1
F000:B0DC  2E: 8B 47 02				mov	ax,cs:[bx+2]
F000:B0E0  66| 2E: 8B 5F 04			mov	ebx,cs:[bx+4]
F000:B0E5  0B C0				or	ax,ax			; Zero ?
F000:B0E7  74 08				jz	short loc_754		; Jump if zero
F000:B0E9 њBF B0EE				mov	di,offset data_212	; (F000:B0EE=0BFh)
F000:B0EC  EB 6E				jmp	short loc_764		; (B15C)
F000:B0EE  BF			data_212	db	0BFh			;  xref F000:B0E9
F000:B0EF  19 B0				db	 19h,0B0h
F000:B0F1			loc_754:					;  xref F000:B0B9, B0DA, B0E7
F000:B0F1  8B F1				mov	si,cx
F000:B0F3  81 E6 0E00				and	si,0E00h
F000:B0F7  8B DE				mov	bx,si
F000:B0F9  C1 EE 07				shr	si,7			; Shift w/zeros fill
F000:B0FC  B3 04				mov	bl,4
F000:B0FE  B0 C0				mov	al,0C0h
F000:B100			loc_755:					;  xref F000:B11A
F000:B100  2E: 8A A4 B08D			mov	ah,cs:data_210[si]	; (F000:B08D=0FFh)
F000:B105  0A E4				or	ah,ah			; Zero ?
F000:B107  74 0B				jz	short loc_756		; Jump if zero
F000:B109  2E: 22 25				and	ah,cs:[di]
F000:B10C њBC B112				mov	sp,offset data_213	; (F000:B112=14h)
F000:B10F  E9 00B7				jmp	loc_770			; (B1C9)
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 184

F000:B112  B114			data_213	dw	offset loc_756		;  xref F000:B10C
F000:B114			loc_756:					;  xref F000:B107, B112
F000:B114  46					inc	si
F000:B115  47					inc	di
F000:B116  FE C0				inc	al
F000:B118  FE CB				dec	bl
F000:B11A  75 E4				jnz	loc_755			; Jump if not zero
F000:B11C  80 FF 06				cmp	bh,6
F000:B11F  75 15				jne	short loc_759		; Jump if not equal
F000:B121  BE B09D				mov	si,0B09Dh
F000:B124			loc_757:					;  xref F000:B134
F000:B124 њ81 FE B0A9				cmp	si,offset data_211	; (F000:B0A9=3Ch)
F000:B128  74 0C				je	short loc_759		; Jump if equal
F000:B12A  2E: AD				lods	word ptr cs:[si]	; String [si] to ax
F000:B12C њBC B132				mov	sp,offset data_214	; (F000:B132=34h)
F000:B12F  E9 0097				jmp	loc_770			; (B1C9)
F000:B132  B134			data_214	dw	offset loc_758		;  xref F000:B12C
F000:B134			loc_758:					;  xref F000:B132
F000:B134  EB EE				jmp	short loc_757		; (B124)
F000:B136			loc_759:					;  xref F000:B11F, B128
F000:B136  80 FF 02				cmp	bh,2
F000:B139  75 1E				jne	short loc_762		; Jump if not equal
F000:B13B  90					nop
F000:B13C њBC B142				mov	sp,offset data_215	; (F000:B142=44h)
F000:B13F  E9 00E2				jmp	loc_771			; (B224)
F000:B142  B144			data_215	dw	offset loc_760		;  xref F000:B13C
F000:B144			loc_760:					;  xref F000:B142
F000:B144  74 13				jz	short loc_762		; Jump if zero
F000:B146  B0 C2				mov	al,0C2h
F000:B148 њBC B14D				mov	sp,offset data_216	; (F000:B14D=4Fh)
F000:B14B  EB 6A				jmp	short loc_769		; (B1B7)
F000:B14D  B14F			data_216	dw	offset loc_761		;  xref F000:B148
F000:B14F			loc_761:					;  xref F000:B14D
F000:B14F  80 E4 FE				and	ah,0FEh
F000:B152 њBC B157				mov	sp,offset data_217	; (F000:B157=59h)
F000:B155  EB 72				jmp	short loc_770		; (B1C9)
F000:B157  B159			data_217	dw	offset loc_762		;  xref F000:B152
F000:B159			loc_762:					;  xref F000:B139, B144, B157
F000:B159  8B E2				mov	sp,dx

F000:B15B			loc_ret_763:
F000:B15B  C3					retn
F000:B15C			loc_764:					;  xref F000:B0EC
F000:B15C  66| C1 EB 04				shr	ebx,4			; Shift w/zeros fill
F000:B160  80 E3 F0				and	bl,0F0h
F000:B163  24 0F				and	al,0Fh
F000:B165  0A D8				or	bl,al
F000:B167  B0 CF				mov	al,0CFh
F000:B169  8A E3				mov	ah,bl
F000:B16B  90					nop
F000:B16C њBC B171				mov	sp,offset data_218	; (F000:B171=73h)
F000:B16F  EB 58				jmp	short loc_770		; (B1C9)
F000:B171  B173			data_218	dw	offset loc_765		;  xref F000:B16C
F000:B173			loc_765:					;  xref F000:B171
F000:B173  FE C8				dec	al
F000:B175  66| C1 EB 08				shr	ebx,8			; Shift w/zeros fill
F000:B179  8A E3				mov	ah,bl
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 185

F000:B17B  90					nop
F000:B17C њBC B181				mov	sp,offset data_219	; (F000:B181=83h)
F000:B17F  EB 48				jmp	short loc_770		; (B1C9)
F000:B181  B183			data_219	dw	offset loc_766		;  xref F000:B17C
F000:B183			loc_766:					;  xref F000:B181
F000:B183  F6 C1 60				test	cl,60h			; '`'
F000:B186  74 0F				jz	short loc_767		; Jump if zero
F000:B188  FE C8				dec	al
F000:B18A  66| C1 EB 08				shr	ebx,8			; Shift w/zeros fill
F000:B18E  8A E3				mov	ah,bl
F000:B190 њBC B195				mov	sp,offset data_220	; (F000:B195=97h)
F000:B193  EB 34				jmp	short loc_770		; (B1C9)
F000:B195  B197			data_220	dw	offset loc_767		;  xref F000:B190
F000:B197			loc_767:					;  xref F000:B186, B195
F000:B197  FF E7				jmp	di			;*Register jump
F000:B199			loc_768:
F000:B199 њ0F 20 C0				mov	eax,cr0			; Mov reg-control reg
F000:B19C  66| 25 9FFFFFFF			and	eax,9FFFFFFFh
F000:B1A2  0F 22 C0				mov	cr0,eax			; Mov reg-control reg
F000:B1A5  F8					clc				; Clear carry flag
F000:B1A6  C3					retn
							                        ;* No entry point to code
F000:B1A7  0F 20 C0				mov	eax,cr0			; Mov reg-control reg
F000:B1AA  66| 0D 40000000			or	eax,40000000h
F000:B1B0  0F 22 C0				mov	cr0,eax			; Mov reg-control reg
F000:B1B3  0F 09				wbinvd				; Write-Back &inv csh
F000:B1B5  F8					clc				; Clear carry flag
F000:B1B6  C3					retn
F000:B1B7			loc_769:					;  xref F000:B14B
F000:B1B7  FA					cli				; Disable interrupts
F000:B1B8  E6 22				out	22h,al			; port 22h, C&T NEAT,Index Reg
F000:B1BA  E3 00				jcxz	short $+2		; delay for I/O
F000:B1BC  E3 00				jcxz	short $+2		; delay for I/O
F000:B1BE  8A E0				mov	ah,al
F000:B1C0  E4 23				in	al,23h			; port 23h, C&T NEAT, Data Reg
F000:B1C2  E3 00				jcxz	short $+2		; delay for I/O
F000:B1C4  E3 00				jcxz	short $+2		; delay for I/O
F000:B1C6  86 C4				xchg	al,ah
F000:B1C8  C3					retn
F000:B1C9			loc_770:					;  xref F000:B10F, B12F, B155, B16F
										;            B17F, B193
F000:B1C9  FA					cli				; Disable interrupts
F000:B1CA  E6 22				out	22h,al			; port 22h, C&T NEAT,Index Reg
F000:B1CC  E3 00				jcxz	short $+2		; delay for I/O
F000:B1CE  E3 00				jcxz	short $+2		; delay for I/O
F000:B1D0  86 C4				xchg	al,ah
F000:B1D2  E6 23				out	23h,al			; port 23h, C&T NEAT, Data Reg
F000:B1D4  E3 00				jcxz	short $+2		; delay for I/O
F000:B1D6  E3 00				jcxz	short $+2		; delay for I/O
F000:B1D8  86 C4				xchg	al,ah
F000:B1DA  C3					retn
							                        ;* No entry point to code
F000:B1DB  FA					cli				; Disable interrupts
F000:B1DC  8A E0				mov	ah,al
F000:B1DE  B0 C0				mov	al,0C0h
F000:B1E0  E6 22				out	22h,al			; port 22h, C&T NEAT,Index Reg
F000:B1E2  E3 00				jcxz	short $+2		; delay for I/O
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 186

F000:B1E4  E3 00				jcxz	short $+2		; delay for I/O
F000:B1E6  E4 23				in	al,23h			; port 23h, C&T NEAT, Data Reg
F000:B1E8  E3 00				jcxz	short $+2		; delay for I/O
F000:B1EA  E3 00				jcxz	short $+2		; delay for I/O
F000:B1EC  8A C4				mov	al,ah
F000:B1EE  C3					retn
							                        ;* No entry point to code
F000:B1EF  E9 FE6B				jmp	loc_749			; (B05D)
F000:B1F2  E9 7A FE E9 85 FE			db	0E9h, 7Ah,0FEh,0E9h, 85h,0FEh
F000:B1F8  3C FF 74 04 FC E9			db	 3Ch,0FFh, 74h, 04h,0FCh,0E9h
F000:B1FE  A9 FE C3 EB 96 EB			db	0A9h,0FEh,0C3h,0EBh, 96h,0EBh
F000:B204  A2 00 02 01 03 01			db	0A2h, 00h, 02h, 01h, 03h, 01h
F000:B20A  04					db	 04h
F000:B20B  08 08 08 08 08 0A			db	 08h, 08h, 08h, 08h, 08h, 0Ah
F000:B211  2F					db	 2Fh
F000:B212  0007[00]				db	7 dup (0)
F000:B219  43 50 55 2D 31 2E			db	'CPU-1.01 '
F000:B21F  30 31 20
F000:B222  00 00				db	0, 0
F000:B224			loc_771:					;  xref F000:B13F
F000:B224  B8 3C69				mov	ax,3C69h
F000:B227  DB E3				fninit				; Initialize math uP
F000:B229  DF E0				fnstsw	ax			; Store status word
F000:B22B  0A C0				or	al,al			; Zero ?
F000:B22D  C3					retn
F000:B22E  00 00 00 00 00 E9			db	 00h, 00h, 00h, 00h, 00h,0E9h
F000:B234  01 02 25 FF 00 3C			db	 01h, 02h, 25h,0FFh, 00h, 3Ch
F000:B23A  80 73 14 2C 40 E8			db	 80h, 73h, 14h, 2Ch, 40h,0E8h
F000:B240  2A 00 CB 14 25 33			db	 2Ah, 00h,0CBh, 14h, 25h, 33h
F000:B246  40 50 24 66 75 80			db	 40h, 50h, 24h, 66h, 75h, 80h
F000:B24C  A0 50 51 56 A4 2C			db	0A0h, 50h, 51h, 56h,0A4h, 2Ch
F000:B252  80 B1 05 F6 F1 BB			db	 80h,0B1h, 05h,0F6h,0F1h,0BBh
F000:B258  43 B2 0A E4 74 07			db	 43h,0B2h, 0Ah,0E4h, 74h, 07h
F000:B25E  BB 4D B2 8A C4 FE			db	0BBh, 4Dh,0B2h, 8Ah,0C4h,0FEh
F000:B264  C8					db	0C8h
F000:B265			loc_772:
F000:B265  98					cbw				; Convrt byte to word
F000:B266  03 D8				add	bx,ax
F000:B268  2E: 8A 07				mov	al,cs:[bx]
F000:B26B  CB					retf
							                        ;* No entry point to code
F000:B26C  53					push	bx
F000:B26D њBB B274				mov	bx,offset data_222	; (F000:B274=40h)
F000:B270  2E: D7				xlat	cs:[bx]			; al=[al+[bx]] table
F000:B272  5B					pop	bx
F000:B273  C3					retn
F000:B274  40 41 42 43 44 45	data_222	db	'@ABCDEFGPQRSTUVWpqrstuv'	;  xref F000:B26D
F000:B27A  46 47 50 51 52 53
F000:B280  54 55 56 57 70 71
F000:B286  72 73 74 75 76
F000:B28B  80 81 90 91 92 A0			db	 80h, 81h, 90h, 91h, 92h,0A0h
F000:B291  A1 A2 A3 A4 A5 A6			db	0A1h,0A2h,0A3h,0A4h,0A5h,0A6h
F000:B297  A7 A8				db	0A7h,0A8h
F000:B299  50 51 52 53 54 55			db	'PQRSTUVWXYZ[\]^_`a'
F000:B29F  56 57 58 59 5A 5B
F000:B2A5  5C 5D 5E 5F 60 61
F000:B2AB  F9 C3 F8 C3				db	0F9h,0C3h,0F8h,0C3h
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 187


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:EC10
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_188		proc	near
F000:B2AF  E8 397C				call	sub_353			; (EC2E)
F000:B2B2  2E: A0 B85E				mov	al,cs:data_234		; (F000:B85E=2)
F000:B2B6  75 30				jnz	short loc_773		; Jump if not zero
F000:B2B8  B0 AD				mov	al,0ADh
F000:B2BA  E8 3924				call	sub_348			; (EBE1)
F000:B2BD  60					pusha				; Save all regs
F000:B2BE  24 08				and	al,8
F000:B2C0  D0 E0				shl	al,1			; Shift w/zeros fill
F000:B2C2  8A D8				mov	bl,al
F000:B2C4  B8 5A5A				mov	ax,5A5Ah
F000:B2C7  B7 EF				mov	bh,0EFh
F000:B2C9  E8 04BB				call	sub_219			; (B787)
F000:B2CC  C0 C3 04				rol	bl,4			; Rotate
F000:B2CF  B8 0505				mov	ax,505h
F000:B2D2  B7 FE				mov	bh,0FEh
F000:B2D4  E8 04B0				call	sub_219			; (B787)
F000:B2D7  F6 D3				not	bl
F000:B2D9  80 E3 01				and	bl,1
F000:B2DC  C0 CB 02				ror	bl,2			; Rotate
F000:B2DF  B8 4141				mov	ax,4141h
F000:B2E2  B7 BF				mov	bh,0BFh
F000:B2E4  E8 04B1				call	sub_220			; (B798)
F000:B2E7  61					popa				; Restore all regs
F000:B2E8			loc_773:					;  xref F000:B2B6
F000:B2E8  24 08				and	al,8
F000:B2EA  C3					retn
				sub_188		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:AE7F
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_189		proc	near
F000:B2EB  E8 FCB0				call	sub_183			; (AF9E)
F000:B2EE  C3					retn
				sub_189		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:C6DB
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_190		proc	near
F000:B2EF  66| 50				push	eax
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 188

F000:B2F1  60					pusha				; Save all regs
F000:B2F2  B8 5454				mov	ax,5454h
F000:B2F5  BB FE00				mov	bx,0FE00h
F000:B2F8  E8 048C				call	sub_219			; (B787)
F000:B2FB  B8 5555				mov	ax,5555h
F000:B2FE  E8 04A4				call	sub_221			; (B7A5)
F000:B301  24 7F				and	al,7Fh
F000:B303  EB 1E				jmp	short loc_774		; (B323)

				;пппп External Entry into Subroutine пппппппппппппппппппппппппппппппппппппп
				;
				;         Called from:   F000:C730

				sub_191:
F000:B305  66| 50				push	eax
F000:B307  60					pusha				; Save all regs
F000:B308  B8 5454				mov	ax,5454h
F000:B30B  BB FF01				mov	bx,0FF01h
F000:B30E  E8 0476				call	sub_219			; (B787)
F000:B311  B8 5555				mov	ax,5555h
F000:B314  E8 048E				call	sub_221			; (B7A5)
F000:B317  0C 80				or	al,80h
F000:B319  EB 08				jmp	short loc_774		; (B323)

				;пппп External Entry into Subroutine пппппппппппппппппппппппппппппппппппппп
				;
				;         Called from:   F000:C733

				sub_192:
F000:B31B  E8 0028				call	sub_195			; (B346)
F000:B31E  C3					retn

				;пппп External Entry into Subroutine пппппппппппппппппппппппппппппппппппппп
				;
				;         Called from:   F000:C741

				sub_193:
F000:B31F  E8 0031				call	sub_196			; (B353)
F000:B322  C3					retn
F000:B323			loc_774:					;  xref F000:B303, B319, B337, B344
										;            B351, B35E
F000:B323 њ86 C4				xchg	al,ah
F000:B325  E8 04BB				call	sub_223			; (B7E3)
F000:B328  61					popa				; Restore all regs
F000:B329  66| 58				pop	eax
F000:B32B  C3					retn
				sub_190		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:AE9D, C6D8
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_194		proc	near
F000:B32C  66| 50				push	eax
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 189

F000:B32E  60					pusha				; Save all regs
F000:B32F  B8 5555				mov	ax,5555h
F000:B332  E8 0470				call	sub_221			; (B7A5)
F000:B335  24 7F				and	al,7Fh
F000:B337  EB EA				jmp	short loc_774		; (B323)
				sub_194		endp

							                        ;* No entry point to code
F000:B339  66| 50				push	eax
F000:B33B  60					pusha				; Save all regs
F000:B33C  B8 5555				mov	ax,5555h
F000:B33F  E8 0463				call	sub_221			; (B7A5)
F000:B342  0C 80				or	al,80h
F000:B344  EB DD				jmp	short loc_774		; (B323)

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:B31B, C871
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_195		proc	near
F000:B346  66| 50				push	eax
F000:B348  60					pusha				; Save all regs
F000:B349  B8 5555				mov	ax,5555h
F000:B34C  E8 0456				call	sub_221			; (B7A5)
F000:B34F  24 BF				and	al,0BFh
F000:B351  EB D0				jmp	short loc_774		; (B323)
				sub_195		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:B31F, C87F
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_196		proc	near
F000:B353  66| 50				push	eax
F000:B355  60					pusha				; Save all regs
F000:B356  B8 5555				mov	ax,5555h
F000:B359  E8 0449				call	sub_221			; (B7A5)
F000:B35C  0C 40				or	al,40h			; '@'
F000:B35E  EB C3				jmp	short loc_774		; (B323)
				sub_196		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:A97E
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_197		proc	near
F000:B360  B4 E3				mov	ah,0E3h
F000:B362  52					push	dx
F000:B363  50					push	ax
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 190

F000:B364  E8 F61D				call	sub_154			; (A984)
F000:B367  58					pop	ax
F000:B368  5A					pop	dx
F000:B369  C3					retn
				sub_197		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:E84B
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_198		proc	near
F000:B36A  52					push	dx
F000:B36B  2E: 8B 16 8278			mov	dx,cs:data_124		; (F000:8278=1F0h)
F000:B370  83 C2 07				add	dx,7
F000:B373  EC					in	al,dx			; port 1F7h, hdsk0-status reg
F000:B374  5A					pop	dx
F000:B375  C3					retn
				sub_198		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:E86B
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_199		proc	near
F000:B376  52					push	dx
F000:B377  2E: 8B 16 827C			mov	dx,cs:data_126		; (F000:827C=170h)
F000:B37C  83 C2 07				add	dx,7
F000:B37F  EC					in	al,dx			; port 177h, hdsk1-status reg
F000:B380  5A					pop	dx
F000:B381  C3					retn
				sub_199		endp

F000:B382			loc_775:					;  xref F000:E1A0
F000:B382  50					push	ax
						assume	ds:seg_b
F000:B383  A0 0012				mov	al,manufactr_test	; (0040:0012=0F2h)
F000:B386  A8 20				test	al,20h			; ' '
F000:B388  58					pop	ax
F000:B389  74 03				jz	short loc_776		; Jump if zero
F000:B38B  E9 3CDC				jmp	ROM_exception		; (F06A)
F000:B38E			loc_776:					;  xref F000:B389
F000:B38E  50					push	ax
F000:B38F  B0 20				mov	al,20h			; ' '
F000:B391  E6 20				out	20h,al			; port 20h, 8259-1 int command
										;  al = 20h, end of interrupt
F000:B393  58					pop	ax
F000:B394  CF					iret				; Interrupt return
F000:B395			loc_777:					;  xref F000:E089
F000:B395 њ0B E4				or	sp,sp			; Zero ?
F000:B397  E9 2CF2				jmp	loc_1160		; (E08C)
F000:B39A			loc_778:					;  xref F000:87F2
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 191

F000:B39A  E9 D458				jmp	loc_285			; (87F5)
F000:B39D  C3					db	0C3h
F000:B39E			loc_779:					;  xref F000:8372
F000:B39E  E4 64				in	al,64h			; port 64h, keyboard status
F000:B3A0  A8 04				test	al,4
F000:B3A2  E9 CFD0				jmp	loc_227			; (8375)
F000:B3A5			loc_780:					;  xref F000:8377
F000:B3A5  B0 54				mov	al,54h			; 'T'
F000:B3A7  E6 43				out	43h,al			; port 43h, 8253 timer control
F000:B3A9  E3 00				jcxz	short $+2		; delay for I/O
F000:B3AB  E3 00				jcxz	short $+2		; delay for I/O
F000:B3AD  B0 12				mov	al,12h
F000:B3AF  E6 41				out	41h,al			; port 41h, 8253 timer 1 refsh
F000:B3B1  E3 00				jcxz	short $+2		; delay for I/O
F000:B3B3  E3 00				jcxz	short $+2		; delay for I/O
F000:B3B5  B9 0400				mov	cx,400h
F000:B3B8  33 FF				xor	di,di			; Zero register

F000:B3BA			locloop_781:					;  xref F000:B3BB
F000:B3BA  AA					stosb				; Store al to es:[di]
F000:B3BB  E2 FD				loop	locloop_781		; Loop if cx > 0

F000:B3BD  E9 D028				jmp	loc_234			; (83E8)
F000:B3C0			loc_782:					;  xref F000:837A
F000:B3C0  B9 0800				mov	cx,800h

F000:B3C3			locloop_783:					;  xref F000:B3C3
F000:B3C3  E2 FE				loop	locloop_783		; Loop if cx > 0

F000:B3C5  8C C8				mov	ax,cs
F000:B3C7  8E D0				mov	ss,ax
F000:B3C9  0F 01 E0				smsw	ax			; Store machine stat
F000:B3CC  A8 01				test	al,1
F000:B3CE  74 17				jz	short loc_786		; Jump if zero
F000:B3D0  B8 008F				mov	ax,8Fh
F000:B3D3  90					nop
F000:B3D4 њBC B3DA				mov	sp,offset data_223	; (F000:B3DA=0DCh)
F000:B3D7  E9 3810				jmp	loc_1242		; (EBEA)
F000:B3DA  B3DC			data_223	dw	offset loc_784		;  xref F000:B3D4
F000:B3DC			loc_784:					;  xref F000:B3DA
F000:B3DC њBC B3E2				mov	sp,offset data_224	; (F000:B3E2=0E4h)
F000:B3DF  E9 3930				jmp	loc_1262		; (ED12)
F000:B3E2  B3E4			data_224	dw	offset loc_785		;  xref F000:B3DC
F000:B3E4			loc_785:					;  xref F000:B3E2
F000:B3E4  E9 00C0				jmp	loc_800			; (B4A7)
F000:B3E7			loc_786:					;  xref F000:B3CE
F000:B3E7  E9 CF93				jmp	loc_229			; (837D)
F000:B3EA  E9 FF CF E9 FC CF			db	0E9h,0FFh,0CFh,0E9h,0FCh,0CFh
F000:B3F0			loc_787:					;  xref F000:83B8
F000:B3F0  2E: F6 06 8281 40			test	cs:data_129,40h		; (F000:8281=0) '@'
F000:B3F6  75 2C				jnz	short loc_791		; Jump if not zero
F000:B3F8  8B C6				mov	ax,si
F000:B3FA  3C 05				cmp	al,5
F000:B3FC  74 08				je	short loc_788		; Jump if equal
F000:B3FE  3C 09				cmp	al,9
F000:B400  74 04				je	short loc_788		; Jump if equal
F000:B402  3C 0A				cmp	al,0Ah
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 192

F000:B404  75 1E				jne	short loc_791		; Jump if not equal
F000:B406			loc_788:					;  xref F000:B3FC, B400
F000:B406  B0 FB				mov	al,0FBh
F000:B408 њBC B40E				mov	sp,offset data_225	; (F000:B40E=10h)
F000:B40B  E9 37D3				jmp	loc_1241		; (EBE1)
F000:B40E  B410			data_225	dw	offset loc_789		;  xref F000:B408
F000:B410			loc_789:					;  xref F000:B40E
F000:B410  3C 01				cmp	al,1
F000:B412  74 08				je	short loc_790		; Jump if equal
F000:B414 њBC B41A				mov	sp,offset data_226	; (F000:B41A=1Ch)
F000:B417  E9 FAEF				jmp	loc_741			; (AF09)
F000:B41A  B41C			data_226	dw	offset loc_790		;  xref F000:B414
F000:B41C			loc_790:					;  xref F000:B412, B41A
F000:B41C њBC B422				mov	sp,offset data_227	; (F000:B422=24h)
F000:B41F  E9 FB2A				jmp	loc_743			; (AF4C)
F000:B422  B424			data_227	dw	offset loc_791		;  xref F000:B41C
F000:B424			loc_791:					;  xref F000:B3F6, B404, B422
F000:B424  32 C0				xor	al,al			; Zero register
F000:B426  E9 CF92				jmp	loc_232			; (83BB)
							                        ;* No entry point to code
F000:B429  B0 EE				mov	al,0EEh
F000:B42B  E6 80				out	80h,al			; port 80h, POST checkpoint
F000:B42D  B8 5656				mov	ax,5656h
F000:B430 њBC B436				mov	sp,offset data_228	; (F000:B436=38h)
F000:B433  E9 E775				jmp	loc_516			; (9BAB)
F000:B436  B438			data_228	dw	offset loc_792		;  xref F000:B430
F000:B438			loc_792:					;  xref F000:B436
F000:B438  0C 0C				or	al,0Ch
F000:B43A  86 C4				xchg	al,ah
F000:B43C њBC B442				mov	sp,offset data_229	; (F000:B442=44h)
F000:B43F  E9 E795				jmp	loc_517			; (9BD7)
F000:B442  B444			data_229	dw	offset loc_793		;  xref F000:B43C
F000:B444			loc_793:					;  xref F000:B442
F000:B444  B0 EF				mov	al,0EFh
F000:B446  E6 80				out	80h,al			; port 80h, POST checkpoint
F000:B448 њBC B44E				mov	sp,offset data_230	; (F000:B44E=50h)
F000:B44B  E9 FB50				jmp	loc_748			; (AF9E)
F000:B44E  B450			data_230	dw	offset loc_794		;  xref F000:B448
F000:B450			loc_794:					;  xref F000:B44E
F000:B450  B0 F0				mov	al,0F0h
F000:B452  E6 80				out	80h,al			; port 80h, POST checkpoint
F000:B454  B8 5050				mov	ax,5050h
F000:B457  90					nop
F000:B458 њBC B45E				mov	sp,offset data_231	; (F000:B45E=60h)
F000:B45B  E9 0347				jmp	loc_833			; (B7A5)
F000:B45E  B460			data_231	dw	offset loc_795		;  xref F000:B458
F000:B460			loc_795:					;  xref F000:B45E
F000:B460  24 3F				and	al,3Fh			; '?'
F000:B462  86 C4				xchg	al,ah
F000:B464 њBC B46A				mov	sp,offset data_232	; (F000:B46A=6Ch)
F000:B467  E9 0379				jmp	loc_835			; (B7E3)
F000:B46A  B46C			data_232	dw	offset loc_796		;  xref F000:B464
F000:B46C			loc_796:					;  xref F000:B46A
F000:B46C  B0 F1				mov	al,0F1h
F000:B46E  E6 80				out	80h,al			; port 80h, POST checkpoint
F000:B470  B8 0054				mov	ax,54h
F000:B473  90					nop
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 193

F000:B474 њBC B47A				mov	sp,offset data_233	; (F000:B47A=7Ch)
F000:B477  E9 0369				jmp	loc_835			; (B7E3)
F000:B47A  B47C			data_233	dw	offset loc_797		;  xref F000:B474
F000:B47C			loc_797:					;  xref F000:B47A
F000:B47C  B0 F2				mov	al,0F2h
F000:B47E  E6 80				out	80h,al			; port 80h, POST checkpoint
F000:B480  E9 CF9D				jmp	loc_239			; (8420)

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:8467
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_200		proc	near
F000:B483  2E: F6 06 8270 01			test	cs:data_123,1		; (F000:8270=41h)
F000:B489  74 07				jz	short loc_798		; Jump if zero
F000:B48B  B0 02				mov	al,2
F000:B48D  E6 92				out	92h,al			; port 92h, system cntrl bits
F000:B48F  3B E4				cmp	sp,sp
F000:B491  C3					retn
F000:B492			loc_798:					;  xref F000:B489
F000:B492  E9 387D				jmp	loc_1262		; (ED12)
				sub_200		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:850C, 8554, 8589
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_201		proc	near
F000:B495  2E: F6 06 8270 01			test	cs:data_123,1		; (F000:8270=41h)
F000:B49B  74 07				jz	short loc_799		; Jump if zero
F000:B49D  B0 00				mov	al,0
F000:B49F  E6 92				out	92h,al			; port 92h, system cntrl bits
F000:B4A1  3B E4				cmp	sp,sp
F000:B4A3  C3					retn
F000:B4A4			loc_799:					;  xref F000:B49B
F000:B4A4  E9 386F				jmp	loc_1263		; (ED16)
				sub_201		endp

F000:B4A7			loc_800:					;  xref F000:B3E4, F073
F000:B4A7 њFA					cli				; Disable interrupts
F000:B4A8  FA					cli				; Disable interrupts
F000:B4A9  33 C9				xor	cx,cx			; Zero register

F000:B4AB			locloop_801:					;  xref F000:B4B1
F000:B4AB  E3 00				jcxz	short $+2		; delay for I/O
F000:B4AD  E4 64				in	al,64h			; port 64h, keyboard status
F000:B4AF  A8 02				test	al,2
F000:B4B1  E0 F8				loopnz	locloop_801		; Loop if zf=0, cx>0

F000:B4B3  B0 FE				mov	al,0FEh
F000:B4B5  E6 64				out	64h,al			; port 64h, kybd cntrlr functn
										;  al = 0FEh, pulse CPU reset
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 194

F000:B4B7			loc_802:					;  xref F000:B4B8
F000:B4B7 њF4					hlt				; Halt processor
F000:B4B8  EB FD				jmp	short loc_802		; (B4B7)

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:859B
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_202		proc	near
F000:B4BA  80 FC 24				cmp	ah,24h			; '$'
F000:B4BD  75 0E				jne	short loc_803		; Jump if not equal
F000:B4BF  3C 03				cmp	al,3
F000:B4C1  75 0A				jne	short loc_803		; Jump if not equal
F000:B4C3  5B					pop	bx
F000:B4C4  BB 0002				mov	bx,2
F000:B4C7  FB					sti				; Enable interrupts
F000:B4C8  32 E4				xor	ah,ah			; Zero register
F000:B4CA  CA 0002				retf	2			; Return far
F000:B4CD			loc_803:					;  xref F000:B4BD, B4C1
F000:B4CD  80 FC 53				cmp	ah,53h			; 'S'
F000:B4D0  75 14				jne	short loc_805		; Jump if not equal
F000:B4D2  50					push	ax
F000:B4D3  B0 C9				mov	al,0C9h
F000:B4D5  E6 70				out	70h,al			; port 70h, CMOS addr,bit7=NMI
F000:B4D7  EB 00				jmp	short $+2		; delay for I/O
F000:B4D9  EB 00				jmp	short $+2		; delay for I/O
F000:B4DB  E4 71				in	al,71h			; port 71h, CMOS data
F000:B4DD  A8 01				test	al,1
F000:B4DF  58					pop	ax
F000:B4E0  74 03				jz	short loc_ret_804	; Jump if zero
F000:B4E2  E9 091B				jmp	loc_849			; (BE00)

F000:B4E5			loc_ret_804:					;  xref F000:B4E0
F000:B4E5  C3					retn
F000:B4E6			loc_805:					;  xref F000:B4D0
F000:B4E6  3D E820				cmp	ax,0E820h
F000:B4E9  75 03				jne	short loc_ret_806	; Jump if not equal
F000:B4EB  E9 0759				jmp	loc_838			; (BC47)

F000:B4EE			loc_ret_806:					;  xref F000:B4E9
F000:B4EE  C3					retn
				sub_202		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:D110
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_203		proc	near
F000:B4EF  50					push	ax
F000:B4F0  B0 FF				mov	al,0FFh
F000:B4F2  FE C8				dec	al
F000:B4F4  58					pop	ax
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 195

F000:B4F5  C3					retn
				sub_203		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:AB8A
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_204		proc	near
F000:B4F6  C3					retn
				sub_204		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:AB9E
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_205		proc	near
F000:B4F7  C3					retn
				sub_205		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:F7C9, F8AE, F8CB, F8EB, F8F3, F8FD, F901
				;                             F986, F98F, F996, F99D, F9A9, F9AD
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_206		proc	near
F000:B4F8  E3 00				jcxz	short $+2		; delay for I/O
F000:B4FA  E3 00				jcxz	short $+2		; delay for I/O
F000:B4FC  C3					retn
				sub_206		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:F84D
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_207		proc	near
F000:B4FD  C3					retn
				sub_207		endp

F000:B4FE			loc_807:					;  xref F000:ABA5
F000:B4FE  50					push	ax
F000:B4FF  1E					push	ds
F000:B500  56					push	si
F000:B501  8C D0				mov	ax,ss
F000:B503  8E D8				mov	ds,ax
F000:B505  8B F4				mov	si,sp
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 196

F000:B507  83 C6 08				add	si,8
F000:B50A  8B 04				mov	ax,[si]
F000:B50C  8E D8				mov	ds,ax
F000:B50E  A1 089E				mov	ax,ds:data_11e		; (0000:089E=0)
F000:B511  3D 20E7				cmp	ax,20E7h
F000:B514  75 05				jne	short loc_808		; Jump if not equal
F000:B516  B0 E6				mov	al,0E6h
F000:B518  A2 089E				mov	ds:data_11e,al		; (0000:089E=0)
F000:B51B			loc_808:					;  xref F000:B514
F000:B51B  5E					pop	si
F000:B51C  1F					pop	ds
F000:B51D  58					pop	ax
F000:B51E  E9 F687				jmp	loc_704			; (ABA8)

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:89AD
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_208		proc	near
F000:B521  FA					cli				; Disable interrupts
F000:B522  2E: 3A 06 826E			cmp	al,cs:data_122		; (F000:826E=4Ah)
F000:B527  75 11				jne	short loc_810		; Jump if not equal
F000:B529  F6 06 0017 03			test	keybd_flags_1,3		; (0040:0017=20h)
F000:B52E  74 05				jz	short loc_809		; Jump if zero
F000:B530  E8 00AB				call	sub_211			; (B5DE)
F000:B533  EB 1D				jmp	short loc_812		; (B552)
F000:B535			loc_809:					;  xref F000:B52E
F000:B535  E8 001C				call	sub_209			; (B554)
F000:B538  EB 18				jmp	short loc_812		; (B552)
F000:B53A			loc_810:					;  xref F000:B527
F000:B53A  2E: 3A 06 825E			cmp	al,cs:data_111		; (F000:825E=4Eh)
F000:B53F  75 11				jne	short loc_812		; Jump if not equal
F000:B541  F6 06 0017 03			test	keybd_flags_1,3		; (0040:0017=20h)
F000:B546  74 05				jz	short loc_811		; Jump if zero
F000:B548  E8 00E9				call	sub_212			; (B634)
F000:B54B  EB 05				jmp	short loc_812		; (B552)
F000:B54D			loc_811:					;  xref F000:B546
F000:B54D  E8 0049				call	sub_210			; (B599)
F000:B550  EB 00				jmp	short loc_812		; (B552)
F000:B552			loc_812:					;  xref F000:B533, B538, B53F, B54B
										;            B550
F000:B552  FB					sti				; Enable interrupts
F000:B553  C3					retn
				sub_208		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:B535, EDC6
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_209		proc	near
F000:B554  52					push	dx
F000:B555  50					push	ax
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 197

F000:B556  B5 00				mov	ch,0
F000:B558  2E: 80 3E 8260 00			cmp	cs:data_112,0		; (F000:8260=1)
F000:B55E  74 05				je	short loc_813		; Jump if equal
F000:B560  E8 0145				call	sub_215			; (B6A8)
F000:B563  0A E9				or	ch,cl
F000:B565			loc_813:					;  xref F000:B55E
F000:B565  2E: A0 8261				mov	al,cs:data_113		; (F000:8261=0)
F000:B569  0A C0				or	al,al			; Zero ?
F000:B56B  74 05				jz	short loc_814		; Jump if zero
F000:B56D  E8 011A				call	sub_213			; (B68A)
F000:B570  B5 FF				mov	ch,0FFh
F000:B572			loc_814:					;  xref F000:B56B
F000:B572  2E: 8B 16 8262			mov	dx,cs:data_114		; (F000:8262=0)
F000:B577  0B D2				or	dx,dx			; Zero ?
F000:B579  74 12				jz	short loc_815		; Jump if zero
F000:B57B  EC					in	al,dx			; port 0, DMA-1 bas&add ch 0
F000:B57C  E3 00				jcxz	short $+2		; delay for I/O
F000:B57E  E3 00				jcxz	short $+2		; delay for I/O
F000:B580  2E: 22 06 8265			and	al,cs:data_116		; (F000:8265=0)
F000:B585  2E: 0A 06 8264			or	al,cs:data_115		; (F000:8264=0)
F000:B58A  EE					out	dx,al			; port 0, DMA-1 bas&add ch 0
F000:B58B  B5 FF				mov	ch,0FFh
F000:B58D			loc_815:					;  xref F000:B579
F000:B58D  0A ED				or	ch,ch			; Zero ?
F000:B58F  74 05				jz	short loc_816		; Jump if zero
F000:B591  80 0E 0016 20			or	byte ptr error_codes+1,20h	; (0040:0016=8) ' '
F000:B596			loc_816:					;  xref F000:B58F
F000:B596  58					pop	ax
F000:B597  5A					pop	dx
F000:B598  C3					retn
				sub_209		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:B54D, EDB0
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_210		proc	near
F000:B599  52					push	dx
F000:B59A  50					push	ax
F000:B59B  B5 00				mov	ch,0
F000:B59D  2E: 80 3E 8250 00			cmp	cs:data_100,0		; (F000:8250=1)
F000:B5A3  74 05				je	short loc_817		; Jump if equal
F000:B5A5  E8 00EF				call	sub_214			; (B697)
F000:B5A8  0A E9				or	ch,cl
F000:B5AA			loc_817:					;  xref F000:B5A3
F000:B5AA  2E: A0 8251				mov	al,cs:data_101		; (F000:8251=0)
F000:B5AE  0A C0				or	al,al			; Zero ?
F000:B5B0  74 05				jz	short loc_818		; Jump if zero
F000:B5B2  E8 00D5				call	sub_213			; (B68A)
F000:B5B5  B5 FF				mov	ch,0FFh
F000:B5B7			loc_818:					;  xref F000:B5B0
F000:B5B7  2E: 8B 16 8252			mov	dx,cs:data_102		; (F000:8252=0)
F000:B5BC  0B D2				or	dx,dx			; Zero ?
F000:B5BE  74 12				jz	short loc_819		; Jump if zero
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 198

F000:B5C0  EC					in	al,dx			; port 0, DMA-1 bas&add ch 0
F000:B5C1  E3 00				jcxz	short $+2		; delay for I/O
F000:B5C3  E3 00				jcxz	short $+2		; delay for I/O
F000:B5C5  2E: 22 06 8255			and	al,cs:data_104		; (F000:8255=0)
F000:B5CA  2E: 0A 06 8254			or	al,cs:data_103		; (F000:8254=0)
F000:B5CF  EE					out	dx,al			; port 0, DMA-1 bas&add ch 0
F000:B5D0  B5 FF				mov	ch,0FFh
F000:B5D2			loc_819:					;  xref F000:B5BE
F000:B5D2  0A ED				or	ch,ch			; Zero ?
F000:B5D4  74 05				jz	short loc_820		; Jump if zero
F000:B5D6  80 26 0016 DF			and	byte ptr error_codes+1,0DFh	; (0040:0016=8)
F000:B5DB			loc_820:					;  xref F000:B5D4
F000:B5DB  58					pop	ax
F000:B5DC  5A					pop	dx
F000:B5DD  C3					retn
				sub_210		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:B530
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_211		proc	near
F000:B5DE  52					push	dx
F000:B5DF  50					push	ax
F000:B5E0  B5 00				mov	ch,0
F000:B5E2  2E: 80 3E 8268 00			cmp	cs:data_117,0		; (F000:8268=1)
F000:B5E8  74 07				je	short loc_821		; Jump if equal
F000:B5EA  51					push	cx
F000:B5EB  E8 00CF				call	sub_217			; (B6BD)
F000:B5EE  58					pop	ax
F000:B5EF  0A EC				or	ch,ah
F000:B5F1			loc_821:					;  xref F000:B5E8
F000:B5F1  2E: A0 8269				mov	al,cs:data_118		; (F000:8269=0)
F000:B5F5  0A C0				or	al,al			; Zero ?
F000:B5F7  74 05				jz	short loc_822		; Jump if zero
F000:B5F9  E8 008E				call	sub_213			; (B68A)
F000:B5FC  B5 FF				mov	ch,0FFh
F000:B5FE			loc_822:					;  xref F000:B5F7
F000:B5FE  2E: 8B 16 826A			mov	dx,cs:data_119		; (F000:826A=0)
F000:B603  0B D2				or	dx,dx			; Zero ?
F000:B605  74 12				jz	short loc_823		; Jump if zero
F000:B607  EC					in	al,dx			; port 0, DMA-1 bas&add ch 0
F000:B608  E3 00				jcxz	short $+2		; delay for I/O
F000:B60A  E3 00				jcxz	short $+2		; delay for I/O
F000:B60C  2E: 22 06 826D			and	al,cs:data_121		; (F000:826D=0)
F000:B611  2E: 0A 06 826C			or	al,cs:data_120		; (F000:826C=0)
F000:B616  EE					out	dx,al			; port 0, DMA-1 bas&add ch 0
F000:B617  B5 FF				mov	ch,0FFh
F000:B619			loc_823:					;  xref F000:B605
F000:B619  0A ED				or	ch,ch			; Zero ?
F000:B61B  74 05				jz	short loc_824		; Jump if zero
F000:B61D  80 26 0016 EF			and	byte ptr error_codes+1,0EFh	; (0040:0016=8)
F000:B622			loc_824:					;  xref F000:B61B
F000:B622  2E: F6 06 8281 40			test	cs:data_129,40h		; (F000:8281=0) '@'
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 199

F000:B628  75 07				jnz	short loc_825		; Jump if not zero
F000:B62A  66| 60				pushad				; Save all regs
F000:B62C  E8 F96F				call	sub_183			; (AF9E)
F000:B62F  66| 61				popad				; Restore all regs
F000:B631			loc_825:					;  xref F000:B628
F000:B631  58					pop	ax
F000:B632  5A					pop	dx
F000:B633  C3					retn
				sub_211		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:B548
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_212		proc	near
F000:B634  52					push	dx
F000:B635  50					push	ax
F000:B636  2E: F6 06 8281 40			test	cs:data_129,40h		; (F000:8281=0) '@'
F000:B63C  75 07				jnz	short loc_826		; Jump if not zero
F000:B63E  66| 60				pushad				; Save all regs
F000:B640  E8 F909				call	sub_182			; (AF4C)
F000:B643  66| 61				popad				; Restore all regs
F000:B645			loc_826:					;  xref F000:B63C
F000:B645  B5 00				mov	ch,0
F000:B647  2E: 80 3E 8258 00			cmp	cs:data_106,0		; (F000:8258=1)
F000:B64D  74 07				je	short loc_827		; Jump if equal
F000:B64F  51					push	cx
F000:B650  E8 0066				call	sub_216			; (B6B9)
F000:B653  58					pop	ax
F000:B654  0A EC				or	ch,ah
F000:B656			loc_827:					;  xref F000:B64D
F000:B656  2E: A0 8259				mov	al,cs:data_107		; (F000:8259=0)
F000:B65A  0A C0				or	al,al			; Zero ?
F000:B65C  74 05				jz	short loc_828		; Jump if zero
F000:B65E  E8 0029				call	sub_213			; (B68A)
F000:B661  B5 FF				mov	ch,0FFh
F000:B663			loc_828:					;  xref F000:B65C
F000:B663  2E: 8B 16 825A			mov	dx,cs:data_108		; (F000:825A=0)
F000:B668  0B D2				or	dx,dx			; Zero ?
F000:B66A  74 12				jz	short loc_829		; Jump if zero
F000:B66C  EC					in	al,dx			; port 0, DMA-1 bas&add ch 0
F000:B66D  E3 00				jcxz	short $+2		; delay for I/O
F000:B66F  E3 00				jcxz	short $+2		; delay for I/O
F000:B671  2E: 22 06 825D			and	al,cs:data_110		; (F000:825D=0)
F000:B676  2E: 0A 06 825C			or	al,cs:data_109		; (F000:825C=0)
F000:B67B  EE					out	dx,al			; port 0, DMA-1 bas&add ch 0
F000:B67C  B5 FF				mov	ch,0FFh
F000:B67E			loc_829:					;  xref F000:B66A
F000:B67E  0A ED				or	ch,ch			; Zero ?
F000:B680  74 05				jz	short loc_830		; Jump if zero
F000:B682  80 0E 0016 10			or	byte ptr error_codes+1,10h	; (0040:0016=8)
F000:B687			loc_830:					;  xref F000:B680
F000:B687  58					pop	ax
F000:B688  5A					pop	dx
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 200

F000:B689  C3					retn
				sub_212		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:B56D, B5B2, B5F9, B65E
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_213		proc	near
F000:B68A  E6 64				out	64h,al			; port 64h, kybd cntrlr functn
F000:B68C			loc_831:					;  xref F000:B692
F000:B68C  E3 00				jcxz	short $+2		; delay for I/O
F000:B68E  E4 64				in	al,64h			; port 64h, keyboard status
F000:B690  A8 01				test	al,1
F000:B692  74 F8				jz	loc_831			; Jump if zero
F000:B694  E4 60				in	al,60h			; port 60h, keybd scan or sw1
F000:B696  C3					retn
				sub_213		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:B5A5
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_214		proc	near
F000:B697  66| 60				pushad				; Save all regs
F000:B699  B8 5A5A				mov	ax,5A5Ah
F000:B69C  BB FD00				mov	bx,0FD00h
F000:B69F  E8 00E5				call	sub_219			; (B787)
F000:B6A2  66| 61				popad				; Restore all regs
F000:B6A4  B9 FFFF				mov	cx,0FFFFh
F000:B6A7  C3					retn
				sub_214		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:B560
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_215		proc	near
F000:B6A8  66| 60				pushad				; Save all regs
F000:B6AA  B8 5A5A				mov	ax,5A5Ah
F000:B6AD  BB FF02				mov	bx,0FF02h
F000:B6B0  E8 00D4				call	sub_219			; (B787)
F000:B6B3  66| 61				popad				; Restore all regs
F000:B6B5  B9 FFFF				mov	cx,0FFFFh
F000:B6B8  C3					retn
				sub_215		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 201

				;                              SUBROUTINE
				;
				;         Called from:   F000:B650
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_216		proc	near
F000:B6B9  B9 0000				mov	cx,0
F000:B6BC  C3					retn
				sub_216		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:B5EB
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_217		proc	near
F000:B6BD  B9 0000				mov	cx,0
F000:B6C0  C3					retn
				sub_217		endp

							                        ;* No entry point to code
F000:B6C1  60					pusha				; Save all regs
F000:B6C2  06					push	es
F000:B6C3  B8 E000				mov	ax,0E000h
F000:B6C6  8E C0				mov	es,ax
F000:B6C8  33 FF				xor	di,di			; Zero register
F000:B6CA  B9 8000				mov	cx,8000h
F000:B6CD  33 C0				xor	ax,ax			; Zero register
F000:B6CF  F3/ AB				rep	stosw			; Rep when cx >0 Store ax to es:[di]
F000:B6D1  07					pop	es
F000:B6D2  61					popa				; Restore all regs
F000:B6D3  C3					retn

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_218		proc	near
F000:B6D4  B8 A0A0				mov	ax,0A0A0h
F000:B6D7  BB C000				mov	bx,0C000h
F000:B6DA  E8 00BB				call	sub_220			; (B798)
F000:B6DD  C3					retn
				sub_218		endp

							                        ;* No entry point to code
F000:B6DE  B0 46				mov	al,46h			; 'F'
F000:B6E0  E8 E4C8				call	sub_92			; (9BAB)
F000:B6E3  A8 40				test	al,40h			; '@'
F000:B6E5  74 1D				jz	short loc_ret_832	; Jump if zero
F000:B6E7  B0 76				mov	al,76h			; 'v'
F000:B6E9  E8 E4BF				call	sub_92			; (9BAB)
F000:B6EC  24 30				and	al,30h			; '0'
F000:B6EE  3C 30				cmp	al,30h			; '0'
F000:B6F0  75 12				jne	short loc_ret_832	; Jump if not equal
F000:B6F2  B8 A3A3				mov	ax,0A3A3h
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 202

F000:B6F5  BB BF20				mov	bx,0BF20h
F000:B6F8  E8 009D				call	sub_220			; (B798)
F000:B6FB  B8 A3A3				mov	ax,0A3A3h
F000:B6FE  BB DF00				mov	bx,0DF00h
F000:B701  E8 0094				call	sub_220			; (B798)

F000:B704			loc_ret_832:					;  xref F000:B6E5, B6F0
F000:B704  C3					retn
							                        ;* No entry point to code
F000:B705  B8 A3A3				mov	ax,0A3A3h
F000:B708  BB FF40				mov	bx,0FF40h
F000:B70B  E8 008A				call	sub_220			; (B798)
F000:B70E  B8 A3A3				mov	ax,0A3A3h
F000:B711  BB BF00				mov	bx,0BF00h
F000:B714  E8 0081				call	sub_220			; (B798)
F000:B717  C3					retn
							                        ;* No entry point to code
F000:B718  3B E4				cmp	sp,sp
F000:B71A  C3					retn
							                        ;* No entry point to code
F000:B71B  B8 C1C1				mov	ax,0C1C1h
F000:B71E  E8 0100				call	sub_225			; (B821)
F000:B721  0C 12				or	al,12h
F000:B723  86 C4				xchg	al,ah
F000:B725  E8 0102				call	sub_226			; (B82A)
F000:B728  B8 C2C2				mov	ax,0C2C2h
F000:B72B  E8 00F3				call	sub_225			; (B821)
F000:B72E  0C 80				or	al,80h
F000:B730  86 C4				xchg	al,ah
F000:B732  E8 00F5				call	sub_226			; (B82A)
F000:B735  B8 84CF				mov	ax,84CFh
F000:B738  E8 00EF				call	sub_226			; (B82A)
F000:B73B  B8 0ACE				mov	ax,0ACEh
F000:B73E  E8 00E9				call	sub_226			; (B82A)
F000:B741  B8 00CD				mov	ax,0CDh
F000:B744  E8 00E3				call	sub_226			; (B82A)
F000:B747  C3					retn
							                        ;* No entry point to code
F000:B748  60					pusha				; Save all regs
F000:B749  B0 08				mov	al,8
F000:B74B  E8 0057				call	sub_221			; (B7A5)
F000:B74E  3C 04				cmp	al,4
F000:B750  61					popa				; Restore all regs
F000:B751  C3					retn
							                        ;* No entry point to code
F000:B752  60					pusha				; Save all regs
F000:B753  B0 08				mov	al,8
F000:B755  E8 E453				call	sub_92			; (9BAB)
F000:B758  3C 0D				cmp	al,0Dh
F000:B75A  61					popa				; Restore all regs
F000:B75B  C3					retn
							                        ;* No entry point to code
F000:B75C  F8					clc				; Clear carry flag
F000:B75D  C3					retn
							                        ;* No entry point to code
F000:B75E  B8 9BC2				mov	ax,9BC2h
F000:B761  E8 3486				call	sub_349			; (EBEA)
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 203

F000:B764  B8 CAC6				mov	ax,0CAC6h
F000:B767  E8 3480				call	sub_349			; (EBEA)
F000:B76A  C3					retn
							                        ;* No entry point to code
F000:B76B  51					push	cx
F000:B76C  52					push	dx
F000:B76D  66| 50				push	eax
F000:B76F  E8 0043				call	sub_222			; (B7B5)
F000:B772  8A C8				mov	cl,al
F000:B774  66| 58				pop	eax
F000:B776  5A					pop	dx
F000:B777  8A C1				mov	al,cl
F000:B779  59					pop	cx
F000:B77A  C3					retn
							                        ;* No entry point to code
F000:B77B  51					push	cx
F000:B77C  52					push	dx
F000:B77D  66| 50				push	eax
F000:B77F  E8 0071				call	sub_224			; (B7F3)
F000:B782  66| 58				pop	eax
F000:B784  5A					pop	dx
F000:B785  59					pop	cx
F000:B786  C3					retn

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:961F, 9628, 9645, 964E, B2C9, B2D4, B2F8
				;                             B30E, B69F, B6B0
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_219		proc	near
F000:B787  51					push	cx
F000:B788  52					push	dx
F000:B789  E8 0019				call	sub_221			; (B7A5)
F000:B78C  22 C7				and	al,bh
F000:B78E  0A C3				or	al,bl
F000:B790  86 C4				xchg	al,ah
F000:B792  E8 004E				call	sub_223			; (B7E3)
F000:B795  5A					pop	dx
F000:B796  59					pop	cx
F000:B797  C3					retn
				sub_219		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:960D, 9616, 9633, 963C, B2E4, B6DA, B6F8
				;                             B701, B70B, B714
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_220		proc	near
F000:B798  E8 E410				call	sub_92			; (9BAB)
F000:B79B  22 C7				and	al,bh
F000:B79D  0A C3				or	al,bl
F000:B79F  86 C4				xchg	al,ah
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 204

F000:B7A1  E8 E433				call	sub_93			; (9BD7)
F000:B7A4  C3					retn
				sub_220		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:B2FE, B314, B332, B33F, B34C, B359, B74B
				;                             B789
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_221		proc	near
F000:B7A5			loc_833:					;  xref F000:B45B
F000:B7A5  8B C8				mov	cx,ax
F000:B7A7  66| 25 000000FC			and	eax,0FCh
F000:B7AD  66| 0D 80008000			or	eax,80008000h
F000:B7B3  EB 1E				jmp	short loc_834		; (B7D3)

				;пппп External Entry into Subroutine пппппппппппппппппппппппппппппппппппппп
				;
				;         Called from:   F000:B76F

				sub_222:
F000:B7B5  8B C8				mov	cx,ax
F000:B7B7  66| 25 000000FC			and	eax,0FCh
F000:B7BD  66| 0D 80009100			or	eax,80009100h
F000:B7C3  EB 0E				jmp	short loc_834		; (B7D3)
							                        ;* No entry point to code
F000:B7C5  8B C8				mov	cx,ax
F000:B7C7  66| 25 000000FC			and	eax,0FCh
F000:B7CD  66| 0D 80009000			or	eax,80009000h
F000:B7D3			loc_834:					;  xref F000:B7B3, B7C3
F000:B7D3  BA 0CF8				mov	dx,0CF8h
F000:B7D6  66| EF				out	dx,eax			; port 0CF8h ??i/o non-standard
F000:B7D8  B2 FC				mov	dl,0FCh
F000:B7DA  80 E1 03				and	cl,3
F000:B7DD  02 D1				add	dl,cl
F000:B7DF  EC					in	al,dx			; port 0CFCh ??i/o non-standard
F000:B7E0  86 E5				xchg	ah,ch
F000:B7E2  C3					retn
				sub_221		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:B325, B792, BDAC, BDB5
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_223		proc	near
F000:B7E3			loc_835:					;  xref F000:B467, B477
F000:B7E3  8B C8				mov	cx,ax
F000:B7E5  66| 25 000000FC			and	eax,0FCh
F000:B7EB  66| 0D 80008000			or	eax,80008000h
F000:B7F1  EB 1E				jmp	short loc_836		; (B811)

           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 205

				;пппп External Entry into Subroutine пппппппппппппппппппппппппппппппппппппп
				;
				;         Called from:   F000:B77F

				sub_224:
F000:B7F3  8B C8				mov	cx,ax
F000:B7F5  66| 25 000000FC			and	eax,0FCh
F000:B7FB  66| 0D 80009100			or	eax,80009100h
F000:B801  EB 0E				jmp	short loc_836		; (B811)
							                        ;* No entry point to code
F000:B803  8B C8				mov	cx,ax
F000:B805  66| 25 000000FC			and	eax,0FCh
F000:B80B  66| 0D 80009000			or	eax,80009000h
F000:B811			loc_836:					;  xref F000:B7F1, B801
F000:B811  BA 0CF8				mov	dx,0CF8h
F000:B814  66| EF				out	dx,eax			; port 0CF8h ??i/o non-standard
F000:B816  B2 FC				mov	dl,0FCh
F000:B818  80 E1 03				and	cl,3
F000:B81B  02 D1				add	dl,cl
F000:B81D  86 C5				xchg	al,ch
F000:B81F  EE					out	dx,al			; port 0CFCh ??i/o non-standard
F000:B820  C3					retn
				sub_223		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:B71E, B72B
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_225		proc	near
F000:B821  E6 22				out	22h,al			; port 22h, C&T NEAT,Index Reg
F000:B823  E3 00				jcxz	short $+2		; delay for I/O
F000:B825  E3 00				jcxz	short $+2		; delay for I/O
F000:B827  E4 23				in	al,23h			; port 23h, C&T NEAT, Data Reg
F000:B829  C3					retn
				sub_225		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:B725, B732, B738, B73E, B744
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_226		proc	near
F000:B82A  E6 22				out	22h,al			; port 22h, C&T NEAT,Index Reg
F000:B82C  E3 00				jcxz	short $+2		; delay for I/O
F000:B82E  E3 00				jcxz	short $+2		; delay for I/O
F000:B830  86 C4				xchg	al,ah
F000:B832  E6 23				out	23h,al			; port 23h, C&T NEAT, Data Reg
F000:B834  86 C4				xchg	al,ah
F000:B836  E3 00				jcxz	short $+2		; delay for I/O
F000:B838  C3					retn
				sub_226		endp

           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 206

F000:B839  FF E7 FF E7 11 FF			db	0FFh,0E7h,0FFh,0E7h, 11h,0FFh
F000:B83F  AB BB 00 80 13 FF			db	0ABh,0BBh, 00h, 80h, 13h,0FFh
F000:B845  20 20 00 00 14 FF			db	 20h, 20h, 00h, 00h, 14h,0FFh
F000:B84B  0C 0C 00 00 2B 7F			db	 0Ch, 0Ch, 00h, 00h, 2Bh, 7Fh
F000:B851  00 00 00 00 2C DB			db	 00h, 00h, 00h, 00h, 2Ch,0DBh
F000:B857  C2 00 01 01 2D FF			db	0C2h, 00h, 01h, 01h, 2Dh,0FFh
F000:B85D  00					db	 00h
F000:B85E  02			data_234	db	2			;  xref F000:B2B2, FE96
F000:B85F  00 00 37 F0 F0 F0			db	 00h, 00h, 37h,0F0h,0F0h,0F0h
F000:B865  F0 F0 40 00 00 01			db	0F0h,0F0h, 40h, 00h, 00h, 01h
F000:B86B  FF FF 41 FF 64 40			db	0FFh,0FFh, 41h,0FFh, 64h, 40h
F000:B871  FF FF 42 F8 00 08			db	0FFh,0FFh, 42h,0F8h, 00h, 08h
F000:B877  FF FF 43 EF 88 9A			db	0FFh,0FFh, 43h,0EFh, 88h, 9Ah
F000:B87D  FF FF 44 FF 40 BC			db	0FFh,0FFh, 44h,0FFh, 40h,0BCh
F000:B883  FF FF 45 FF 81 04			db	0FFh,0FFh, 45h,0FFh, 81h, 04h
F000:B889  FF FF 46 FF BC 10			db	0FFh,0FFh, 46h,0FFh,0BCh, 10h
F000:B88F  FF FF 47 90 08 40			db	0FFh,0FFh, 47h, 90h, 08h, 40h
F000:B895  FF FF 48 80 45 00			db	0FFh,0FFh, 48h, 80h, 45h, 00h
F000:B89B  FF FF 49 00 00 02			db	0FFh,0FFh, 49h, 00h, 00h, 02h
F000:B8A1  FF FE 4A 00 00 00			db	0FFh,0FEh, 4Ah, 00h, 00h, 00h
F000:B8A7  FF FF 4B 00 11 00			db	0FFh,0FFh, 4Bh, 00h, 11h, 00h
F000:B8AD  FF FF 4C 00 6D 00			db	0FFh,0FFh, 4Ch, 00h, 6Dh, 00h
F000:B8B3  FF FF 4D FF 9A 00			db	0FFh,0FFh, 4Dh,0FFh, 9Ah, 00h
F000:B8B9  FF FF 4E 00 C0 00			db	0FFh,0FFh, 4Eh, 00h,0C0h, 00h
F000:B8BF  FF FF 4F 00 FA 20			db	0FFh,0FFh, 4Fh, 00h,0FAh, 20h
F000:B8C5  FF FF 50 00 00 00			db	0FFh,0FFh, 50h, 00h, 00h, 00h
F000:B8CB  FF FF 51 FF 00 00			db	0FFh,0FFh, 51h,0FFh, 00h, 00h
F000:B8D1  FF FF 52 FF 00 00			db	0FFh,0FFh, 52h,0FFh, 00h, 00h
F000:B8D7  FF FF 53 FF 00 00			db	0FFh,0FFh, 53h,0FFh, 00h, 00h
F000:B8DD  FF FF 54 FF 00 00			db	0FFh,0FFh, 54h,0FFh, 00h, 00h
F000:B8E3  FF FF 55 FF 00 00			db	0FFh,0FFh, 55h,0FFh, 00h, 00h
F000:B8E9  FF FF 56 00 00 00			db	0FFh,0FFh, 56h, 00h, 00h, 00h
F000:B8EF  FF FF 57 00 00 00			db	0FFh,0FFh, 57h, 00h, 00h, 00h
F000:B8F5  FF FF 58 00 00 00			db	0FFh,0FFh, 58h, 00h, 00h, 00h
F000:B8FB  FF FF 59 00 00 00			db	0FFh,0FFh, 59h, 00h, 00h, 00h
F000:B901  FF FF 5A 00 00 00			db	0FFh,0FFh, 5Ah, 00h, 00h, 00h
F000:B907  FF FF 5B FF 00 00			db	0FFh,0FFh, 5Bh,0FFh, 00h, 00h
F000:B90D  FF FF 5C FF 00 00			db	0FFh,0FFh, 5Ch,0FFh, 00h, 00h
F000:B913  FF FF 5D FF 00 00			db	0FFh,0FFh, 5Dh,0FFh, 00h, 00h
F000:B919  FF FF 5E FF 00 00			db	0FFh,0FFh, 5Eh,0FFh, 00h, 00h
F000:B91F  FF FF 5F FF 00 00			db	0FFh,0FFh, 5Fh,0FFh, 00h, 00h
F000:B925  FF FF 60 FF 00 01			db	0FFh,0FFh, 60h,0FFh, 00h, 01h
F000:B92B  FF FF 61 FF 00 00			db	0FFh,0FFh, 61h,0FFh, 00h, 00h
F000:B931  FF FF 62 FF 00 00			db	0FFh,0FFh, 62h,0FFh, 00h, 00h
F000:B937  FF FF 63 FF 00 00			db	0FFh,0FFh, 63h,0FFh, 00h, 00h
F000:B93D  FF FF 64 FF 00 00			db	0FFh,0FFh, 64h,0FFh, 00h, 00h
F000:B943  FF FF 65 FF 00 00			db	0FFh,0FFh, 65h,0FFh, 00h, 00h
F000:B949  FF 0F 66 FF 00 00			db	0FFh, 0Fh, 66h,0FFh, 00h, 00h
F000:B94F  FF FF 67 FF 00 01			db	0FFh,0FFh, 67h,0FFh, 00h, 01h
F000:B955  FF 7F 68 FF 00 00			db	0FFh, 7Fh, 68h,0FFh, 00h, 00h
F000:B95B  FF 3C 69 FF 00 00			db	0FFh, 3Ch, 69h,0FFh, 00h, 00h
F000:B961  FF FF 6A FF 00 00			db	0FFh,0FFh, 6Ah,0FFh, 00h, 00h
F000:B967  FF C0 6B FF 00 FF			db	0FFh,0C0h, 6Bh,0FFh, 00h,0FFh
F000:B96D  FF FF 6C FF 00 0F			db	0FFh,0FFh, 6Ch,0FFh, 00h, 0Fh
F000:B973  FF FF 6D FF 00 FF			db	0FFh,0FFh, 6Dh,0FFh, 00h,0FFh
F000:B979  FF FF 6E FF 00 0F			db	0FFh,0FFh, 6Eh,0FFh, 00h, 0Fh
F000:B97F  FF FF 6F FF 00 00			db	0FFh,0FFh, 6Fh,0FFh, 00h, 00h
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 207

F000:B985  FF FF 70 FF 00 00			db	0FFh,0FFh, 70h,0FFh, 00h, 00h
F000:B98B  FF FF 71 FF 00 00			db	0FFh,0FFh, 71h,0FFh, 00h, 00h
F000:B991  FF FF 72 FF 00 20			db	0FFh,0FFh, 72h,0FFh, 00h, 20h
F000:B997  FF FF 73 FF 00 00			db	0FFh,0FFh, 73h,0FFh, 00h, 00h
F000:B99D  FF FF 74 FF 00 FF			db	0FFh,0FFh, 74h,0FFh, 00h,0FFh
F000:B9A3  FF FF 75 FF 00 00			db	0FFh,0FFh, 75h,0FFh, 00h, 00h
F000:B9A9  FF FF 76 FF 00 02			db	0FFh,0FFh, 76h,0FFh, 00h, 02h
F000:B9AF  FF FF 80 FF 20 20			db	0FFh,0FFh, 80h,0FFh, 20h, 20h
F000:B9B5  FF FF 81 30 00 00			db	0FFh,0FFh, 81h, 30h, 00h, 00h
F000:B9BB  FF FF 82 F0 F0 F0			db	0FFh,0FFh, 82h,0F0h,0F0h,0F0h
F000:B9C1  FF FF 83 0F 0E 0E			db	0FFh,0FFh, 83h, 0Fh, 0Eh, 0Eh
F000:B9C7  FF FF 84 0F 01 01			db	0FFh,0FFh, 84h, 0Fh, 01h, 01h
F000:B9CD  FF FF 85 FF 25 25			db	0FFh,0FFh, 85h,0FFh, 25h, 25h
F000:B9D3  FF FF 86 30 20 20			db	0FFh,0FFh, 86h, 30h, 20h, 20h
F000:B9D9  FF FF 87 F0 F0 F0			db	0FFh,0FFh, 87h,0F0h,0F0h,0F0h
F000:B9DF  FF FF 88 0F 08 08			db	0FFh,0FFh, 88h, 0Fh, 08h, 08h
F000:B9E5  FF FF 89 0F 01 01			db	0FFh,0FFh, 89h, 0Fh, 01h, 01h
F000:B9EB  FF FF 8A FF 33 33			db	0FFh,0FFh, 8Ah,0FFh, 33h, 33h
F000:B9F1  FF FF 8B 30 20 20			db	0FFh,0FFh, 8Bh, 30h, 20h, 20h
F000:B9F7  FF FF 8C F0 F0 F0			db	0FFh,0FFh, 8Ch,0F0h,0F0h,0F0h
F000:B9FD  FF FF 8D 0F 05 05			db	0FFh,0FFh, 8Dh, 0Fh, 05h, 05h
F000:BA03  FF FF 8E 0F 01 01			db	0FFh,0FFh, 8Eh, 0Fh, 01h, 01h
F000:BA09  FF FF 8F FF 40 40			db	0FFh,0FFh, 8Fh,0FFh, 40h, 40h
F000:BA0F  FF FF 90 30 00 00			db	0FFh,0FFh, 90h, 30h, 00h, 00h
F000:BA15  FF FF 91 F0 50 50			db	0FFh,0FFh, 91h,0F0h, 50h, 50h
F000:BA1B  FF FF 92 0F 0E 0E			db	0FFh,0FFh, 92h, 0Fh, 0Eh, 0Eh
F000:BA21  FF FF 93 0F 00 00			db	0FFh,0FFh, 93h, 0Fh, 00h, 00h
F000:BA27  FF FF 94 FF 50 50			db	0FFh,0FFh, 94h,0FFh, 50h, 50h
F000:BA2D  FF FF 95 30 00 00			db	0FFh,0FFh, 95h, 30h, 00h, 00h
F000:BA33  FF FF 96 F0 50 50			db	0FFh,0FFh, 96h,0F0h, 50h, 50h
F000:BA39  FF FF 97 0F 08 08			db	0FFh,0FFh, 97h, 0Fh, 08h, 08h
F000:BA3F  FF FF 98 0F 00 00			db	0FFh,0FFh, 98h, 0Fh, 00h, 00h
F000:BA45  FF FF 99 FF 24 24			db	0FFh,0FFh, 99h,0FFh, 24h, 24h
F000:BA4B  FF FF 9A 30 20 20			db	0FFh,0FFh, 9Ah, 30h, 20h, 20h
F000:BA51  FF FF 9B F0 F0 F0			db	0FFh,0FFh, 9Bh,0F0h,0F0h,0F0h
F000:BA57  FF FF 9C 0F 08 08			db	0FFh,0FFh, 9Ch, 0Fh, 08h, 08h
F000:BA5D  FF FF 9D 0F 01 01			db	0FFh,0FFh, 9Dh, 0Fh, 01h, 01h
F000:BA63  FF FF 9E FF 66 66			db	0FFh,0FFh, 9Eh,0FFh, 66h, 66h
F000:BA69  FF FF 9F 30 20 20			db	0FFh,0FFh, 9Fh, 30h, 20h, 20h
F000:BA6F  FF FF A0 F0 F0 F0			db	0FFh,0FFh,0A0h,0F0h,0F0h,0F0h
F000:BA75  FF FF A1 0F 05 05			db	0FFh,0FFh,0A1h, 0Fh, 05h, 05h
F000:BA7B  FF FF A2 0F 01 01			db	0FFh,0FFh,0A2h, 0Fh, 01h, 01h
F000:BA81  FF FF A3 FF 75 75			db	0FFh,0FFh,0A3h,0FFh, 75h, 75h
F000:BA87  FF FF A4 30 20 20			db	0FFh,0FFh,0A4h, 30h, 20h, 20h
F000:BA8D  FF FF A5 F0 F0 F0			db	0FFh,0FFh,0A5h,0F0h,0F0h,0F0h
F000:BA93  FF FF A6 0F 08 08			db	0FFh,0FFh,0A6h, 0Fh, 08h, 08h
F000:BA99  FF FF A7 0F 01 01			db	0FFh,0FFh,0A7h, 0Fh, 01h, 01h
F000:BA9F  FF FF A8 FF 80 80			db	0FFh,0FFh,0A8h,0FFh, 80h, 80h
F000:BAA5  FF FF A9 30 00 00			db	0FFh,0FFh,0A9h, 30h, 00h, 00h
F000:BAAB  FF FF AA F0 50 50			db	0FFh,0FFh,0AAh,0F0h, 50h, 50h
F000:BAB1  FF FF AB 0F 0E 0E			db	0FFh,0FFh,0ABh, 0Fh, 0Eh, 0Eh
F000:BAB7  FF FF AC 0F 00 00			db	0FFh,0FFh,0ACh, 0Fh, 00h, 00h
F000:BABD  FF FF AD FF A0 A0			db	0FFh,0FFh,0ADh,0FFh,0A0h,0A0h
F000:BAC3  FF FF AE 30 20 20			db	0FFh,0FFh,0AEh, 30h, 20h, 20h
F000:BAC9  FF FF AF F0 50 50			db	0FFh,0FFh,0AFh,0F0h, 50h, 50h
F000:BACF  FF FF B0 0F 05 05			db	0FFh,0FFh,0B0h, 0Fh, 05h, 05h
F000:BAD5  FF FF B1 0F 01 01			db	0FFh,0FFh,0B1h, 0Fh, 01h, 01h
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 208

F000:BADB  FF FF B2 FF C0 C0			db	0FFh,0FFh,0B2h,0FFh,0C0h,0C0h
F000:BAE1  FF FF B3 30 00 00			db	0FFh,0FFh,0B3h, 30h, 00h, 00h
F000:BAE7  FF FF B4 F0 50 50			db	0FFh,0FFh,0B4h,0F0h, 50h, 50h
F000:BAED  FF FF B5 0F 0E 0E			db	0FFh,0FFh,0B5h, 0Fh, 0Eh, 0Eh
F000:BAF3  FF FF B6 0F 00 00			db	0FFh,0FFh,0B6h, 0Fh, 00h, 00h
F000:BAF9  FF FF B7 FF D3 D3			db	0FFh,0FFh,0B7h,0FFh,0D3h,0D3h
F000:BAFF  FF FF B8 30 10 10			db	0FFh,0FFh,0B8h, 30h, 10h, 10h
F000:BB05  FF FF B9 F0 50 50			db	0FFh,0FFh,0B9h,0F0h, 50h, 50h
F000:BB0B  FF FF BA 0F 05 05			db	0FFh,0FFh,0BAh, 0Fh, 05h, 05h
F000:BB11  FF FF BB 0F 01 01			db	0FFh,0FFh,0BBh, 0Fh, 01h, 01h
F000:BB17  FF FF 49 FF 00 02			db	0FFh,0FFh, 49h,0FFh, 00h, 02h
F000:BB1D  FF FF 4A FF 00 00			db	0FFh,0FFh, 4Ah,0FFh, 00h, 00h
F000:BB23  FF FF 4B FF 11 00			db	0FFh,0FFh, 4Bh,0FFh, 11h, 00h
F000:BB29  FF FF 4C FF 6D 00			db	0FFh,0FFh, 4Ch,0FFh, 6Dh, 00h
F000:BB2F  FF FF 4E FF C0 00			db	0FFh,0FFh, 4Eh,0FFh,0C0h, 00h
F000:BB35  FF FF 4F FF FA 20			db	0FFh,0FFh, 4Fh,0FFh,0FAh, 20h
F000:BB3B  FF FF 50 FF 00 00			db	0FFh,0FFh, 50h,0FFh, 00h, 00h
F000:BB41  FF FF 07 00 73 00			db	0FFh,0FFh, 07h, 00h, 73h, 00h
F000:BB47  07 00 81 00 37 00			db	 07h, 00h, 81h, 00h, 37h, 00h
F000:BB4D  2C			data_235	db	2Ch			;  xref F000:9CC2
F000:BB4E  24 C2 00 01 01 40			db	 24h,0C2h, 00h, 01h, 01h, 40h
F000:BB54  FF 00 01 FF FF 42			db	0FFh, 00h, 01h,0FFh,0FFh, 42h
F000:BB5A  07 01 08 FF FF 47			db	 07h, 01h, 08h,0FFh,0FFh, 47h
F000:BB60  6F 08 40 FF FF 48			db	 6Fh, 08h, 40h,0FFh,0FFh, 48h
F000:BB66  7F 45 00 FF FF 05			db	 7Fh, 45h, 00h,0FFh,0FFh, 05h
F000:BB6C  00 D5 00 01 01 83			db	 00h,0D5h, 00h, 01h, 01h, 83h
F000:BB72  E0 3F CB C3 E8 D9			db	0E0h, 3Fh,0CBh,0C3h,0E8h,0D9h
F000:BB78  FB 75 06 B8 42 30			db	0FBh, 75h, 06h,0B8h, 42h, 30h
F000:BB7E  E8 FA FB C3				db	0E8h,0FAh,0FBh,0C3h

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:8E5B
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_227		proc	near
F000:BB82  F9					stc				; Set carry flag
F000:BB83  C3					retn
				sub_227		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:8E60
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_228		proc	near
F000:BB84  F9					stc				; Set carry flag
F000:BB85  C3					retn
				sub_228		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
           MBIOS.LST       BIOS ROM Analysis			Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 209

				;         Called from:   F000:8DBF
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_229		proc	near
F000:BB86  F9					stc				; Set carry flag
F000:BB87  C3					retn
				sub_229		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:8DC4
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_230		proc	near
F000:BB88  F9					stc				; Set carry flag
F000:BB89  C3					retn
				sub_230		endp

							                        ;* No entry point to code
F000:BB8A  50					push	ax
F000:BB8B  52					push	dx
F000:BB8C  BA 0108				mov	dx,108h
F000:BB8F  B0 4A				mov	al,4Ah			; 'J'
F000:BB91  EE					out	dx,al			; port 108h ??i/o non-standard
F000:BB92  EB 00				jmp	short $+2		; delay for I/O
F000:BB94  EB 00				jmp	short $+2		; delay for I/O
F000:BB96  B0 6C				mov	al,6Ch			; 'l'
F000:BB98  EE					out	dx,al			; port 108h ??i/o non-standard
F000:BB99  EB 00				jmp	short $+2		; delay for I/O
F000:BB9B  EB 00				jmp	short $+2		; delay for I/O
F000:BB9D  5A					pop	dx
F000:BB9E  58					pop	ax
F000:BB9F  C3					retn
							                        ;* No entry point to code
F000:BBA0  50					push	ax
F000:BBA1  52					push	dx
F000:BBA2  BA 0108				mov	dx,108h
F000:BBA5  B0 34				mov	al,34h			; '4'
F000:BBA7  EE					out	dx,al			; port 108h ??i/o non-standard
F000:BBA8  EB 00				jmp	short $+2		; delay for I/O
F000:BBAA  EB 00				jmp	short $+2		; delay for I/O
F000:BBAC  5A					pop	dx
F000:BBAD  58					pop	ax
F000:BBAE  C3					retn
							                        ;* No entry point to code
F000:BBAF  52					push	dx
F000:BBB0  BA 0108				mov	dx,108h
F000:BBB3  EE					out	dx,al			; port 108h ??i/o non-standard
F000:BBB4  EB 00				jmp	short $+2		; delay for I/O
F000:BBB6  EB 00				jmp	short $+2		; delay for I/O
F000:BBB8  86 C4				xchg	al,ah
F000:BBBA  FE C2				inc	dl
F000:BBBC  EE					out	dx,al			; port 109h ??i/o non-standard
F000:BBBD  EB 00				jmp	short $+2		; delay for I/O
F000:BBBF  EB 00				jmp	short $+2		; delay for I/O
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 210

F000:BBC1  86 C4				xchg	al,ah
F000:BBC3  5A					pop	dx
F000:BBC4  C3					retn
							                        ;* No entry point to code
F000:BBC5  52					push	dx
F000:BBC6  BA 0108				mov	dx,108h
F000:BBC9  EE					out	dx,al			; port 108h ??i/o non-standard
F000:BBCA  EB 00				jmp	short $+2		; delay for I/O
F000:BBCC  EB 00				jmp	short $+2		; delay for I/O
F000:BBCE  FE C2				inc	dl
F000:BBD0  EC					in	al,dx			; port 109h ??i/o non-standard
F000:BBD1  EB 00				jmp	short $+2		; delay for I/O
F000:BBD3  EB 00				jmp	short $+2		; delay for I/O
F000:BBD5  5A					pop	dx
F000:BBD6  C3					retn
F000:BBD7  00000005		data_236	dd	00005h			;  xref F000:BC51, BC97
F000:BBDB  00 00 00 00 00 00			db	0, 0, 0, 0, 0, 0
F000:BBE1  0A 00 01 00 00 0F			db	 0Ah, 00h, 01h, 00h, 00h, 0Fh
F000:BBE7  00 00 00 01 00 02			db	 00h, 00h, 00h, 01h, 00h, 02h
F000:BBED  00 00 10 00 00 00			db	 00h, 00h, 10h, 00h, 00h, 00h
F000:BBF3  F0 00 01 00 00 C0			db	0F0h, 00h, 01h, 00h, 00h,0C0h
F000:BBF9  FE 00 10 00 00 02			db	0FEh, 00h, 10h, 00h, 00h, 02h
F000:BBFF  00 00				db	 00h, 00h

F000:BC01			locloop_837:					;  xref F000:BC01
F000:BC01  E0 FE				loopnz	locloop_837		; Loop if zf=0, cx>0

F000:BC03  00 10				add	[bx+si],dl
F000:BC05  00 00				add	[bx+si],al
F000:BC07  02 00				add	al,[bx+si]
F000:BC09  00 FE				add	dh,bh
F000:BC0B  FF 00				inc	word ptr [bx+si]
F000:BC0D  00 02				add	[bp+si],al
F000:BC0F  00 02				add	[bp+si],al
F000:BC11  0036[00]				db	54 dup (0)
F000:BC47			loc_838:					;  xref F000:B4EB
F000:BC47  58					pop	ax
F000:BC48  66| 81 FA 534D4150			cmp	edx,534D4150h
F000:BC4F  75 08				jne	short loc_839		; Jump if not equal
F000:BC51  66| 2E: 3B 1E BBD7			cmp	ebx,cs:data_236		; (F000:BBD7=5)
F000:BC57  76 03				jbe	short loc_840		; Jump if below or =
F000:BC59			loc_839:					;  xref F000:BC4F, BC60
F000:BC59  F9					stc				; Set carry flag
F000:BC5A  EB 48				jmp	short loc_ret_842	; (BCA4)
F000:BC5C			loc_840:					;  xref F000:BC57
F000:BC5C  66| 83 F9 14				cmp	ecx,14h
F000:BC60  72 F7				jb	loc_839			; Jump if below
F000:BC62  66| 52				push	edx
F000:BC64  66| B9 00000014			mov	ecx,14h
F000:BC6A  66| 51				push	ecx
F000:BC6C  66| 57				push	edi
F000:BC6E  32 C0				xor	al,al			; Zero register
F000:BC70  F3/ AA				rep	stosb			; Rep when cx >0 Store al to es:[di]
F000:BC72  66| 5F				pop	edi
F000:BC74  66| 59				pop	ecx
F000:BC76  B0 09				mov	al,9
F000:BC78  F6 E3				mul	bl			; ax = reg * al
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 211

F000:BC7A  05 BBDB				add	ax,0BBDBh
F000:BC7D  56					push	si
F000:BC7E  8B F0				mov	si,ax
F000:BC80  66| 2E: AD				lods	dword ptr cs:[si]	; String [si] to ax
F000:BC83  66| 26: 89 05			mov	es:[di],eax
F000:BC87  66| 2E: AD				lods	dword ptr cs:[si]	; String [si] to ax
F000:BC8A  66| 26: 89 45 08			mov	es:[di+8],eax
F000:BC8F  2E: AC				lods	byte ptr cs:[si]	; String [si] to al
F000:BC91  26: 88 45 10				mov	es:[di+10h],al
F000:BC95  5E					pop	si
F000:BC96  43					inc	bx
F000:BC97  2E: 3B 1E BBD7			cmp	bx,word ptr cs:data_236	; (F000:BBD7=5)
F000:BC9C  76 03				jbe	short loc_841		; Jump if below or =
F000:BC9E  BB 0000				mov	bx,0
F000:BCA1			loc_841:					;  xref F000:BC9C
F000:BCA1  66| 58				pop	eax
F000:BCA3  F8					clc				; Clear carry flag

F000:BCA4			loc_ret_842:					;  xref F000:BC5A
F000:BCA4  CA 0002				retf	2			; Return far

F000:BCA7			int_77h		proc	near			;  xref F000:FF31
F000:BCA7  CF					iret				; Interrupt return
				int_77h		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:87E8, 8B76, 9EA6, 9EF5, C8CC, C955, E970
				;                             F88A, F90F, F914, F955
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_231		proc	near
F000:BCA8  C3					retn
				sub_231		endp

F000:BCA9			loc_843:					;  xref F000:AAAD
F000:BCA9  1E					push	ds
F000:BCAA  56					push	si
F000:BCAB  6A 40				push	40h
F000:BCAD  1F					pop	ds
F000:BCAE  8B F0				mov	si,ax
F000:BCB0  80 FC F0				cmp	ah,0F0h
F000:BCB3  73 24				jae	short loc_846		; Jump if above or =
F000:BCB5  80 FC E0				cmp	ah,0E0h
F000:BCB8  75 1F				jne	short loc_846		; Jump if not equal
F000:BCBA  81 E6 00FF				and	si,0FFh
F000:BCBE  81 FE 00FF				cmp	si,0FFh
F000:BCC2  75 05				jne	short loc_844		; Jump if not equal
F000:BCC4  BE BDED				mov	si,0BDEDh
F000:BCC7  EB 0D				jmp	short loc_845		; (BCD6)
F000:BCC9			loc_844:					;  xref F000:BCC2
F000:BCC9 њ81 FE 000D				cmp	si,offset data_85	; (F000:000D=0FFh)
F000:BCCD  73 0A				jae	short loc_846		; Jump if above or =
F000:BCCF  D1 E6				shl	si,1			; Shift w/zeros fill
F000:BCD1  2E: 8B B4 BCDE			mov	si,cs:data_239[si]	; (F000:BCDE=0BCF8h)
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 212

F000:BCD6			loc_845:					;  xref F000:BCC7
F000:BCD6  FA					cli				; Disable interrupts
F000:BCD7  FF D6				call	si			;*
F000:BCD9			loc_846:					;  xref F000:BCB3, BCB8, BCCD
F000:BCD9  5E					pop	si
F000:BCDA  1F					pop	ds
F000:BCDB  E9 EDD2				jmp	loc_686			; (AAB0)
F000:BCDE  BCF8			data_239	dw	0BCF8h			; Data table (indexed access)
										;  xref F000:BCD1
F000:BCE0  FF BC 06 BD 82 BD			db	0FFh,0BCh, 06h,0BDh, 82h,0BDh
F000:BCE6  CF BD D3 BD D7 BD			db	0CFh,0BDh,0D3h,0BDh,0D7h,0BDh
F000:BCEC  DB BD DF BD E3 BD			db	0DBh,0BDh,0DFh,0BDh,0E3h,0BDh
F000:BCF2  E7 BD EB BD EC BD			db	0E7h,0BDh,0EBh,0BDh,0ECh,0BDh
F000:BCF8  BB 00 02 B0 FA F8			db	0BBh, 00h, 02h,0B0h,0FAh,0F8h
F000:BCFE  C3 BB 06 00 B0 FA			db	0C3h,0BBh, 06h, 00h,0B0h,0FAh
F000:BD04  F8 C3 50 B8 76 76			db	0F8h,0C3h, 50h,0B8h, 76h, 76h
F000:BD0A  E8 9E DE 26 88 45			db	0E8h, 9Eh,0DEh, 26h, 88h, 45h
F000:BD10  01 0C 40 86 C4 E8			db	 01h, 0Ch, 40h, 86h,0C4h,0E8h
F000:BD16  BF DE B8 57 57 E8			db	0BFh,0DEh,0B8h, 57h, 57h,0E8h
F000:BD1C  8D DE 26 88 45 02			db	 8Dh,0DEh, 26h, 88h, 45h, 02h
F000:BD22  0C 24 86 C4 E8 AE			db	 0Ch, 24h, 86h,0C4h,0E8h,0AEh
F000:BD28  DE B8 54 54 E8 76			db	0DEh,0B8h, 54h, 54h,0E8h, 76h
F000:BD2E  FA 26 88 45 03 24			db	0FAh, 26h, 88h, 45h, 03h, 24h
F000:BD34  FE 86 C4 E8 A9 FA			db	0FEh, 86h,0C4h,0E8h,0A9h,0FAh
F000:BD3A  B8 55 55 E8 65 FA			db	0B8h, 55h, 55h,0E8h, 65h,0FAh
F000:BD40  26 88 45 04 0C 40			db	 26h, 88h, 45h, 04h, 0Ch, 40h
F000:BD46  24 41 86 C4 E8 96			db	 24h, 41h, 86h,0C4h,0E8h, 96h
F000:BD4C  FA B8 47 47 E8 58			db	0FAh,0B8h, 47h, 47h,0E8h, 58h
F000:BD52  DE 26 88 45 05 24			db	0DEh, 26h, 88h, 45h, 05h, 24h
F000:BD58  BF 86 C4 E8 79 DE			db	0BFh, 86h,0C4h,0E8h, 79h,0DEh
F000:BD5E  66 50 0F 01 E0 0A			db	 66h, 50h, 0Fh, 01h,0E0h, 0Ah
F000:BD64  E4 F9 75 10 0F 20			db	0E4h,0F9h, 75h, 10h, 0Fh, 20h
F000:BD6A  C0 66 0D 00 00 00			db	0C0h, 66h, 0Dh, 00h, 00h, 00h
F000:BD70  60 0F 22 C0 0F 09			db	 60h, 0Fh, 22h,0C0h, 0Fh, 09h
F000:BD76  66 58 53 E8 58 F9			db	 66h, 58h, 53h,0E8h, 58h,0F9h
F000:BD7C  5B 58 B0 FA F8 C3			db	 5Bh, 58h,0B0h,0FAh,0F8h,0C3h
F000:BD82  50 66 50 0F 01 E0			db	 50h, 66h, 50h, 0Fh, 01h,0E0h
F000:BD88  0A E4 F9 75 10 0F			db	 0Ah,0E4h,0F9h, 75h, 10h, 0Fh
F000:BD8E  20 C0 66 25 FF FF			db	 20h,0C0h, 66h, 25h,0FFh,0FFh
F000:BD94  FF 9F 0F 22 C0 0F			db	0FFh, 9Fh, 0Fh, 22h,0C0h, 0Fh
F000:BD9A  09 66 58				db	 09h, 66h, 58h
F000:BD9D			loc_847:
F000:BD9D  26: 8A 65 05				mov	ah,es:[di+5]
F000:BDA1  B0 47				mov	al,47h			; 'G'
F000:BDA3  E8 DE31				call	sub_93			; (9BD7)
F000:BDA6  26: 8A 65 04				mov	ah,es:[di+4]
F000:BDAA  B0 55				mov	al,55h			; 'U'
F000:BDAC  E8 FA34				call	sub_223			; (B7E3)
F000:BDAF  26: 8A 65 03				mov	ah,es:[di+3]
F000:BDB3  B0 54				mov	al,54h			; 'T'
F000:BDB5  E8 FA2B				call	sub_223			; (B7E3)
F000:BDB8  26: 8A 65 02				mov	ah,es:[di+2]
F000:BDBC  B0 57				mov	al,57h			; 'W'
F000:BDBE  E8 DE16				call	sub_93			; (9BD7)
F000:BDC1  26: 8A 65 01				mov	ah,es:[di+1]
F000:BDC5  B0 76				mov	al,76h			; 'v'
F000:BDC7  E8 DE0D				call	sub_93			; (9BD7)
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 213

F000:BDCA  58					pop	ax
F000:BDCB  B0 FA				mov	al,0FAh
F000:BDCD  F8					clc				; Clear carry flag
F000:BDCE  C3					retn
F000:BDCF  B0 FA F8 C3 B0 FA			db	0B0h,0FAh,0F8h,0C3h,0B0h,0FAh
F000:BDD5  F8 C3 B0 FA F8 C3			db	0F8h,0C3h,0B0h,0FAh,0F8h,0C3h
F000:BDDB  B0 FA F8 C3 B0 FA			db	0B0h,0FAh,0F8h,0C3h,0B0h,0FAh
F000:BDE1  F8 C3 B0 FA F8 C3			db	0F8h,0C3h,0B0h,0FAh,0F8h,0C3h
F000:BDE7  B0 FA F8 C3 C3 C3			db	0B0h,0FAh,0F8h,0C3h,0C3h,0C3h
F000:BDED  E8 09 2F B0 FE E6			db	0E8h, 09h, 2Fh,0B0h,0FEh,0E6h
F000:BDF3  64					db	64h
F000:BDF4			loc_848:					;  xref F000:BDF5
F000:BDF4 њF4					hlt				; Halt processor
F000:BDF5  EB FD				jmp	short loc_848		; (BDF4)
							                        ;* No entry point to code
F000:BDF7  C3					retn
							                        ;* No entry point to code
F000:BDF8  B9 8000				mov	cx,8000h
F000:BDFB  BA 8080				mov	dx,8080h
F000:BDFE  C3					retn
F000:BDFF  00					db	0
F000:BE00			loc_849:					;  xref F000:B4E2
F000:BE00  83 C4 02				add	sp,2
F000:BE03  66| 9C				pushfd				; Push flags
F000:BE05  1E					push	ds
F000:BE06  50					push	ax
F000:BE07  6A 40				push	40h
F000:BE09  1F					pop	ds
F000:BE0A  A0 0015				mov	al,byte ptr error_codes	; (0040:0015=1)
F000:BE0D  24 30				and	al,30h			; '0'
F000:BE0F  3C 10				cmp	al,10h
F000:BE11  58					pop	ax
F000:BE12  B4 86				mov	ah,86h
F000:BE14  1F					pop	ds
F000:BE15  75 16				jnz	short loc_850		; Jump if not zero
F000:BE17  66| 55				push	ebp
F000:BE19  1E					push	ds
F000:BE1A  6A 40				push	40h
F000:BE1C  1F					pop	ds
F000:BE1D  B4 01				mov	ah,1
F000:BE1F  E8 0071				call	sub_232			; (BE93)
F000:BE22  1F					pop	ds
F000:BE23  66| 5D				pop	ebp
F000:BE25  72 06				jc	short loc_850		; Jump if carry Set
F000:BE27  66| 9D				popfd				; Pop flags
F000:BE29  F8					clc				; Clear carry flag
F000:BE2A  CA 0002				retf	2			; Return far
F000:BE2D			loc_850:					;  xref F000:BE15, BE25
F000:BE2D  66| 9D				popfd				; Pop flags
F000:BE2F  F9					stc				; Set carry flag
F000:BE30  CA 0002				retf	2
							                        ;* No entry point to code
F000:BE33  66| 9C				pushfd				; Push flags
F000:BE35  66| 55				push	ebp
F000:BE37  1E					push	ds
F000:BE38  50					push	ax
F000:BE39  8C C8				mov	ax,cs
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 214

F000:BE3B  83 C0 08				add	ax,8
F000:BE3E  8E D8				mov	ds,ax
F000:BE40  58					pop	ax
F000:BE41  B4 02				mov	ah,2
F000:BE43  E8 004D				call	sub_232			; (BE93)
F000:BE46  1F					pop	ds
F000:BE47  66| 5D				pop	ebp
F000:BE49  72 04				jc	short loc_851		; Jump if carry Set
F000:BE4B  66| 9D				popfd				; Pop flags
F000:BE4D  F8					clc				; Clear carry flag
F000:BE4E  CB					retf				; Return far
F000:BE4F			loc_851:					;  xref F000:BE49
F000:BE4F  66| 9D				popfd				; Pop flags
F000:BE51  F9					stc				; Set carry flag
F000:BE52  CB					retf
							                        ;* No entry point to code
F000:BE53  9C					pushf				; Push flags
F000:BE54  55					push	bp
F000:BE55  8C CD				mov	bp,cs
F000:BE57  83 C5 08				add	bp,8
F000:BE5A  55					push	bp
F000:BE5B  68 BE6E				push	0BE6Eh
F000:BE5E  00 00				add	[bx+si],al
F000:BE60  66| 8B EA				mov	ebp,edx
F000:BE63  C1 E5 10				shl	bp,10h			; Shift w/zeros fill
F000:BE66  B4 04				mov	ah,4
F000:BE68  66| 8B E8				mov	ebp,eax
F000:BE6B  B4 53				mov	ah,53h			; 'S'
F000:BE6D  CB					retf
							                        ;* No entry point to code
F000:BE6E  1E					push	ds
F000:BE6F  50					push	ax
F000:BE70  8C C8				mov	ax,cs
F000:BE72  83 C0 08				add	ax,8
F000:BE75  8E D8				mov	ds,ax
F000:BE77  58					pop	ax
F000:BE78  E8 0022				call	sub_233			; (BE9D)
F000:BE7B  1F					pop	ds
F000:BE7C  66| 9C				pushfd				; Push flags
F000:BE7E  8C CD				mov	bp,cs
F000:BE80  83 ED 08				sub	bp,8
F000:BE83  66| 9D				popfd				; Pop flags
F000:BE85  55					push	bp
F000:BE86  68 BE8A				push	0BE8Ah
F000:BE89  CB					retf
							                        ;* No entry point to code
F000:BE8A  5D					pop	bp
F000:BE8B  72 03				jc	short loc_852		; Jump if carry Set
F000:BE8D  9D					popf				; Pop flags
F000:BE8E  F8					clc				; Clear carry flag
F000:BE8F  CB					retf				; Return far
F000:BE90			loc_852:					;  xref F000:BE8B
F000:BE90  9D					popf				; Pop flags
F000:BE91  F9					stc				; Set carry flag
F000:BE92  CB					retf				; Return far

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 215

				;                              SUBROUTINE
				;
				;         Called from:   F000:BE1F, BE43
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_232		proc	near
F000:BE93  8B EA				mov	bp,dx
F000:BE95  66| C1 E5 10				shl	ebp,10h			; Shift w/zeros fill
F000:BE99  8B E8				mov	bp,ax
F000:BE9B  B4 53				mov	ah,53h			; 'S'

				;пппп External Entry into Subroutine пппппппппппппппппппппппппппппппппппппп
				;
				;         Called from:   F000:BE78

				sub_233:
F000:BE9D  E8 000A				call	sub_234			; (BEAA)
F000:BEA0  72 04				jc	short loc_853		; Jump if carry Set
F000:BEA2  E8 0030				call	sub_235			; (BED5)
F000:BEA5  C3					retn
F000:BEA6			loc_853:					;  xref F000:BEA0
F000:BEA6  E8 00F5				call	sub_239			; (BF9E)
F000:BEA9  C3					retn
				sub_232		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:BE9D
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_234		proc	near
F000:BEAA  3C 05				cmp	al,5
F000:BEAC  74 0D				je	short loc_ret_855	; Jump if equal
F000:BEAE  3C 06				cmp	al,6
F000:BEB0  74 09				je	short loc_ret_855	; Jump if equal
F000:BEB2  3C 0A				cmp	al,0Ah
F000:BEB4  74 05				je	short loc_ret_855	; Jump if equal
F000:BEB6  3C 0B				cmp	al,0Bh
F000:BEB8  74 02				je	short loc_856		; Jump if equal
F000:BEBA			loc_854:					;  xref F000:BED2
F000:BEBA  F9					stc				; Set carry flag

F000:BEBB			loc_ret_855:					;  xref F000:BEAC, BEB0, BEB4
F000:BEBB  C3					retn
F000:BEBC			loc_856:					;  xref F000:BEB8
F000:BEBC  50					push	ax
F000:BEBD  53					push	bx
F000:BEBE  E8 0168				call	sub_245			; (C029)
F000:BEC1  BB 001F				mov	bx,1Fh
F000:BEC4  A8 10				test	al,10h
F000:BEC6  74 03				jz	short loc_857		; Jump if zero
F000:BEC8  BB 07FF				mov	bx,7FFh
F000:BECB			loc_857:					;  xref F000:BEC6
F000:BECB  E8 0163				call	sub_247			; (C031)
F000:BECE  23 C3				and	ax,bx
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 216

F000:BED0  5B					pop	bx
F000:BED1  58					pop	ax
F000:BED2  75 E6				jnz	loc_854			; Jump if not zero
F000:BED4  C3					retn
				sub_234		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:BEA2
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_235		proc	near
F000:BED5  3C 05				cmp	al,5
F000:BED7  74 0E				je	short loc_858		; Jump if equal
F000:BED9  3C 06				cmp	al,6
F000:BEDB  74 2B				je	short loc_860		; Jump if equal
F000:BEDD  3C 0A				cmp	al,0Ah
F000:BEDF  74 47				je	short loc_862		; Jump if equal
F000:BEE1  3C 0B				cmp	al,0Bh
F000:BEE3  74 35				je	short loc_861		; Jump if equal
F000:BEE5  F8					clc				; Clear carry flag
F000:BEE6  C3					retn
F000:BEE7			loc_858:					;  xref F000:BED7
F000:BEE7  66| 52				push	edx
F000:BEE9  66| 50				push	eax
F000:BEEB  E8 0074				call	sub_236			; (BF62)
F000:BEEE  72 0F				jc	short loc_859		; Jump if carry Set
F000:BEF0  E8 0112				call	sub_240			; (C005)
F000:BEF3  E8 0110				call	sub_241			; (C006)
F000:BEF6  E8 0124				call	sub_242			; (C01D)
F000:BEF9  F8					clc				; Clear carry flag
F000:BEFA  66| 58				pop	eax
F000:BEFC  66| 5A				pop	edx
F000:BEFE  C3					retn
F000:BEFF			loc_859:					;  xref F000:BEEE, BF0F, BF21, BF26
F000:BEFF њ8A F4				mov	dh,ah
F000:BF01  66| 58				pop	eax
F000:BF03  8A E6				mov	ah,dh
F000:BF05  66| 5A				pop	edx
F000:BF07  C3					retn
F000:BF08			loc_860:					;  xref F000:BEDB
F000:BF08  66| 52				push	edx
F000:BF0A  66| 50				push	eax
F000:BF0C  E8 0053				call	sub_236			; (BF62)
F000:BF0F  72 EE				jc	loc_859			; Jump if carry Set
F000:BF11  E8 010A				call	sub_243			; (C01E)
F000:BF14  F8					clc				; Clear carry flag
F000:BF15  66| 58				pop	eax
F000:BF17  66| 5A				pop	edx
F000:BF19  C3					retn
F000:BF1A			loc_861:					;  xref F000:BEE3
F000:BF1A  66| 52				push	edx
F000:BF1C  66| 50				push	eax
F000:BF1E  E8 0041				call	sub_236			; (BF62)
F000:BF21  72 DC				jc	loc_859			; Jump if carry Set
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 217

F000:BF23  B4 80				mov	ah,80h
F000:BF25  F9					stc				; Set carry flag
F000:BF26  EB D7				jmp	short loc_859		; (BEFF)
F000:BF28			loc_862:					;  xref F000:BEDF
F000:BF28  83 FB 01				cmp	bx,1
F000:BF2B  75 31				jne	short loc_866		; Jump if not equal
F000:BF2D  66| 50				push	eax
F000:BF2F  66| 51				push	ecx
F000:BF31  66| 52				push	edx
F000:BF33  E8 00E9				call	sub_244			; (C01F)
F000:BF36  E8 00F0				call	sub_245			; (C029)
F000:BF39  A8 10				test	al,10h
F000:BF3B  75 11				jnz	short loc_864		; Jump if not zero
F000:BF3D  80 FF 02				cmp	bh,2
F000:BF40  75 02				jne	short loc_863		; Jump if not equal
F000:BF42  B7 00				mov	bh,0
F000:BF44			loc_863:					;  xref F000:BF40
F000:BF44  66| 5A				pop	edx
F000:BF46  8A C1				mov	al,cl
F000:BF48  66| 59				pop	ecx
F000:BF4A  8A C8				mov	cl,al
F000:BF4C  EB 0C				jmp	short loc_865		; (BF5A)
F000:BF4E			loc_864:					;  xref F000:BF3B
F000:BF4E  8B C2				mov	ax,dx
F000:BF50  66| 5A				pop	edx
F000:BF52  8B D0				mov	dx,ax
F000:BF54  8B C1				mov	ax,cx
F000:BF56  66| 59				pop	ecx
F000:BF58  8B C8				mov	cx,ax
F000:BF5A			loc_865:					;  xref F000:BF4C
F000:BF5A  66| 58				pop	eax
F000:BF5C  F8					clc				; Clear carry flag
F000:BF5D  C3					retn
F000:BF5E			loc_866:					;  xref F000:BF2B
F000:BF5E  B4 09				mov	ah,9
F000:BF60  F9					stc				; Set carry flag
F000:BF61  C3					retn
				sub_235		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:BEEB, BF0C, BF1E
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_236		proc	near
F000:BF62  8B C5				mov	ax,bp
F000:BF64  E8 00C2				call	sub_245			; (C029)
F000:BF67  84 C4				test	al,ah
F000:BF69  74 10				jz	short loc_869		; Jump if zero
F000:BF6B  A8 10				test	al,10h
F000:BF6D  74 07				jz	short loc_ret_867	; Jump if zero
F000:BF6F  E8 00BB				call	sub_246			; (C02D)
F000:BF72  A8 40				test	al,40h			; '@'
F000:BF74  74 01				jz	short loc_868		; Jump if zero

           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 218

F000:BF76			loc_ret_867:					;  xref F000:BF6D
F000:BF76  C3					retn
F000:BF77			loc_868:					;  xref F000:BF74
F000:BF77  B4 0B				mov	ah,0Bh
F000:BF79  F9					stc				; Set carry flag
F000:BF7A  C3					retn
F000:BF7B			loc_869:					;  xref F000:BF69
F000:BF7B  B4 03				mov	ah,3
F000:BF7D  F9					stc				; Set carry flag
F000:BF7E  C3					retn
				sub_236		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:C006
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_237		proc	near
F000:BF7F  BA 00A0				mov	dx,0A0h
F000:BF82  E8 000D				call	sub_238			; (BF92)
F000:BF85  8A E0				mov	ah,al
F000:BF87  BA 0020				mov	dx,20h
F000:BF8A  E8 0005				call	sub_238			; (BF92)
F000:BF8D  8B D0				mov	dx,ax
F000:BF8F  0A D6				or	dl,dh
F000:BF91  C3					retn
				sub_237		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:BF82, BF8A
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_238		proc	near
F000:BF92  9C					pushf				; Push flags
F000:BF93  FA					cli				; Disable interrupts
F000:BF94  B0 0A				mov	al,0Ah
F000:BF96  EE					out	dx,al			; port 0A0h, 8259-2 int command
										;  al = 0Ah, read IntRequestReg
F000:BF97  E3 00				jcxz	short $+2		; delay for I/O
F000:BF99  E3 00				jcxz	short $+2		; delay for I/O
F000:BF9B  EC					in	al,dx			; port 0A0h, 8259-2 int IRR/ISR
F000:BF9C  9D					popf				; Pop flags
F000:BF9D  C3					retn
				sub_238		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:BEA6
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 219

				sub_239		proc	near
F000:BF9E  66| 52				push	edx
F000:BFA0  66| 50				push	eax
F000:BFA2  66| 56				push	esi
F000:BFA4  66| C1 E6 10				shl	esi,10h			; Shift w/zeros fill
F000:BFA8  9C					pushf				; Push flags
F000:BFA9  FA					cli				; Disable interrupts
F000:BFAA  BE 4150				mov	si,4150h
F000:BFAD  B8 A3A3				mov	ax,0A3A3h
F000:BFB0  E8 DBF8				call	sub_92			; (9BAB)
F000:BFB3  0C C0				or	al,0C0h
F000:BFB5  86 C4				xchg	al,ah
F000:BFB7  50					push	ax
F000:BFB8  66| 25 000000FC			and	eax,0FCh
F000:BFBE  66| 0D 80009000			or	eax,80009000h
F000:BFC4  BA 0CF8				mov	dx,0CF8h
F000:BFC7  66| EF				out	dx,eax			; port 0CF8h ??i/o non-standard
F000:BFC9  E3 00				jcxz	short $+2		; delay for I/O
F000:BFCB  E3 00				jcxz	short $+2		; delay for I/O
F000:BFCD  B2 FC				mov	dl,0FCh
F000:BFCF  58					pop	ax
F000:BFD0  24 03				and	al,3
F000:BFD2  02 D0				add	dl,al
F000:BFD4  8A C4				mov	al,ah
F000:BFD6  EE					out	dx,al			; port 0CFFh ??i/o non-standard
F000:BFD7  B8 0400				mov	ax,400h
F000:BFDA			loc_870:					;  xref F000:BFE1
F000:BFDA  81 FE 4150				cmp	si,4150h
F000:BFDE  75 03				jne	short loc_871		; Jump if not equal
F000:BFE0  48					dec	ax
F000:BFE1  75 F7				jnz	loc_870			; Jump if not zero
F000:BFE3			loc_871:					;  xref F000:BFDE
F000:BFE3  5A					pop	dx
F000:BFE4  80 E2 FE				and	dl,0FEh
F000:BFE7  F7 C6 0001				test	si,1
F000:BFEB  74 03				jz	short loc_872		; Jump if zero
F000:BFED  80 CA 01				or	dl,1
F000:BFF0			loc_872:					;  xref F000:BFEB
F000:BFF0  5E					pop	si
F000:BFF1  5E					pop	si
F000:BFF2  66| C1 CE 10				ror	esi,10h			; Rotate
F000:BFF6  66| 58				pop	eax
F000:BFF8  8B C5				mov	ax,bp
F000:BFFA  66| C1 ED 10				shr	ebp,10h			; Shift w/zeros fill
F000:BFFE  52					push	dx
F000:BFFF  9D					popf				; Pop flags
F000:C000  66| 5A				pop	edx
F000:C002  8B D5				mov	dx,bp
F000:C004  C3					retn
				sub_239		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:BEF0
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 220


				sub_240		proc	near
F000:C005  C3					retn
				sub_240		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:BEF3
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_241		proc	near
F000:C006  E8 FF76				call	sub_237			; (BF7F)
F000:C009  75 11				jnz	short loc_ret_874	; Jump if not zero
F000:C00B  0F 01 E0				smsw	ax			; Store machine stat
F000:C00E  A8 01				test	al,1
F000:C010  74 06				jz	short loc_873		; Jump if zero
F000:C012  8C C8				mov	ax,cs
F000:C014  A8 03				test	al,3
F000:C016  75 04				jnz	short loc_ret_874	; Jump if not zero
F000:C018			loc_873:					;  xref F000:C010
F000:C018  9C					pushf				; Push flags
F000:C019  FB					sti				; Enable interrupts
F000:C01A  F4					hlt				; Halt processor
F000:C01B  9D					popf				; Pop flags

F000:C01C			loc_ret_874:					;  xref F000:C009, C016
F000:C01C  C3					retn
				sub_241		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:BEF6
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_242		proc	near
F000:C01D  C3					retn
				sub_242		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:BF11
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_243		proc	near
F000:C01E  C3					retn
				sub_243		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
           MBIOS.LST       BIOS ROM Analysis			Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 221

				;         Called from:   F000:BF33
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_244		proc	near
F000:C01F  BB 01FF				mov	bx,1FFh
F000:C022  B9 80FF				mov	cx,80FFh
F000:C025  BA FFFF				mov	dx,0FFFFh
F000:C028  C3					retn
				sub_244		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:BEBE, BF36, BF64
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_245		proc	near
F000:C029  A0 00E0				mov	al,ds:data_314e		; (F008:00E0=0FFh)
F000:C02C  C3					retn
				sub_245		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:BF6F
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_246		proc	near
F000:C02D  A0 00E1				mov	al,ds:data_315e		; (F008:00E1=0FFh)
F000:C030  C3					retn
				sub_246		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:BECB
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_247		proc	near
F000:C031  A1 00E2				mov	ax,ds:data_316e		; (F008:00E2=0FFFFh)
F000:C034  C3					retn
				sub_247		endp

F000:C035  00					db	0

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:C843
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_248		proc	near
F000:C036  C8 0002 00				enter	2,0			; Procedure entry
F000:C03A  57					push	di
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 222

F000:C03B  56					push	si
F000:C03C  33 C0				xor	ax,ax			; Zero register
F000:C03E  A3 0000				mov	ds:data_60e,ax		; (4000:0000=0FFFFh)
F000:C041  A3 0002				mov	ds:data_61e,ax		; (4000:0002=0FFFFh)
F000:C044  A3 0004				mov	ds:data_62e,ax		; (4000:0004=0FFFFh)
F000:C047  A3 0006				mov	ds:data_64e,ax		; (4000:0006=0FFFFh)
F000:C04A  A3 0008				mov	ds:data_65e,ax		; (4000:0008=0FFFFh)
F000:C04D  A3 000A				mov	ds:data_66e,ax		; (4000:000A=0FFFFh)
F000:C050  A3 000C				mov	ds:data_67e,ax		; (4000:000C=0FFFFh)
F000:C053  C4 5E 04				les	bx,dword ptr [bp+4]	; Load 32 bit ptr
F000:C056  89 1E 2016				mov	ds:data_73e,bx		; (4000:2016=4C43h)
F000:C05A  8C 06 2018				mov	word ptr ds:data_73e+2,es	; (4000:2018=3152h)
F000:C05E њBE 000E				mov	si,data_68e		; (4000:000E=0FFh)
F000:C061  E8 061B				call	sub_257			; (C67F)
F000:C064  8D 47 04				lea	ax,[bx+4]		; Load effective addr
F000:C067  A3 2016				mov	ds:data_73e,ax		; (4000:2016=4C43h)
F000:C06A  8C 06 2018				mov	word ptr ds:data_73e+2,es	; (4000:2018=3152h)
F000:C06E  8B D8				mov	bx,ax
F000:C070 њBE 0012				mov	si,data_70e		; (4000:0012=0FFh)
F000:C073  E8 0609				call	sub_257			; (C67F)
F000:C076  83 C0 04				add	ax,4
F000:C079  A3 2016				mov	ds:data_73e,ax		; (4000:2016=4C43h)
F000:C07C  83 2E 000E 08			sub	word ptr ds:data_68e,8	; (4000:000E=0FFFFh)
F000:C081  83 1E 0010 00			sbb	word ptr ds:data_69e,0	; (4000:0010=0FFFFh)
F000:C086  6A 10				push	10h
F000:C088  E8 009C				call	sub_250			; (C127)
F000:C08B  44					inc	sp
F000:C08C  44					inc	sp
F000:C08D			loc_875:					;  xref F000:C0DD
F000:C08D њA1 0012				mov	ax,ds:data_70e		; (4000:0012=0FFFFh)
F000:C090  8B 16 0014				mov	dx,ds:data_71e		; (4000:0014=0FFFFh)
F000:C094  50					push	ax
F000:C095  0B C2				or	ax,dx
F000:C097  58					pop	ax
F000:C098  74 45				jz	short loc_880		; Jump if zero
F000:C09A  0B D2				or	dx,dx			; Zero ?
F000:C09C  75 05				jnz	short loc_876		; Jump if not zero
F000:C09E  3D 2000				cmp	ax,2000h
F000:C0A1  76 03				jbe	short loc_877		; Jump if below or =
F000:C0A3			loc_876:					;  xref F000:C09C
F000:C0A3  B8 2000				mov	ax,2000h
F000:C0A6			loc_877:					;  xref F000:C0A1
F000:C0A6  8B F8				mov	di,ax
F000:C0A8  57					push	di
F000:C0A9  E8 0037				call	sub_249			; (C0E3)
F000:C0AC  44					inc	sp
F000:C0AD  44					inc	sp
F000:C0AE  33 F6				xor	si,si			; Zero register
F000:C0B0  89 7E FE				mov	[bp-2],di
F000:C0B3  0B FF				or	di,di			; Zero ?
F000:C0B5  8B CF				mov	cx,di
F000:C0B7  74 1B				jz	short loc_879		; Jump if zero
F000:C0B9  8B 7E 08				mov	di,[bp+8]
F000:C0BC  8B 4E FE				mov	cx,[bp-2]
F000:C0BF  8E 46 0A				mov	es,[bp+0Ah]
F000:C0C2			loc_878:					;  xref F000:C0CF
F000:C0C2  8A 84 0016				mov	al,byte ptr error_codes+1[si]	; (0040:0016=8)
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 223

F000:C0C6  8B DF				mov	bx,di
F000:C0C8  47					inc	di
F000:C0C9  26: 88 07				mov	es:[bx],al
F000:C0CC  46					inc	si
F000:C0CD  3B F1				cmp	si,cx
F000:C0CF  72 F1				jb	loc_878			; Jump if below
F000:C0D1  89 7E 08				mov	[bp+8],di
F000:C0D4			loc_879:					;  xref F000:C0B7
F000:C0D4  29 0E 0012				sub	word ptr manufactr_test,cx	; (0040:0012=80F2h)
F000:C0D8  83 1E 0014 00			sbb	word ptr ds:[14h],0	; (0040:0014=102h)
F000:C0DD  EB AE				jmp	short loc_875		; (C08D)
F000:C0DF			loc_880:					;  xref F000:C098
F000:C0DF  5E					pop	si
F000:C0E0  5F					pop	di
F000:C0E1  C9					leave				; Procedure exit
F000:C0E2  C3					retn
				sub_248		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:C0A9
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_249		proc	near
F000:C0E3  55					push	bp
F000:C0E4  8B EC				mov	bp,sp
F000:C0E6  57					push	di
F000:C0E7  56					push	si
F000:C0E8  33 F6				xor	si,si			; Zero register
F000:C0EA  E8 059F				call	sub_258			; (C68C)
F000:C0ED  78 02				js	short loc_881		; Jump if sign=1
F000:C0EF  EB 32				jmp	short loc_883		; (C123)
F000:C0F1			loc_881:					;  xref F000:C0ED, C104, C121
F000:C0F1  E8 04C7				call	sub_255			; (C5BB)
F000:C0F4  8B F8				mov	di,ax
F000:C0F6  81 FF 00FF				cmp	di,0FFh
F000:C0FA  77 0C				ja	short loc_882		; Jump if above
F000:C0FC  88 84 0016				mov	byte ptr error_codes+1[si],al	; (0040:0016=8)
F000:C100  46					inc	si
F000:C101  39 76 04				cmp	[bp+4],si
F000:C104  75 EB				jne	loc_881			; Jump if not equal
F000:C106  EB 1B				jmp	short loc_883		; (C123)
F000:C108			loc_882:					;  xref F000:C0FA
F000:C108  8D 85 FF03				lea	ax,cs:[0FF03h][di]	; Load effective addr
F000:C10C  A3 0000				mov	@rs232_port_1,ax	; (0040:0000=3F8h)
F000:C10F  E8 0518				call	sub_256			; (C62A)
F000:C112  8B CE				mov	cx,si
F000:C114  2B C8				sub	cx,ax
F000:C116  49					dec	cx
F000:C117  80 E5 1F				and	ch,1Fh
F000:C11A  89 0E 000C				mov	@prn_port_3,cx		; (0040:000C=0)
F000:C11E  E8 056B				call	sub_258			; (C68C)
F000:C121  78 CE				js	loc_881			; Jump if sign=1
F000:C123			loc_883:					;  xref F000:C0EF, C106
F000:C123  5E					pop	si
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 224

F000:C124  5F					pop	di
F000:C125  C9					leave				; Procedure exit
F000:C126  C3					retn
				sub_249		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:C088, C1A3, C45E, C53D, C6BC
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_250		proc	near
F000:C127  55					push	bp
F000:C128  8B EC				mov	bp,sp
F000:C12A  56					push	si
F000:C12B  8B 76 04				mov	si,[bp+4]
F000:C12E  8B CE				mov	cx,si
F000:C130  D3 26 0004				shl	word ptr ds:data_62e,cl	; (4000:0004=0FFFFh) Shift w/zeros fil
F000:C134  39 36 0002				cmp	ds:data_61e,si		; (4000:0002=0FFFFh)
F000:C138  7D 40				jge	short loc_886		; Jump if > or =
F000:C13A			loc_884:					;  xref F000:C178
F000:C13A  2B 36 0002				sub	si,ds:data_61e		; (4000:0002=0FFFFh)
F000:C13E  8B CE				mov	cx,si
F000:C140  A1 0006				mov	ax,ds:data_64e		; (4000:0006=0FFFFh)
F000:C143  D3 E0				shl	ax,cl			; Shift w/zeros fill
F000:C145  09 06 0004				or	ds:data_62e,ax		; (4000:0004=0FFFFh)
F000:C149  A1 0010				mov	ax,ds:data_69e		; (4000:0010=0FFFFh)
F000:C14C  0B 06 000E				or	ax,ds:data_68e		; (4000:000E=0FFFFh)
F000:C150  A3 0006				mov	ds:data_64e,ax		; (4000:0006=0FFFFh)
F000:C153  74 1A				jz	short loc_885		; Jump if zero
F000:C155  83 2E 000E 01			sub	word ptr ds:data_68e,1	; (4000:000E=0FFFFh)
F000:C15A  83 1E 0010 00			sbb	word ptr ds:data_69e,0	; (4000:0010=0FFFFh)
F000:C15F  C4 1E 2016				les	bx,dword ptr ds:data_73e	; (4000:2016=4C43h) Load 32 bit ptr
F000:C163  FF 06 2016				inc	word ptr ds:data_73e	; (4000:2016=4C43h)
F000:C167  26: 8A 07				mov	al,es:[bx]
F000:C16A  2A E4				sub	ah,ah
F000:C16C  A3 0006				mov	ds:data_64e,ax		; (4000:0006=0FFFFh)
F000:C16F			loc_885:					;  xref F000:C153
F000:C16F  C7 06 0002 0008			mov	word ptr ds:data_61e,8	; (4000:0002=0FFFFh)
F000:C175  83 FE 08				cmp	si,8
F000:C178  7F C0				jg	loc_884			; Jump if >
F000:C17A			loc_886:					;  xref F000:C138
F000:C17A  29 36 0002				sub	ds:data_61e,si		; (4000:0002=0FFFFh)
F000:C17E  8A 0E 0002				mov	cl,ds:data_61e		; (4000:0002=0FFh)
F000:C182  A1 0006				mov	ax,ds:data_64e		; (4000:0006=0FFFFh)
F000:C185  D3 E8				shr	ax,cl			; Shift w/zeros fill
F000:C187  09 06 0004				or	ds:data_62e,ax		; (4000:0004=0FFFFh)
F000:C18B  5E					pop	si
F000:C18C  C9					leave				; Procedure exit
F000:C18D  C3					retn
				sub_250		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
           MBIOS.LST       BIOS ROM Analysis			Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 225

				;         Called from:   F000:C471, C4C9, C4D6, C555, C563, C5C6, C668
				;                             C6B3
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_251		proc	near
F000:C18E  55					push	bp
F000:C18F  8B EC				mov	bp,sp
F000:C191  57					push	di
F000:C192  56					push	si
F000:C193  8B 7E 04				mov	di,[bp+4]
F000:C196  B1 10				mov	cl,10h
F000:C198  8B C7				mov	ax,di
F000:C19A  2A C8				sub	cl,al
F000:C19C  8B 36 0004				mov	si,ds:data_62e		; (4000:0004=0FFFFh)
F000:C1A0  D3 EE				shr	si,cl			; Shift w/zeros fill
F000:C1A2  57					push	di
F000:C1A3  E8 FF81				call	sub_250			; (C127)
F000:C1A6  44					inc	sp
F000:C1A7  44					inc	sp
F000:C1A8  8B C6				mov	ax,si
F000:C1AA  5E					pop	si
F000:C1AB  5F					pop	di
F000:C1AC  C9					leave				; Procedure exit
F000:C1AD  C3					retn
				sub_251		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:C4B7, C5B0
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_252		proc	near
F000:C1AE  C8 0082 00				enter	82h,0			; Procedure entry
F000:C1B2  57					push	di
F000:C1B3  56					push	si
F000:C1B4  8D 5E CA				lea	bx,[bp-36h]		; Load effective addr
F000:C1B7  B9 0010				mov	cx,10h

F000:C1BA			locloop_887:					;  xref F000:C1C1
F000:C1BA  36: C7 07 0000			mov	word ptr ss:[bx],0
F000:C1BF  43					inc	bx
F000:C1C0  43					inc	bx
F000:C1C1  E2 F7				loop	locloop_887		; Loop if cx > 0

F000:C1C3  33 F6				xor	si,si			; Zero register
F000:C1C5  8B 4E 04				mov	cx,[bp+4]
F000:C1C8  E3 1A				jcxz	short loc_889		; Jump if cx=0
F000:C1CA  8B 7E 06				mov	di,[bp+6]
F000:C1CD			loc_888:					;  xref F000:C1E2
F000:C1CD  8B DE				mov	bx,si
F000:C1CF  03 DF				add	bx,di
F000:C1D1  8A 1F				mov	bl,[bx]
F000:C1D3  2A FF				sub	bh,bh
F000:C1D5  D1 E3				shl	bx,1			; Shift w/zeros fill
F000:C1D7  8D 46 C8				lea	ax,[bp-38h]		; Load effective addr
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 226

F000:C1DA  03 D8				add	bx,ax
F000:C1DC  36: FF 07				inc	word ptr ss:[bx]
F000:C1DF  46					inc	si
F000:C1E0  3B F1				cmp	si,cx
F000:C1E2  72 E9				jb	loc_888			; Jump if below
F000:C1E4			loc_889:					;  xref F000:C1C8
F000:C1E4  C7 46 84 0000			mov	word ptr [bp-7Ch],0
F000:C1E9  BF 0001				mov	di,1
F000:C1EC  8D 5E 86				lea	bx,[bp-7Ah]		; Load effective addr
F000:C1EF  8D 46 CA				lea	ax,[bp-36h]		; Load effective addr
F000:C1F2  89 46 FE				mov	[bp-2],ax
F000:C1F5			loc_890:					;  xref F000:C216
F000:C1F5  B1 10				mov	cl,10h
F000:C1F7  8B C7				mov	ax,di
F000:C1F9  2A C8				sub	cl,al
F000:C1FB  8B 76 FE				mov	si,[bp-2]
F000:C1FE  36: 8B 04				mov	ax,ss:[si]
F000:C201  D3 E0				shl	ax,cl			; Shift w/zeros fill
F000:C203  8D 77 FE				lea	si,[bx-2]		; Load effective addr
F000:C206  36: 03 04				add	ax,ss:[si]
F000:C209  36: 89 07				mov	ss:[bx],ax
F000:C20C  43					inc	bx
F000:C20D  43					inc	bx
F000:C20E  83 46 FE 02				add	word ptr [bp-2],2
F000:C212  47					inc	di
F000:C213  83 FF 10				cmp	di,10h
F000:C216  76 DD				jbe	loc_890			; Jump if below or =
F000:C218  8B 5E 08				mov	bx,[bp+8]
F000:C21B  B8 0010				mov	ax,10h
F000:C21E  2B C3				sub	ax,bx
F000:C220  89 46 EC				mov	[bp-14h],ax
F000:C223  BF 0001				mov	di,1
F000:C226  3B DF				cmp	bx,di
F000:C228  72 2C				jb	short loc_892		; Jump if below
F000:C22A  8D 56 A8				lea	dx,[bp-58h]		; Load effective addr
F000:C22D  8D 46 84				lea	ax,[bp-7Ch]		; Load effective addr
F000:C230  89 46 FE				mov	[bp-2],ax
F000:C233  89 56 FC				mov	[bp-4],dx
F000:C236  8B F2				mov	si,dx
F000:C238			loc_891:					;  xref F000:C254
F000:C238  8A 4E EC				mov	cl,[bp-14h]
F000:C23B  8B 5E FE				mov	bx,[bp-2]
F000:C23E  36: D3 2F				shr	word ptr ss:[bx],cl	; Shift w/zeros fill
F000:C241  8A 4E 08				mov	cl,[bp+8]
F000:C244  E8 047B				call	sub_261			; (C6C2)
F000:C247  36: 89 04				mov	ss:[si],ax
F000:C24A  46					inc	si
F000:C24B  46					inc	si
F000:C24C  83 46 FE 02				add	word ptr [bp-2],2
F000:C250  47					inc	di
F000:C251  39 7E 08				cmp	[bp+8],di
F000:C254  73 E2				jae	loc_891			; Jump if above or =
F000:C256			loc_892:					;  xref F000:C228
F000:C256  83 FF 10				cmp	di,10h
F000:C259  77 17				ja	short loc_894		; Jump if above
F000:C25B  8B F7				mov	si,di
F000:C25D  D1 E6				shl	si,1			; Shift w/zeros fill
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 227

F000:C25F  8D 5A A6				lea	bx,[bp+si-5Ah]		; Load effective addr
F000:C262			loc_893:					;  xref F000:C270
F000:C262  B1 10				mov	cl,10h
F000:C264  E8 045B				call	sub_261			; (C6C2)
F000:C267  36: 89 07				mov	ss:[bx],ax
F000:C26A  43					inc	bx
F000:C26B  43					inc	bx
F000:C26C  47					inc	di
F000:C26D  83 FF 10				cmp	di,10h
F000:C270  76 F0				jbe	loc_893			; Jump if below or =
F000:C272			loc_894:					;  xref F000:C259
F000:C272  8B 76 08				mov	si,[bp+8]
F000:C275  D1 E6				shl	si,1			; Shift w/zeros fill
F000:C277  8B 5A 84				mov	bx,[bp+si-7Ch]
F000:C27A  8A 4E EC				mov	cl,[bp-14h]
F000:C27D  D3 EB				shr	bx,cl			; Shift w/zeros fill
F000:C27F  0B DB				or	bx,bx			; Zero ?
F000:C281  74 31				jz	short loc_896		; Jump if zero
F000:C283  8A 4E 08				mov	cl,[bp+8]
F000:C286 њBF 0001				mov	di,offset @rs232_port_1+1	; (0040:0001=3)
F000:C289  D3 E7				shl	di,cl			; Shift w/zeros fill
F000:C28B  3B FB				cmp	di,bx
F000:C28D  74 25				je	short loc_896		; Jump if equal
F000:C28F  8B C3				mov	ax,bx
F000:C291  D1 E0				shl	ax,1			; Shift w/zeros fill
F000:C293  03 46 0A				add	ax,[bp+0Ah]
F000:C296  89 46 FE				mov	[bp-2],ax
F000:C299  8B C7				mov	ax,di
F000:C29B  2B C3				sub	ax,bx
F000:C29D  89 46 FC				mov	[bp-4],ax
F000:C2A0  89 7E F6				mov	[bp-0Ah],di
F000:C2A3  89 5E F8				mov	[bp-8],bx
F000:C2A6  8B 5E FE				mov	bx,[bp-2]
F000:C2A9  8B D0				mov	dx,ax
F000:C2AB			loc_895:					;  xref F000:C2B2
F000:C2AB  C7 07 0000				mov	word ptr [bx],0
F000:C2AF  43					inc	bx
F000:C2B0  43					inc	bx
F000:C2B1  4A					dec	dx
F000:C2B2  75 F7				jnz	loc_895			; Jump if not zero
F000:C2B4			loc_896:					;  xref F000:C281, C28D
F000:C2B4  8B 46 04				mov	ax,[bp+4]
F000:C2B7  89 46 F0				mov	[bp-10h],ax
F000:C2BA  B1 0F				mov	cl,0Fh
F000:C2BC  2A 4E 08				sub	cl,[bp+8]
F000:C2BF  BA 0001				mov	dx,1
F000:C2C2  D3 E2				shl	dx,cl			; Shift w/zeros fill
F000:C2C4  89 56 EA				mov	[bp-16h],dx
F000:C2C7  C7 46 F4 0000			mov	word ptr [bp-0Ch],0
F000:C2CC  0B C0				or	ax,ax			; Zero ?
F000:C2CE  75 03				jnz	short loc_897		; Jump if not zero
F000:C2D0  E9 0107				jmp	loc_908			; (C3DA)
F000:C2D3			loc_897:					;  xref F000:C2CE, C3D7
F000:C2D3 њ8B 5E F4				mov	bx,[bp-0Ch]
F000:C2D6  8B 76 06				mov	si,[bp+6]
F000:C2D9  8B 30				mov	si,[bx+si]
F000:C2DB  81 E6 00FF				and	si,0FFh
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 228

F000:C2DF  75 03				jnz	short loc_898		; Jump if not zero
F000:C2E1  E9 00E8				jmp	loc_907			; (C3CC)
F000:C2E4			loc_898:					;  xref F000:C2DF
F000:C2E4  8B FE				mov	di,si
F000:C2E6  D1 E7				shl	di,1			; Shift w/zeros fill
F000:C2E8  8D 5B 82				lea	bx,[bp+di-7Eh]		; Load effective addr
F000:C2EB  89 9E FF7E				mov	[bp-82h],bx
F000:C2EF  8C 56 80				mov	[bp-80h],ss
F000:C2F2  36: 8B 07				mov	ax,ss:[bx]
F000:C2F5  03 43 A6				add	ax,[bp+di-5Ah]
F000:C2F8  89 46 EE				mov	[bp-12h],ax
F000:C2FB  39 76 08				cmp	[bp+8],si
F000:C2FE  72 39				jb	short loc_901		; Jump if below
F000:C300  8B FB				mov	di,bx
F000:C302  36: 8B 1D				mov	bx,ss:[di]
F000:C305  3B D8				cmp	bx,ax
F000:C307  72 03				jb	short loc_899		; Jump if below
F000:C309  E9 00B6				jmp	loc_906			; (C3C2)
F000:C30C			loc_899:					;  xref F000:C307
F000:C30C  89 76 F2				mov	[bp-0Eh],si
F000:C30F  8B C3				mov	ax,bx
F000:C311  D1 E0				shl	ax,1			; Shift w/zeros fill
F000:C313  03 46 0A				add	ax,[bp+0Ah]
F000:C316  89 46 FE				mov	[bp-2],ax
F000:C319  8B 46 EE				mov	ax,[bp-12h]
F000:C31C  2B C3				sub	ax,bx
F000:C31E  89 46 FC				mov	[bp-4],ax
F000:C321  89 5E F8				mov	[bp-8],bx
F000:C324  8B 5E FE				mov	bx,[bp-2]
F000:C327  8B C8				mov	cx,ax
F000:C329  8B 7E F4				mov	di,[bp-0Ch]

F000:C32C			locloop_900:					;  xref F000:C331
F000:C32C  43					inc	bx
F000:C32D  43					inc	bx
F000:C32E  89 7F FE				mov	[bx-2],di
F000:C331  E2 F9				loop	locloop_900		; Loop if cx > 0

F000:C333  8B 76 F2				mov	si,[bp-0Eh]
F000:C336  E9 0089				jmp	loc_906			; (C3C2)
F000:C339			loc_901:					;  xref F000:C2FE
F000:C339  8B 9E FF7E				mov	bx,[bp-82h]
F000:C33D  36: 8B 07				mov	ax,ss:[bx]
F000:C340  89 46 F6				mov	[bp-0Ah],ax
F000:C343  8A 4E EC				mov	cl,[bp-14h]
F000:C346  D3 E8				shr	ax,cl			; Shift w/zeros fill
F000:C348  D1 E0				shl	ax,1			; Shift w/zeros fill
F000:C34A  03 46 0A				add	ax,[bp+0Ah]
F000:C34D  89 46 FE				mov	[bp-2],ax
F000:C350  8B C6				mov	ax,si
F000:C352  2B 46 08				sub	ax,[bp+8]
F000:C355  89 46 F8				mov	[bp-8],ax
F000:C358  0B C0				or	ax,ax			; Zero ?
F000:C35A  74 5E				jz	short loc_905		; Jump if zero
F000:C35C  89 76 F2				mov	[bp-0Eh],si
F000:C35F  8B 5E F0				mov	bx,[bp-10h]
F000:C362  8B C3				mov	ax,bx
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 229

F000:C364  D1 E0				shl	ax,1			; Shift w/zeros fill
F000:C366  8B C8				mov	cx,ax
F000:C368  05 2810				add	ax,2810h
F000:C36B  89 46 FC				mov	[bp-4],ax
F000:C36E  81 C1 201A				add	cx,201Ah
F000:C372  89 4E FA				mov	[bp-6],cx
F000:C375  8B 76 FE				mov	si,[bp-2]
F000:C378  8B 7E F6				mov	di,[bp-0Ah]
F000:C37B			loc_902:					;  xref F000:C3B2
F000:C37B  83 3C 00				cmp	word ptr [si],0
F000:C37E  75 1C				jne	short loc_903		; Jump if not equal
F000:C380  33 C0				xor	ax,ax			; Zero register
F000:C382  8B 5E FA				mov	bx,[bp-6]
F000:C385  89 07				mov	[bx],ax
F000:C387  8B 5E FC				mov	bx,[bp-4]
F000:C38A  89 07				mov	[bx],ax
F000:C38C  8B 46 F0				mov	ax,[bp-10h]
F000:C38F  FF 46 F0				inc	word ptr [bp-10h]
F000:C392  89 04				mov	[si],ax
F000:C394  83 46 FC 02				add	word ptr [bp-4],2
F000:C398  83 46 FA 02				add	word ptr [bp-6],2
F000:C39C			loc_903:					;  xref F000:C37E
F000:C39C  8B 04				mov	ax,[si]
F000:C39E  D1 E0				shl	ax,1			; Shift w/zeros fill
F000:C3A0  BE 2810				mov	si,2810h
F000:C3A3  85 7E EA				test	di,[bp-16h]
F000:C3A6  75 03				jnz	short loc_904		; Jump if not zero
F000:C3A8  BE 201A				mov	si,201Ah
F000:C3AB			loc_904:					;  xref F000:C3A6
F000:C3AB  03 F0				add	si,ax
F000:C3AD  D1 E7				shl	di,1			; Shift w/zeros fill
F000:C3AF  FF 4E F8				dec	word ptr [bp-8]
F000:C3B2  75 C7				jnz	loc_902			; Jump if not zero
F000:C3B4  89 76 FE				mov	[bp-2],si
F000:C3B7  8B 76 F2				mov	si,[bp-0Eh]
F000:C3BA			loc_905:					;  xref F000:C35A
F000:C3BA  8B 46 F4				mov	ax,[bp-0Ch]
F000:C3BD  8B 5E FE				mov	bx,[bp-2]
F000:C3C0  89 07				mov	[bx],ax
F000:C3C2			loc_906:					;  xref F000:C309, C336
F000:C3C2  8B 46 EE				mov	ax,[bp-12h]
F000:C3C5  8B 9E FF7E				mov	bx,[bp-82h]
F000:C3C9  36: 89 07				mov	ss:[bx],ax
F000:C3CC			loc_907:					;  xref F000:C2E1
F000:C3CC  8B 46 04				mov	ax,[bp+4]
F000:C3CF  FF 46 F4				inc	word ptr [bp-0Ch]
F000:C3D2  39 46 F4				cmp	[bp-0Ch],ax
F000:C3D5  73 03				jae	short loc_908		; Jump if above or =
F000:C3D7  E9 FEF9				jmp	loc_897			; (C2D3)
F000:C3DA			loc_908:					;  xref F000:C2D0, C3D5
F000:C3DA  5E					pop	si
F000:C3DB  5F					pop	di
F000:C3DC  C9					leave				; Procedure exit
F000:C3DD  C3					retn
				sub_252		endp


           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 230

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:C5D4, C5E3
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_253		proc	near
F000:C3DE  C8 0008 00				enter	8,0			; Procedure entry
F000:C3E2  57					push	di
F000:C3E3  56					push	si
F000:C3E4  E8 02C9				call	sub_259			; (C6B0)
F000:C3E7  89 46 F8				mov	[bp-8],ax
F000:C3EA  0B C0				or	ax,ax			; Zero ?
F000:C3EC  75 2C				jnz	short loc_911		; Jump if not zero
F000:C3EE  E8 02BF				call	sub_259			; (C6B0)
F000:C3F1  06					push	es
F000:C3F2  1E					push	ds
F000:C3F3  07					pop	es
F000:C3F4  33 FF				xor	di,di			; Zero register
F000:C3F6  39 7E 04				cmp	[bp+4],di
F000:C3F9  7E 10				jle	short loc_910		; Jump if < or =
F000:C3FB  8B 4E 04				mov	cx,[bp+4]
F000:C3FE њ81 C7 3206				add	di,data_76e		; (4000:3206=0)
F000:C402  50					push	ax
F000:C403  32 C0				xor	al,al			; Zero register
F000:C405			loc_909:					;  xref F000:C408
F000:C405  AA					stosb				; Store al to es:[di]
F000:C406  3B F9				cmp	di,cx
F000:C408  7C FB				jl	loc_909			; Jump if <
F000:C40A  58					pop	ax
F000:C40B			loc_910:					;  xref F000:C3F9
F000:C40B њBF 5E41				mov	di,data_78e		; (4000:5E41=0)
F000:C40E  B9 0100				mov	cx,100h
F000:C411  89 46 FA				mov	[bp-6],ax
F000:C414  F3/ AB				rep	stosw			; Rep when cx >0 Store ax to es:[di]
F000:C416  07					pop	es
F000:C417  E9 00A3				jmp	loc_922			; (C4BD)
F000:C41A			loc_911:					;  xref F000:C3EC
F000:C41A  33 FF				xor	di,di			; Zero register
F000:C41C  EB 75				jmp	short loc_919		; (C493)
F000:C41E			loc_912:					;  xref F000:C496
F000:C41E  8B 36 0004				mov	si,ds:data_62e		; (4000:0004=0FFFFh)
F000:C422  C1 EE 0D				shr	si,0Dh			; Shift w/zeros fill
F000:C425  83 FE 07				cmp	si,7
F000:C428  75 1E				jne	short loc_914		; Jump if not equal
F000:C42A  C7 46 FE 1000			mov	word ptr [bp-2],1000h
F000:C42F  F6 06 0005 10			test	byte ptr ds:data_62e+1,10h	; (4000:0005=0FFh)
F000:C434  74 12				jz	short loc_914		; Jump if zero
F000:C436  89 7E FC				mov	[bp-4],di
F000:C439  8B 7E FE				mov	di,[bp-2]
F000:C43C			loc_913:					;  xref F000:C443
F000:C43C  46					inc	si
F000:C43D  D1 EF				shr	di,1			; Shift w/zeros fill
F000:C43F  85 3E 0004				test	di,ds:data_62e		; (4000:0004=0FFFFh)
F000:C443  75 F7				jnz	loc_913			; Jump if not zero
F000:C445  8B 7E FC				mov	di,[bp-4]
F000:C448			loc_914:					;  xref F000:C428, C434
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 231

F000:C448  83 FE 07				cmp	si,7
F000:C44B  7C 09				jl	short loc_915		; Jump if <
F000:C44D  8D 44 FD				lea	ax,[si-3]		; Load effective addr
F000:C450  89 46 FE				mov	[bp-2],ax
F000:C453  EB 06				jmp	short loc_916		; (C45B)
F000:C455  90					db	90h
F000:C456			loc_915:					;  xref F000:C44B
F000:C456  C7 46 FE 0003			mov	word ptr [bp-2],3
F000:C45B			loc_916:					;  xref F000:C453
F000:C45B  FF 76 FE				push	word ptr [bp-2]
F000:C45E  E8 FCC6				call	sub_250			; (C127)
F000:C461  44					inc	sp
F000:C462  44					inc	sp
F000:C463  8B C6				mov	ax,si
F000:C465  88 85 3206				mov	ds:data_76e[di],al	; (4000:3206=0)
F000:C469  47					inc	di
F000:C46A  39 7E 08				cmp	[bp+8],di
F000:C46D  75 24				jne	short loc_919		; Jump if not equal
F000:C46F  6A 02				push	2
F000:C471  E8 FD1A				call	sub_251			; (C18E)
F000:C474  44					inc	sp
F000:C475  44					inc	sp
F000:C476  8B F0				mov	si,ax
F000:C478  89 76 FA				mov	[bp-6],si
F000:C47B  89 7E FC				mov	[bp-4],di
F000:C47E  8B F7				mov	si,di
F000:C480  8B 7E FA				mov	di,[bp-6]
F000:C483  EB 06				jmp	short loc_918		; (C48B)
F000:C485			loc_917:					;  xref F000:C48C
F000:C485  C6 84 3206 00			mov	byte ptr ds:data_76e[si],0	; (4000:3206=0)
F000:C48A  46					inc	si
F000:C48B			loc_918:					;  xref F000:C483
F000:C48B  4F					dec	di
F000:C48C  79 F7				jns	loc_917			; Jump if not sign
F000:C48E  89 76 FC				mov	[bp-4],si
F000:C491  8B FE				mov	di,si
F000:C493			loc_919:					;  xref F000:C41C, C46D
F000:C493  39 7E F8				cmp	[bp-8],di
F000:C496  7F 86				jg	loc_912			; Jump if >
F000:C498  8B 4E 04				mov	cx,[bp+4]
F000:C49B  3B F9				cmp	di,cx
F000:C49D  7D 0F				jge	short loc_921		; Jump if > or =
F000:C49F  89 7E FC				mov	[bp-4],di
F000:C4A2  8B F7				mov	si,di
F000:C4A4			loc_920:					;  xref F000:C4AC
F000:C4A4  C6 84 3206 00			mov	byte ptr ds:data_76e[si],0	; (4000:3206=0)
F000:C4A9  46					inc	si
F000:C4AA  3B F1				cmp	si,cx
F000:C4AC  7C F6				jl	loc_920			; Jump if <
F000:C4AE			loc_921:					;  xref F000:C49D
F000:C4AE  68 5E41				push	5E41h
F000:C4B1  6A 08				push	8
F000:C4B3  68 3206				push	3206h
F000:C4B6  51					push	cx
F000:C4B7  E8 FCF4				call	sub_252			; (C1AE)
F000:C4BA  83 C4 08				add	sp,8
F000:C4BD			loc_922:					;  xref F000:C417
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 232

F000:C4BD  5E					pop	si
F000:C4BE  5F					pop	di
F000:C4BF  C9					leave				; Procedure exit
F000:C4C0  C3					retn
				sub_253		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:C5DA
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_254		proc	near
F000:C4C1  C8 0006 00				enter	6,0			; Procedure entry
F000:C4C5  57					push	di
F000:C4C6  56					push	si
F000:C4C7  6A 09				push	9
F000:C4C9  E8 FCC2				call	sub_251			; (C18E)
F000:C4CC  44					inc	sp
F000:C4CD  44					inc	sp
F000:C4CE  8B F0				mov	si,ax
F000:C4D0  0B F6				or	si,si			; Zero ?
F000:C4D2  75 24				jnz	short loc_925		; Jump if not zero
F000:C4D4  6A 09				push	9
F000:C4D6  E8 FCB5				call	sub_251			; (C18E)
F000:C4D9  44					inc	sp
F000:C4DA  44					inc	sp
F000:C4DB  8B F8				mov	di,ax
F000:C4DD			loc_923:					;  xref F000:C4E7
F000:C4DD  C6 84 3008 00			mov	byte ptr ds:data_41e[si],0	; (0040:3008=0D2h)
F000:C4E2  46					inc	si
F000:C4E3 њ81 FE 01FE				cmp	si,data_25e		; (0040:01FE=0D9h)
F000:C4E7  7C F4				jl	loc_923			; Jump if <
F000:C4E9 њBB 3A0F				mov	bx,data_77e		; (4000:3A0F=0)
F000:C4EC  B9 1000				mov	cx,1000h

F000:C4EF			locloop_924:					;  xref F000:C4F3
F000:C4EF  89 3F				mov	[bx],di
F000:C4F1  43					inc	bx
F000:C4F2  43					inc	bx
F000:C4F3  E2 FA				loop	locloop_924		; Loop if cx > 0

F000:C4F5  E9 00BE				jmp	loc_940			; (C5B6)
F000:C4F8			loc_925:					;  xref F000:C4D2
F000:C4F8  89 76 FA				mov	[bp-6],si
F000:C4FB  33 DB				xor	bx,bx			; Zero register
F000:C4FD  8B CE				mov	cx,si
F000:C4FF  0B C9				or	cx,cx			; Zero ?
F000:C501  7F 03				jg	short loc_926		; Jump if >
F000:C503  E9 008D				jmp	loc_937			; (C593)
F000:C506			loc_926:					;  xref F000:C501
F000:C506  89 5E FC				mov	[bp-4],bx
F000:C509			loc_927:					;  xref F000:C590
F000:C509 њ8A 1E 0005				mov	bl,byte ptr @rs232_port_3+1	; (0040:0005=0)
F000:C50D  2A FF				sub	bh,bh
F000:C50F  D1 E3				shl	bx,1			; Shift w/zeros fill
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 233

F000:C511  8B B7 5E41				mov	si,ds:data_46e[bx]	; (0040:5E41=92FFh)
F000:C515  83 FE 13				cmp	si,13h
F000:C518  7C 1C				jl	short loc_930		; Jump if <
F000:C51A  BF 0080				mov	di,80h
F000:C51D			loc_928:					;  xref F000:C534
F000:C51D  8B DE				mov	bx,si
F000:C51F  D1 E3				shl	bx,1			; Shift w/zeros fill
F000:C521  8B B7 2810				mov	si,ds:data_38e[bx]	; (0040:2810=9008h)
F000:C525  85 3E 0004				test	di,@rs232_port_3	; (0040:0004=0)
F000:C529  75 04				jnz	short loc_929		; Jump if not zero
F000:C52B  8B B7 201A				mov	si,ds:data_37e[bx]	; (0040:201A=0C359h)
F000:C52F			loc_929:					;  xref F000:C529
F000:C52F  D1 EF				shr	di,1			; Shift w/zeros fill
F000:C531  83 FE 13				cmp	si,13h
F000:C534  7D E7				jge	loc_928			; Jump if > or =
F000:C536			loc_930:					;  xref F000:C518
F000:C536  8A 84 3206				mov	al,ds:data_42e[si]	; (0040:3206=0F6h)
F000:C53A  2A E4				sub	ah,ah
F000:C53C  50					push	ax
F000:C53D  E8 FBE7				call	sub_250			; (C127)
F000:C540  44					inc	sp
F000:C541  44					inc	sp
F000:C542  83 FE 02				cmp	si,2
F000:C545  7F 34				jg	short loc_935		; Jump if >
F000:C547  0B F6				or	si,si			; Zero ?
F000:C549  75 05				jnz	short loc_931		; Jump if not zero
F000:C54B  BF 0001				mov	di,1
F000:C54E  EB 1D				jmp	short loc_933		; (C56D)
F000:C550			loc_931:					;  xref F000:C549
F000:C550  4E					dec	si
F000:C551  75 0E				jnz	short loc_932		; Jump if not zero
F000:C553  6A 04				push	4
F000:C555  E8 FC36				call	sub_251			; (C18E)
F000:C558  44					inc	sp
F000:C559  44					inc	sp
F000:C55A  8B F8				mov	di,ax
F000:C55C  83 C7 03				add	di,3
F000:C55F  EB 0C				jmp	short loc_933		; (C56D)
F000:C561			loc_932:					;  xref F000:C551
F000:C561  6A 09				push	9
F000:C563  E8 FC28				call	sub_251			; (C18E)
F000:C566  44					inc	sp
F000:C567  44					inc	sp
F000:C568  8B F8				mov	di,ax
F000:C56A  83 C7 14				add	di,14h
F000:C56D			loc_933:					;  xref F000:C54E, C55F
F000:C56D  8B 5E FC				mov	bx,[bp-4]
F000:C570			loc_934:					;  xref F000:C579
F000:C570 њ4F					dec	di
F000:C571  78 15				js	short loc_936		; Jump if sign=1
F000:C573  C6 87 3008 00			mov	byte ptr ds:data_41e[bx],0	; (0040:3008=0D2h)
F000:C578  43					inc	bx
F000:C579  EB F5				jmp	short loc_934		; (C570)
F000:C57B			loc_935:					;  xref F000:C545
F000:C57B  8B 5E FC				mov	bx,[bp-4]
F000:C57E  8B FE				mov	di,si
F000:C580  8D 45 FE				lea	ax,[di-2]		; Load effective addr
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 234

F000:C583  88 87 3008				mov	ds:data_41e[bx],al	; (0040:3008=0D2h)
F000:C587  43					inc	bx
F000:C588			loc_936:					;  xref F000:C571
F000:C588  89 5E FC				mov	[bp-4],bx
F000:C58B  39 5E FA				cmp	[bp-6],bx
F000:C58E  7E 03				jle	short loc_937		; Jump if < or =
F000:C590  E9 FF76				jmp	loc_927			; (C509)
F000:C593			loc_937:					;  xref F000:C503, C58E
F000:C593  81 FB 01FE				cmp	bx,1FEh
F000:C597  7D 0C				jge	short loc_939		; Jump if > or =
F000:C599			loc_938:					;  xref F000:C5A3
F000:C599  C6 87 3008 00			mov	byte ptr ds:data_41e[bx],0	; (0040:3008=0D2h)
F000:C59E  43					inc	bx
F000:C59F њ81 FB 01FE				cmp	bx,offset data_86	; (F000:01FE=0FFh)
F000:C5A3  7C F4				jl	loc_938			; Jump if <
F000:C5A5			loc_939:					;  xref F000:C597
F000:C5A5  68 3A0F				push	3A0Fh
F000:C5A8  6A 0C				push	0Ch
F000:C5AA  68 3008				push	3008h
F000:C5AD  68 01FE				push	1FEh
F000:C5B0  E8 FBFB				call	sub_252			; (C1AE)
F000:C5B3  83 C4 08				add	sp,8
F000:C5B6			loc_940:					;  xref F000:C4F5
F000:C5B6  5E					pop	si
F000:C5B7  5F					pop	di
F000:C5B8  C9					leave				; Procedure exit
F000:C5B9  C3					retn
				sub_254		endp

F000:C5BA  90					db	90h

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:C0F1
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_255		proc	near
F000:C5BB  57					push	di
F000:C5BC  56					push	si
F000:C5BD  83 3E 000A 00			cmp	word ptr ds:data_66e,0	; (4000:000A=0FFFFh)
F000:C5C2  75 25				jne	short loc_941		; Jump if not equal
F000:C5C4  6A 10				push	10h
F000:C5C6  E8 FBC5				call	sub_251			; (C18E)
F000:C5C9  44					inc	sp
F000:C5CA  44					inc	sp
F000:C5CB  A3 000A				mov	ds:data_66e,ax		; (4000:000A=0FFFFh)
F000:C5CE  6A 03				push	3
F000:C5D0  6A 05				push	5
F000:C5D2  6A 13				push	13h
F000:C5D4  E8 FE07				call	sub_253			; (C3DE)
F000:C5D7  83 C4 06				add	sp,6
F000:C5DA  E8 FEE4				call	sub_254			; (C4C1)
F000:C5DD  6A FF				push	0FFFFh
F000:C5DF  6A 04				push	4
F000:C5E1  6A 0E				push	0Eh
F000:C5E3  E8 FDF8				call	sub_253			; (C3DE)
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 235

F000:C5E6  83 C4 06				add	sp,6
F000:C5E9			loc_941:					;  xref F000:C5C2
F000:C5E9  FF 0E 000A				dec	@prn_port_2		; (0040:000A=0)
F000:C5ED  8B 1E 0004				mov	bx,@rs232_port_3	; (0040:0004=0)
F000:C5F1  80 E3 F7				and	bl,0F7h
F000:C5F4  C1 EB 03				shr	bx,3			; Shift w/zeros fill
F000:C5F7  8B B7 3A0F				mov	si,ds:data_43e[bx]	; (0040:3A0F=3D02h)
F000:C5FB  81 FE 01FE				cmp	si,1FEh
F000:C5FF  72 1D				jb	short loc_944		; Jump if below
F000:C601  BF 0008				mov	di,8
F000:C604			loc_942:					;  xref F000:C61C
F000:C604  8B DE				mov	bx,si
F000:C606  D1 E3				shl	bx,1			; Shift w/zeros fill
F000:C608  8B B7 2810				mov	si,ds:data_38e[bx]	; (0040:2810=9008h)
F000:C60C  85 3E 0004				test	di,@rs232_port_3	; (0040:0004=0)
F000:C610  75 04				jnz	short loc_943		; Jump if not zero
F000:C612  8B B7 201A				mov	si,ds:data_37e[bx]	; (0040:201A=0C359h)
F000:C616			loc_943:					;  xref F000:C610
F000:C616  D1 EF				shr	di,1			; Shift w/zeros fill
F000:C618 њ81 FE 01FE				cmp	si,data_25e		; (0040:01FE=0D9h)
F000:C61C  73 E6				jae	loc_942			; Jump if above or =
F000:C61E			loc_944:					;  xref F000:C5FF
F000:C61E  8A 84 3008				mov	al,ds:data_41e[si]	; (0040:3008=0D2h)
F000:C622  E8 0094				call	sub_260			; (C6B9)
F000:C625  8B C6				mov	ax,si
F000:C627  5E					pop	si
F000:C628  5F					pop	di
F000:C629  C3					retn
				sub_255		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:C10F
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_256		proc	near
F000:C62A  57					push	di
F000:C62B  56					push	si
F000:C62C  8A 1E 0005				mov	bl,byte ptr @rs232_port_3+1	; (0040:0005=0)
F000:C630  2A FF				sub	bh,bh
F000:C632  D1 E3				shl	bx,1			; Shift w/zeros fill
F000:C634  8B B7 5E41				mov	si,ds:data_46e[bx]	; (0040:5E41=92FFh)
F000:C638  83 FE 0E				cmp	si,0Eh
F000:C63B  72 1C				jb	short loc_947		; Jump if below
F000:C63D  BF 0080				mov	di,80h
F000:C640			loc_945:					;  xref F000:C657
F000:C640  8B DE				mov	bx,si
F000:C642  D1 E3				shl	bx,1			; Shift w/zeros fill
F000:C644  8B B7 2810				mov	si,ds:data_38e[bx]	; (0040:2810=9008h)
F000:C648  85 3E 0004				test	di,@rs232_port_3	; (0040:0004=0)
F000:C64C  75 04				jnz	short loc_946		; Jump if not zero
F000:C64E  8B B7 201A				mov	si,ds:data_37e[bx]	; (0040:201A=0C359h)
F000:C652			loc_946:					;  xref F000:C64C
F000:C652  D1 EF				shr	di,1			; Shift w/zeros fill
F000:C654  83 FE 0E				cmp	si,0Eh
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 236

F000:C657  73 E7				jae	loc_945			; Jump if above or =
F000:C659			loc_947:					;  xref F000:C63B
F000:C659  8A 84 3206				mov	al,ds:data_42e[si]	; (0040:3206=0F6h)
F000:C65D  E8 0059				call	sub_260			; (C6B9)
F000:C660  0B F6				or	si,si			; Zero ?
F000:C662  74 16				jz	short loc_948		; Jump if zero
F000:C664  8D 44 FF				lea	ax,[si-1]		; Load effective addr
F000:C667  50					push	ax
F000:C668  E8 FB23				call	sub_251			; (C18E)
F000:C66B  83 C4 02				add	sp,2
F000:C66E  8D 4C FF				lea	cx,[si-1]		; Load effective addr
F000:C671  BA 0001				mov	dx,1
F000:C674  D3 E2				shl	dx,cl			; Shift w/zeros fill
F000:C676  03 C2				add	ax,dx
F000:C678  8B F0				mov	si,ax
F000:C67A			loc_948:					;  xref F000:C662
F000:C67A  8B C6				mov	ax,si
F000:C67C  5E					pop	si
F000:C67D  5F					pop	di
F000:C67E  C3					retn
				sub_256		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:C061, C073
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_257		proc	near
F000:C67F  26: 8B 17				mov	dx,es:[bx]
F000:C682  89 14				mov	[si],dx
F000:C684  26: 8B 57 02				mov	dx,es:[bx+2]
F000:C688  89 54 02				mov	[si+2],dx
F000:C68B  C3					retn
				sub_257		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:C0EA, C11E
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_258		proc	near
F000:C68C  8B 4E 04				mov	cx,[bp+4]
F000:C68F			loc_949:					;  xref F000:C6AD
F000:C68F  FF 0E 0000				dec	word ptr ds:data_60e	; (4000:0000=0FFFFh)
F000:C693  78 1A				js	short loc_ret_950	; Jump if sign=1
F000:C695  8B 1E 000C				mov	bx,ds:data_67e		; (4000:000C=0FFFFh)
F000:C699  8A 87 0016				mov	al,ds:data_72e[bx]	; (4000:0016=0FFh)
F000:C69D  88 84 0016				mov	ds:data_72e[si],al	; (4000:0016=0FFh)
F000:C6A1  8D 47 01				lea	ax,[bx+1]		; Load effective addr
F000:C6A4  80 E4 1F				and	ah,1Fh
F000:C6A7  A3 000C				mov	ds:data_67e,ax		; (4000:000C=0FFFFh)
F000:C6AA  46					inc	si
F000:C6AB  3B F1				cmp	si,cx
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 237

F000:C6AD  75 E0				jne	loc_949			; Jump if not equal

F000:C6AF			loc_ret_950:					;  xref F000:C693
F000:C6AF  C3					retn
				sub_258		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:C3E4, C3EE
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_259		proc	near
F000:C6B0  FF 76 06				push	word ptr [bp+6]
F000:C6B3  E8 FAD8				call	sub_251			; (C18E)
F000:C6B6  44					inc	sp
F000:C6B7  44					inc	sp
F000:C6B8  C3					retn
				sub_259		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:C622, C65D
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_260		proc	near
F000:C6B9  2A E4				sub	ah,ah
F000:C6BB  50					push	ax
F000:C6BC  E8 FA68				call	sub_250			; (C127)
F000:C6BF  44					inc	sp
F000:C6C0  44					inc	sp
F000:C6C1  C3					retn
				sub_260		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:C244, C264
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_261		proc	near
F000:C6C2  8B C7				mov	ax,di
F000:C6C4  2A C8				sub	cl,al
F000:C6C6  B8 0001				mov	ax,1
F000:C6C9  D3 E0				shl	ax,cl			; Shift w/zeros fill
F000:C6CB  C3					retn
				sub_261		endp

							                        ;* No entry point to code
F000:C6CC  FA					cli				; Disable interrupts
F000:C6CD  B8 0030				mov	ax,30h
F000:C6D0  8E D0				mov	ss,ax
F000:C6D2  BC 0100				mov	sp,100h
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 238

F000:C6D5  E8 01B3				call	sub_267			; (C88B)
F000:C6D8  E8 EC51				call	sub_194			; (B32C)
F000:C6DB  E8 EC11				call	sub_190			; (B2EF)
F000:C6DE  68 2000				push	2000h
F000:C6E1  07					pop	es
F000:C6E2  B8 E000				mov	ax,0E000h
F000:C6E5  2E: F6 06 8281 20			test	cs:data_129,20h		; (F000:8281=0) ' '
F000:C6EB  74 02				jz	short loc_951		; Jump if zero
F000:C6ED  B4 F0				mov	ah,0F0h
F000:C6EF			loc_951:					;  xref F000:C6EB
F000:C6EF  50					push	ax
F000:C6F0  50					push	ax
F000:C6F1  1F					pop	ds
F000:C6F2  E8 28AC				call	sub_372			; (EFA1)
F000:C6F5  68 1000				push	1000h
F000:C6F8  07					pop	es
F000:C6F9  58					pop	ax
F000:C6FA  80 F4 10				xor	ah,10h
F000:C6FD  50					push	ax
F000:C6FE  1F					pop	ds
F000:C6FF  E8 289F				call	sub_372			; (EFA1)
F000:C702  E8 0199				call	sub_268			; (C89E)
F000:C705  68 2000				push	2000h
F000:C708  07					pop	es
F000:C709 њBB 0010				mov	bx,data_51e		; (2000:0010=0FBh)
F000:C70C  26: 8B 0F				mov	cx,es:[bx]
F000:C70F  43					inc	bx
F000:C710  43					inc	bx

F000:C711			locloop_952:					;  xref F000:C71C
F000:C711  83 C3 04				add	bx,4
F000:C714  26: 8A 47 FC				mov	al,es:[bx-4]
F000:C718  24 0F				and	al,0Fh
F000:C71A  3C 04				cmp	al,4
F000:C71C  E0 F3				loopnz	locloop_952		; Loop if zf=0, cx>0

F000:C71E  75 24				jnz	short loc_953		; Jump if not zero
F000:C720  68 1000				push	1000h
F000:C723  1F					pop	ds
F000:C724  68 5000				push	5000h
F000:C727  07					pop	es
F000:C728  E8 2876				call	sub_372			; (EFA1)
F000:C72B  E8 0091				call	sub_262			; (C7BF)
F000:C72E  72 19				jc	short loc_954		; Jump if carry Set
F000:C730  E8 EBD2				call	sub_191			; (B305)
F000:C733  E8 EBE5				call	sub_192			; (B31B)
F000:C736  68 5000				push	5000h
F000:C739  1F					pop	ds
F000:C73A  68 E000				push	0E000h
F000:C73D  07					pop	es
F000:C73E  E8 2860				call	sub_372			; (EFA1)
F000:C741  E8 EBDB				call	sub_193			; (B31F)
F000:C744			loc_953:					;  xref F000:C71E
F000:C744  E8 0089				call	sub_264			; (C7D0)
F000:C747  73 06				jnc	short loc_955		; Jump if carry=0
F000:C749			loc_954:					;  xref F000:C72E
F000:C749  BD 0003				mov	bp,3
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 239

F000:C74C  E9 280B				jmp	loc_1279		; (EF5A)
F000:C74F			loc_955:					;  xref F000:C747
F000:C74F  E9 BCD9				jmp	loc_240			; (842B)
							                        ;* No entry point to code
F000:C752  E8 0136				call	sub_267			; (C88B)
F000:C755  E8 0146				call	sub_268			; (C89E)
F000:C758  E8 006E				call	sub_263			; (C7C9)
F000:C75B  73 05				jnc	short loc_956		; Jump if carry=0
F000:C75D  E8 E632				call	sub_177			; (AD92)
F000:C760  EB 13				jmp	short loc_957		; (C775)
F000:C762			loc_956:					;  xref F000:C75B
F000:C762  B8 3000				mov	ax,3000h
F000:C765  2E: 8B 0E 828C			mov	cx,cs:data_131		; (F000:828C=6F00h)
F000:C76A  D1 E9				shr	cx,1			; Shift w/zeros fill
F000:C76C  E8 00FB				call	sub_266			; (C86A)
F000:C76F  E8 E6D6				call	sub_181			; (AE48)
F000:C772  E8 0116				call	sub_267			; (C88B)
F000:C775			loc_957:					;  xref F000:C760
F000:C775  E8 0058				call	sub_264			; (C7D0)
F000:C778  B8 3000				mov	ax,3000h
F000:C77B  B9 4000				mov	cx,4000h
F000:C77E  E8 00E9				call	sub_266			; (C86A)
F000:C781  C3					retn
							                        ;* No entry point to code
F000:C782  E8 0106				call	sub_267			; (C88B)
F000:C785  06					push	es
F000:C786  68 2000				push	2000h
F000:C789  07					pop	es
F000:C78A  2E: 8B 0E 828C			mov	cx,cs:data_131		; (F000:828C=6F00h)
F000:C78F  D1 E9				shr	cx,1			; Shift w/zeros fill
F000:C791  06					push	es
F000:C792  51					push	cx
F000:C793  B8 FFFF				mov	ax,0FFFFh
F000:C796  33 FF				xor	di,di			; Zero register
F000:C798  F3/ AB				rep	stosw			; Rep when cx >0 Store ax to es:[di]
F000:C79A  59					pop	cx
F000:C79B  58					pop	ax
F000:C79C  07					pop	es
F000:C79D  E8 00CA				call	sub_266			; (C86A)
F000:C7A0  06					push	es
F000:C7A1  68 4000				push	4000h
F000:C7A4  07					pop	es
F000:C7A5  E8 2044				call	sub_334			; (E7EC)
F000:C7A8  68 3000				push	3000h
F000:C7AB  07					pop	es
F000:C7AC  E8 203D				call	sub_334			; (E7EC)
F000:C7AF  68 2000				push	2000h
F000:C7B2  07					pop	es
F000:C7B3  E8 2036				call	sub_334			; (E7EC)
F000:C7B6  68 1000				push	1000h
F000:C7B9  07					pop	es
F000:C7BA  E8 202F				call	sub_334			; (E7EC)
F000:C7BD  07					pop	es
F000:C7BE  C3					retn

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
           MBIOS.LST       BIOS ROM Analysis			Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 240

				;
				;         Called from:   F000:C72B
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_262		proc	near
F000:C7BF  B0 04				mov	al,4
F000:C7C1  BF C804				mov	di,0C804h
F000:C7C4  BE 5000				mov	si,5000h
F000:C7C7  EB 0F				jmp	short loc_959		; (C7D8)

				;пппп External Entry into Subroutine пппппппппппппппппппппппппппппппппппппп
				;
				;         Called from:   F000:C758

				sub_263:
F000:C7C9  B0 01				mov	al,1
F000:C7CB  BF C7FC				mov	di,0C7FCh
F000:C7CE  EB 05				jmp	short loc_958		; (C7D5)

				;пппп External Entry into Subroutine пппппппппппппппппппппппппппппппппппппп
				;
				;         Called from:   F000:C744, C775

				sub_264:
F000:C7D0  B0 00				mov	al,0
F000:C7D2  BF C7F4				mov	di,0C7F4h
F000:C7D5			loc_958:					;  xref F000:C7CE
F000:C7D5  BE 3000				mov	si,3000h
F000:C7D8			loc_959:					;  xref F000:C7C7
F000:C7D8  1E					push	ds
F000:C7D9  8C D2				mov	dx,ss
F000:C7DB  8B CC				mov	cx,sp
F000:C7DD  BB 4000				mov	bx,4000h
F000:C7E0  8E D3				mov	ss,bx
F000:C7E2  8E DB				mov	ds,bx
F000:C7E4  BC EFF0				mov	sp,0EFF0h
F000:C7E7  52					push	dx
F000:C7E8  51					push	cx
F000:C7E9  E8 0020				call	sub_265			; (C80C)
F000:C7EC  59					pop	cx
F000:C7ED  5A					pop	dx
F000:C7EE  8E D2				mov	ss,dx
F000:C7F0  8B E1				mov	sp,cx
F000:C7F2  1F					pop	ds
F000:C7F3  C3					retn
				sub_262		endp

F000:C7F4  41 4D 49 42 49 4F			db	'AMIBIOSPAMIBIOSSAMIBIOSD'
F000:C7FA  53 50 41 4D 49 42
F000:C800  49 4F 53 53 41 4D
F000:C806  49 42 49 4F 53 44

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:C7E9
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 241


				sub_265		proc	near
F000:C80C  06					push	es
F000:C80D  68 2000				push	2000h
F000:C810  07					pop	es
F000:C811 њBB 0010				mov	bx,data_51e		; (2000:0010=0FBh)
F000:C814  26: 8B 0F				mov	cx,es:[bx]
F000:C817  43					inc	bx
F000:C818  43					inc	bx

F000:C819			locloop_960:					;  xref F000:C827
F000:C819  83 C3 04				add	bx,4
F000:C81C  26: 8B 57 FC				mov	dx,es:[bx-4]
F000:C820  8A E2				mov	ah,dl
F000:C822  80 E2 0F				and	dl,0Fh
F000:C825  38 C2				cmp	dl,al
F000:C827  E0 F0				loopnz	locloop_960		; Loop if zf=0, cx>0

F000:C829  75 39				jnz	short loc_963		; Jump if not zero
F000:C82B  26: 8B 4F FE				mov	cx,es:[bx-2]
F000:C82F  F6 C4 80				test	ah,80h
F000:C832  74 04				jz	short loc_961		; Jump if zero
F000:C834  68 1000				push	1000h
F000:C837  07					pop	es
F000:C838			loc_961:					;  xref F000:C832
F000:C838  B2 00				mov	dl,0
F000:C83A  50					push	ax
F000:C83B  57					push	di
F000:C83C  55					push	bp
F000:C83D  56					push	si
F000:C83E  52					push	dx
F000:C83F  56					push	si
F000:C840  52					push	dx
F000:C841  06					push	es
F000:C842  51					push	cx
F000:C843  E8 F7F0				call	sub_248			; (C036)
F000:C846  83 C4 08				add	sp,8
F000:C849  5E					pop	si
F000:C84A  1F					pop	ds
F000:C84B  5D					pop	bp
F000:C84C  5F					pop	di
F000:C84D  58					pop	ax
F000:C84E  56					push	si
F000:C84F  0E					push	cs
F000:C850  07					pop	es
F000:C851  8A C4				mov	al,ah
F000:C853  24 0F				and	al,0Fh
F000:C855  3C 04				cmp	al,4
F000:C857  75 03				jne	short loc_962		; Jump if not equal
F000:C859  83 C6 05				add	si,5
F000:C85C			loc_962:					;  xref F000:C857
F000:C85C  B9 0008				mov	cx,8
F000:C85F  F3/ A6				repe	cmpsb			; Rep zf=1+cx >0 Cmp [si] to es:[di]
F000:C861  5F					pop	di
F000:C862  74 04				jz	short loc_964		; Jump if zero
F000:C864			loc_963:					;  xref F000:C829
F000:C864  F9					stc				; Set carry flag
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 242

F000:C865  BD 000B				mov	bp,0Bh
F000:C868			loc_964:					;  xref F000:C862
F000:C868  07					pop	es
F000:C869  C3					retn
				sub_265		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:C76C, C77E, C79D
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_266		proc	near
F000:C86A  9C					pushf				; Push flags
F000:C86B  FA					cli				; Disable interrupts
F000:C86C  06					push	es
F000:C86D  1E					push	ds
F000:C86E  8E D8				mov	ds,ax
F000:C870  51					push	cx
F000:C871  E8 EAD2				call	sub_195			; (B346)
F000:C874  59					pop	cx
F000:C875  68 F000				push	0F000h
F000:C878  07					pop	es
F000:C879  33 F6				xor	si,si			; Zero register
F000:C87B  33 FF				xor	di,di			; Zero register
F000:C87D  F3/ A5				rep	movsw			; Rep when cx >0 Mov [si] to es:[di]
F000:C87F  E8 EAD1				call	sub_196			; (B353)
F000:C882  EA F000C887				jmp	far ptr loc_965		; (C887)
F000:C887			loc_965:					;  xref F000:C882
F000:C887  1F					pop	ds
F000:C888  07					pop	es
F000:C889  9D					popf				; Pop flags
F000:C88A  C3					retn
				sub_266		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:C6D5, C752, C772, C782
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_267		proc	near
F000:C88B  06					push	es
F000:C88C  1E					push	ds
F000:C88D  68 3000				push	3000h
F000:C890  07					pop	es
F000:C891  0E					push	cs
F000:C892  1F					pop	ds
F000:C893  E8 270B				call	sub_372			; (EFA1)
F000:C896  EA 3000C89B		;*		jmp	far ptr loc_1		;*(3000:C89B)
				sub_267		endp

F000:C896  EA					db	0EAh
F000:C897  C89B 3000				dw	0C89Bh, 3000h
F000:C89B  1F 07 C3				db	 1Fh, 07h,0C3h
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 243


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:C702, C755
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_268		proc	near
F000:C89E  06					push	es
F000:C89F  1E					push	ds
F000:C8A0  68 2000				push	2000h
F000:C8A3  1F					pop	ds
F000:C8A4  1E					push	ds
F000:C8A5  07					pop	es
F000:C8A6 њBE FFE0				mov	si,data_53e		; (2000:FFE0=0FFh)
F000:C8A9 њBF E05B				mov	di,data_52e		; (2000:E05B=0DFh)
F000:C8AC  B9 0008				mov	cx,8
F000:C8AF  F3/ A5				rep	movsw			; Rep when cx >0 Mov [si] to es:[di]
F000:C8B1  1F					pop	ds
F000:C8B2  07					pop	es
F000:C8B3  C3					retn
				sub_268		endp

F000:C8B4  C9CA			data_240	dw	offset loc_977		; Data table (indexed access)
										;  xref F000:C906
F000:C8B6  C9FF			data_241	dw	offset loc_981		;  xref F000:C906
F000:C8B8  CB14			data_242	dw	offset loc_1005		;  xref F000:C906
F000:C8BA  CB14			data_243	dw	offset loc_1005		;  xref F000:C906
F000:C8BC  CB14			data_244	dw	offset loc_1005		;  xref F000:C906
F000:C8BE  CC1C			data_245	dw	offset loc_1025		;  xref F000:C906
F000:C8C0  CCD4			data_246	dw	offset loc_1034		;  xref F000:C906
F000:C8C2  CA0B			data_247	dw	offset loc_983		;  xref F000:C906
F000:C8C4  CABD			data_248	dw	offset loc_999		;  xref F000:C906
F000:C8C6  CA48			data_249	dw	offset loc_989		;  xref F000:C906
F000:C8C8  CE3D			data_250	dw	offset loc_1047		;  xref F000:C906

F000:C8CA			int_13h_floppy	proc	near			;  xref F000:EC59
F000:C8CA њFB					sti				; Enable interrupts
F000:C8CB  FC					cld				; Clear direction
F000:C8CC  E8 F3D9				call	sub_231			; (BCA8)
F000:C8CF  50					push	ax
F000:C8D0  51					push	cx
F000:C8D1  52					push	dx
F000:C8D2  53					push	bx
F000:C8D3  55					push	bp
F000:C8D4  56					push	si
F000:C8D5  57					push	di
F000:C8D6  1E					push	ds
F000:C8D7  06					push	es
F000:C8D8  55					push	bp
F000:C8D9  8B EC				mov	bp,sp
F000:C8DB  6A 40				push	40h
F000:C8DD  1F					pop	ds
F000:C8DE  E8 0082				call	sub_269			; (C963)
F000:C8E1  8A 56 0E				mov	dl,[bp+0Eh]
F000:C8E4  E8 009F				call	sub_272			; (C986)
F000:C8E7  50					push	ax
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 244

F000:C8E8  8A C4				mov	al,ah
F000:C8EA  3C 18				cmp	al,18h
F000:C8EC  77 6B				ja	short loc_972		; Jump if above
F000:C8EE  3C 05				cmp	al,5
F000:C8F0  76 0E				jbe	short loc_967		; Jump if below or =
F000:C8F2  3C 08				cmp	al,8
F000:C8F4  75 04				jne	short loc_966		; Jump if not equal
F000:C8F6  B0 06				mov	al,6
F000:C8F8  EB 06				jmp	short loc_967		; (C900)
F000:C8FA			loc_966:					;  xref F000:C8F4
F000:C8FA  3C 15				cmp	al,15h
F000:C8FC  72 5B				jb	short loc_972		; Jump if below
F000:C8FE  2C 0E				sub	al,0Eh
F000:C900			loc_967:					;  xref F000:C8F0, C8F8
F000:C900  98					cbw				; Convrt byte to word
F000:C901  8B F8				mov	di,ax
F000:C903  58					pop	ax
F000:C904  D1 E7				shl	di,1			; Shift w/zeros fill
F000:C906  2E: FF A5 C8B4			jmp	word ptr cs:data_240[di]	;*(F000:C8B4=0C9CAh) 11 entries
F000:C90B			loc_968:					;  xref F000:CA45, CABA, CB11, CC19
										;            CC28, CCD1, CCE0, CDB2
										;            CE45, CF23
F000:C90B њ8A C4				mov	al,ah
F000:C90D  9F					lahf				; Load ah from flags
F000:C90E  50					push	ax
F000:C90F  6A 40				push	40h
F000:C911  1F					pop	ds
F000:C912  8A 46 0E				mov	al,[bp+0Eh]
F000:C915  3C 01				cmp	al,1
F000:C917  77 18				ja	short loc_969		; Jump if above
F000:C919  32 E4				xor	ah,ah			; Zero register
F000:C91B њBB 0090				mov	bx,offset dsk0_media_st	; (0040:0090=7)
F000:C91E  03 D8				add	bx,ax
F000:C920  F6 07 10				test	byte ptr [bx],10h
F000:C923  74 0C				jz	short loc_969		; Jump if zero
F000:C925  B2 04				mov	dl,4
F000:C927  F6 E2				mul	dl			; ax = reg * al
F000:C929  8A C8				mov	cl,al
F000:C92B  D2 E2				shl	dl,cl			; Shift w/zeros fill
F000:C92D  08 16 008F				or	dsk_options,dl		; (0040:008F=33h)
F000:C931			loc_969:					;  xref F000:C917, C923
F000:C931  58					pop	ax
F000:C932  9E					sahf				; Store ah into flags
F000:C933  8A E0				mov	ah,al
F000:C935			loc_970:					;  xref F000:C961, C9EA, CA08
F000:C935 њ88 66 13				mov	[bp+13h],ah
F000:C938  B8 0201				mov	ax,201h
F000:C93B  72 05				jc	short loc_971		; Jump if carry Set
F000:C93D  80 66 18 FE				and	byte ptr [bp+18h],0FEh
F000:C941  48					dec	ax
F000:C942			loc_971:					;  xref F000:C93B
F000:C942  09 46 18				or	[bp+18h],ax
F000:C945  E8 001B				call	sub_269			; (C963)
F000:C948  E8 003B				call	sub_272			; (C986)
F000:C94B  5D					pop	bp
F000:C94C  07					pop	es
F000:C94D  1F					pop	ds
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 245

F000:C94E  5F					pop	di
F000:C94F  5E					pop	si
F000:C950  5D					pop	bp
F000:C951  5B					pop	bx
F000:C952  5A					pop	dx
F000:C953  59					pop	cx
F000:C954  58					pop	ax
F000:C955  E8 F350				call	sub_231			; (BCA8)
F000:C958  CF					iret				; Interrupt return
				int_13h_floppy	endp

F000:C959			loc_972:					;  xref F000:C8EC, C8FC
F000:C959  58					pop	ax
F000:C95A  B4 01				mov	ah,1
F000:C95C  88 26 0041				mov	dsk_ret_code,ah		; (0040:0041=0)
F000:C960  F9					stc				; Set carry flag
F000:C961  EB D2				jmp	short loc_970		; (C935)

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:C8DE, C945, CD93
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_269		proc	near
F000:C963  E8 0007				call	sub_270			; (C96D)
F000:C966  74 04				jz	short loc_ret_973	; Jump if zero
F000:C968  80 76 0E 01				xor	byte ptr [bp+0Eh],1

F000:C96C			loc_ret_973:					;  xref F000:C966
F000:C96C  C3					retn
				sub_269		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:C963, C97D, C986
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_270		proc	near
F000:C96D  1E					push	ds
F000:C96E  6A 40				push	40h
F000:C970  1F					pop	ds
F000:C971  F6 06 0015 40			test	byte ptr error_codes,40h	; (0040:0015=1) '@'
F000:C976  1F					pop	ds
F000:C977  C3					retn
				sub_270		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:CD0A, D4A6
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_271		proc	near
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 246

F000:C978  B0 10				mov	al,10h
F000:C97A  E8 2264				call	sub_348			; (EBE1)
F000:C97D  E8 FFED				call	sub_270			; (C96D)
F000:C980  74 03				jz	short loc_ret_974	; Jump if zero
F000:C982  C0 C8 04				ror	al,4			; Rotate

F000:C985			loc_ret_974:					;  xref F000:C980
F000:C985  C3					retn
				sub_271		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:C8E4, C948
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_272		proc	near
F000:C986  E8 FFE4				call	sub_270			; (C96D)
F000:C989  74 2F				jz	short loc_ret_975	; Jump if zero
F000:C98B  50					push	ax
F000:C98C  A1 0090				mov	ax,word ptr dsk0_media_st	; (0040:0090=207h)
F000:C98F  86 C4				xchg	al,ah
F000:C991  A3 0090				mov	word ptr dsk0_media_st,ax	; (0040:0090=207h)
F000:C994  A1 0094				mov	ax,word ptr dsk0_cylinder	; (0040:0094=0)
F000:C997  86 C4				xchg	al,ah
F000:C999  A3 0094				mov	word ptr dsk0_cylinder,ax	; (0040:0094=0)
F000:C99C  A0 003E				mov	al,dsk_recal_stat	; (0040:003E=0)
F000:C99F  E8 0019				call	sub_273			; (C9BB)
F000:C9A2  A2 003E				mov	dsk_recal_stat,al	; (0040:003E=0)
F000:C9A5  A0 003F				mov	al,dsk_motor_stat	; (0040:003F=0)
F000:C9A8  34 10				xor	al,10h
F000:C9AA  E8 000E				call	sub_273			; (C9BB)
F000:C9AD  A2 003F				mov	dsk_motor_stat,al	; (0040:003F=0)
F000:C9B0  A0 008F				mov	al,dsk_options		; (0040:008F=33h)
F000:C9B3  C0 C8 04				ror	al,4			; Rotate
F000:C9B6  A2 008F				mov	dsk_options,al		; (0040:008F=33h)
F000:C9B9  58					pop	ax

F000:C9BA			loc_ret_975:					;  xref F000:C989
F000:C9BA  C3					retn
				sub_272		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:C99F, C9AA
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_273		proc	near
F000:C9BB  8A E0				mov	ah,al
F000:C9BD  80 E4 03				and	ah,3
F000:C9C0  74 07				jz	short loc_ret_976	; Jump if zero
F000:C9C2  80 F4 03				xor	ah,3
F000:C9C5  74 02				jz	short loc_ret_976	; Jump if zero
F000:C9C7  34 03				xor	al,3
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 247


F000:C9C9			loc_ret_976:					;  xref F000:C9C0, C9C5
F000:C9C9  C3					retn
				sub_273		endp


				;ФФФФФ Indexed Entry Point ФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФ

F000:C9CA			loc_977:					;  xref F000:C8B4, C906
F000:C9CA  E8 0020				call	sub_274			; (C9ED)
F000:C9CD  88 26 0041				mov	dsk_ret_code,ah		; (0040:0041=0)
F000:C9D1  8A C4				mov	al,ah
F000:C9D3  9F					lahf				; Load ah from flags
F000:C9D4  50					push	ax
F000:C9D5  1E					push	ds
F000:C9D6  33 F6				xor	si,si			; Zero register
F000:C9D8  8E DE				mov	ds,si
F000:C9DA  C5 36 0078				lds	si,dword ptr ds:disk_parm_off	; (0000:0078=522h) Load 32 bit ptr
F000:C9DE  8A 4C 02				mov	cl,[si+2]
F000:C9E1  1F					pop	ds
F000:C9E2  88 0E 0040				mov	dsk_motor_tmr,cl	; (0040:0040=0)
F000:C9E6  58					pop	ax
F000:C9E7  9E					sahf				; Store ah into flags
F000:C9E8  8A E0				mov	ah,al
F000:C9EA  E9 FF48				jmp	loc_970			; (C935)

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:C9CA, D216
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_274		proc	near
F000:C9ED  80 26 003E F0			and	dsk_recal_stat,0F0h	; (0040:003E=0)
F000:C9F2  E9 09F4				jmp	loc_1104		; (D3E9)
				sub_274		endp

F000:C9F5			loc_978:					;  xref F000:D431
F000:C9F5 њ72 07				jc	short loc_ret_980	; Jump if carry Set
F000:C9F7  E9 0A73				jmp	loc_1111		; (D46D)
F000:C9FA			loc_979:					;  xref F000:D48C
F000:C9FA њ72 02				jc	short loc_ret_980	; Jump if carry Set
F000:C9FC  32 E4				xor	ah,ah			; Zero register

F000:C9FE			loc_ret_980:					;  xref F000:C9F5, C9FA
F000:C9FE  C3					retn

				;ФФФФФ Indexed Entry Point ФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФ

F000:C9FF			loc_981:					;  xref F000:C8B6, C906
F000:C9FF  8A 26 0041				mov	ah,dsk_ret_code		; (0040:0041=0)
F000:CA03  0A E4				or	ah,ah			; Zero ?
F000:CA05  74 01				jz	short loc_982		; Jump if zero
F000:CA07  F9					stc				; Set carry flag
F000:CA08			loc_982:					;  xref F000:CA05
F000:CA08  E9 FF2A				jmp	loc_970			; (C935)

           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 248

				;ФФФФФ Indexed Entry Point ФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФ

F000:CA0B			loc_983:					;  xref F000:C8C2, C906
F000:CA0B  80 FA 01				cmp	dl,1
F000:CA0E  76 09				jbe	short loc_984		; Jump if below or =
F000:CA10  B4 01				mov	ah,1
F000:CA12  F9					stc				; Set carry flag
F000:CA13  88 26 0041				mov	dsk_ret_code,ah		; (0040:0041=0)
F000:CA17  EB 2C				jmp	short loc_988		; (CA45)
F000:CA19			loc_984:					;  xref F000:CA0E
F000:CA19 њBB 0090				mov	bx,offset dsk0_media_st	; (0040:0090=7)
F000:CA1C  32 F6				xor	dh,dh			; Zero register
F000:CA1E  03 DA				add	bx,dx
F000:CA20  8A 1F				mov	bl,[bx]
F000:CA22  0A DB				or	bl,bl			; Zero ?
F000:CA24  75 04				jnz	short loc_985		; Jump if not zero
F000:CA26  32 E4				xor	ah,ah			; Zero register
F000:CA28  EB 15				jmp	short loc_987		; (CA3F)
F000:CA2A			loc_985:					;  xref F000:CA24
F000:CA2A  80 E3 07				and	bl,7
F000:CA2D  74 0E				jz	short loc_986		; Jump if zero
F000:CA2F  80 FB 03				cmp	bl,3
F000:CA32  74 09				je	short loc_986		; Jump if equal
F000:CA34  E8 0A58				call	sub_290			; (D48F)
F000:CA37  73 04				jnc	short loc_986		; Jump if carry=0
F000:CA39  B4 02				mov	ah,2
F000:CA3B  EB 02				jmp	short loc_987		; (CA3F)
F000:CA3D			loc_986:					;  xref F000:CA2D, CA32, CA37
F000:CA3D  B4 01				mov	ah,1
F000:CA3F			loc_987:					;  xref F000:CA28, CA3B
F000:CA3F  F8					clc				; Clear carry flag
F000:CA40  C6 06 0041 00			mov	dsk_ret_code,0		; (0040:0041=0)
F000:CA45			loc_988:					;  xref F000:CA17
F000:CA45  E9 FEC3				jmp	loc_968			; (C90B)

				;ФФФФФ Indexed Entry Point ФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФ

F000:CA48			loc_989:					;  xref F000:C8C6, C906
F000:CA48  32 E4				xor	ah,ah			; Zero register
F000:CA4A  80 FA 01				cmp	dl,1
F000:CA4D  76 09				jbe	short loc_992		; Jump if below or =
F000:CA4F			loc_990:					;  xref F000:CA5A, CA5E
F000:CA4F  B4 01				mov	ah,1
F000:CA51			loc_991:					;  xref F000:CA93, CA98, CAB3
F000:CA51 њ88 26 0041				mov	dsk_ret_code,ah		; (0040:0041=0)
F000:CA55  F9					stc				; Set carry flag
F000:CA56  EB 62				jmp	short loc_998		; (CABA)
F000:CA58			loc_992:					;  xref F000:CA4D
F000:CA58  3C 00				cmp	al,0
F000:CA5A  74 F3				je	loc_990			; Jump if equal
F000:CA5C  3C 04				cmp	al,4
F000:CA5E  77 EF				ja	loc_990			; Jump if above
F000:CA60  BB 0090				mov	bx,90h
F000:CA63  32 F6				xor	dh,dh			; Zero register
F000:CA65  03 DA				add	bx,dx
F000:CA67  3C 01				cmp	al,1
F000:CA69  75 0A				jne	short loc_993		; Jump if not equal
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 249

F000:CA6B  C6 07 93				mov	byte ptr [bx],93h
F000:CA6E  C6 06 0041 00			mov	dsk_ret_code,0		; (0040:0041=0)
F000:CA73  EB 3C				jmp	short loc_997		; (CAB1)
F000:CA75			loc_993:					;  xref F000:CA69
F000:CA75  8B C8				mov	cx,ax
F000:CA77  E8 0A15				call	sub_290			; (D48F)
F000:CA7A  73 1E				jnc	short loc_994		; Jump if carry=0
F000:CA7C  53					push	bx
F000:CA7D  E8 06BF				call	sub_277			; (D13F)
F000:CA80  5E					pop	si
F000:CA81  56					push	si
F000:CA82  E8 076B				call	sub_279			; (D1F0)
F000:CA85  5B					pop	bx
F000:CA86  80 FC 06				cmp	ah,6
F000:CA89  76 0F				jbe	short loc_994		; Jump if below or =
F000:CA8B  80 FC 80				cmp	ah,80h
F000:CA8E  75 0A				jne	short loc_994		; Jump if not equal
F000:CA90  80 3F 97				cmp	byte ptr [bx],97h
F000:CA93  74 BC				je	loc_991			; Jump if equal
F000:CA95  C6 07 61				mov	byte ptr [bx],61h	; 'a'
F000:CA98  EB B7				jmp	short loc_991		; (CA51)
F000:CA9A			loc_994:					;  xref F000:CA7A, CA89, CA8E
F000:CA9A  80 F9 04				cmp	cl,4
F000:CA9D  75 05				jne	short loc_995		; Jump if not equal
F000:CA9F  C6 07 97				mov	byte ptr [bx],97h
F000:CAA2  EB 0D				jmp	short loc_997		; (CAB1)
F000:CAA4			loc_995:					;  xref F000:CA9D
F000:CAA4  80 F9 02				cmp	cl,2
F000:CAA7  75 05				jne	short loc_996		; Jump if not equal
F000:CAA9  C6 07 74				mov	byte ptr [bx],74h	; 't'
F000:CAAC  EB 03				jmp	short loc_997		; (CAB1)
F000:CAAE			loc_996:					;  xref F000:CAA7
F000:CAAE  C6 07 15				mov	byte ptr [bx],15h
F000:CAB1			loc_997:					;  xref F000:CA73, CAA2, CAAC
F000:CAB1  0A E4				or	ah,ah			; Zero ?
F000:CAB3  75 9C				jnz	loc_991			; Jump if not zero
F000:CAB5  C6 06 0041 00			mov	dsk_ret_code,0		; (0040:0041=0)
F000:CABA			loc_998:					;  xref F000:CA56
F000:CABA  E9 FE4E				jmp	loc_968			; (C90B)

				;ФФФФФ Indexed Entry Point ФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФ

F000:CABD			loc_999:					;  xref F000:C8C4, C906
F000:CABD  80 FA 01				cmp	dl,1
F000:CAC0  76 05				jbe	short loc_1001		; Jump if below or =
F000:CAC2  B4 01				mov	ah,1
F000:CAC4			loc_1000:					;  xref F000:CAD3
F000:CAC4  F9					stc				; Set carry flag
F000:CAC5  EB 31				jmp	short loc_1004		; (CAF8)
F000:CAC7			loc_1001:					;  xref F000:CAC0
F000:CAC7  32 F6				xor	dh,dh			; Zero register
F000:CAC9 њBB 0090				mov	bx,offset dsk0_media_st	; (0040:0090=7)
F000:CACC  03 DA				add	bx,dx
F000:CACE  80 3F 00				cmp	byte ptr [bx],0
F000:CAD1  B4 80				mov	ah,80h
F000:CAD3  74 EF				jz	loc_1000		; Jump if zero
F000:CAD5  8A 27				mov	ah,[bx]
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 250

F000:CAD7  80 E4 07				and	ah,7
F000:CADA  74 05				jz	short loc_1002		; Jump if zero
F000:CADC  80 FC 03				cmp	ah,3
F000:CADF  75 05				jne	short loc_1003		; Jump if not equal
F000:CAE1			loc_1002:					;  xref F000:CADA, CAE9, CAF4
F000:CAE1  B4 06				mov	ah,6
F000:CAE3  F9					stc				; Set carry flag
F000:CAE4  EB 12				jmp	short loc_1004		; (CAF8)
F000:CAE6			loc_1003:					;  xref F000:CADF
F000:CAE6  E8 09A6				call	sub_290			; (D48F)
F000:CAE9  73 F6				jnc	loc_1002		; Jump if carry=0
F000:CAEB  E8 0651				call	sub_277			; (D13F)
F000:CAEE  BA 03F7				mov	dx,3F7h
F000:CAF1  EC					in	al,dx			; port 3F7h, disk status
F000:CAF2  D0 E0				shl	al,1			; Shift w/zeros fill
F000:CAF4  72 EB				jc	loc_1002		; Jump if carry Set
F000:CAF6  32 E4				xor	ah,ah			; Zero register
F000:CAF8			loc_1004:					;  xref F000:CAC5, CAE4
F000:CAF8  88 26 0041				mov	dsk_ret_code,ah		; (0040:0041=0)
F000:CAFC  50					push	ax
F000:CAFD  56					push	si
F000:CAFE  1E					push	ds
F000:CAFF њBE 0000				mov	si,offset vector_0h_off	; (0000:0000=9Eh)
F000:CB02  8E DE				mov	ds,si
F000:CB04  C5 36 0078				lds	si,dword ptr ds:disk_parm_off	; (0000:0078=522h) Load 32 bit ptr
F000:CB08  8A 44 02				mov	al,[si+2]
F000:CB0B  1F					pop	ds
F000:CB0C  A2 0040				mov	dsk_motor_tmr,al	; (0040:0040=0)
F000:CB0F  5E					pop	si
F000:CB10  58					pop	ax
F000:CB11  E9 FDF7				jmp	loc_968			; (C90B)

				;ФФФФФ Indexed Entry Point ФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФ

F000:CB14			loc_1005:					;  xref F000:C8B8, C8BA, C8BC, C906
F000:CB14  80 FA 01				cmp	dl,1
F000:CB17  76 0C				jbe	short loc_1007		; Jump if below or =
F000:CB19  B4 01				mov	ah,1
F000:CB1B			loc_1006:					;  xref F000:CB3C, CB6D
F000:CB1B њ88 26 0041				mov	dsk_ret_code,ah		; (0040:0041=0)
F000:CB1F  32 C0				xor	al,al			; Zero register
F000:CB21  F9					stc				; Set carry flag
F000:CB22  E9 00F1				jmp	loc_1024		; (CC16)
F000:CB25			loc_1007:					;  xref F000:CB17
F000:CB25 њBE 0090				mov	si,offset dsk0_media_st	; (0040:0090=7)
F000:CB28  52					push	dx
F000:CB29  32 F6				xor	dh,dh			; Zero register
F000:CB2B  03 F2				add	si,dx
F000:CB2D  80 3C 00				cmp	byte ptr [si],0
F000:CB30  5A					pop	dx
F000:CB31  75 13				jnz	short loc_1010		; Jump if not zero
F000:CB33  50					push	ax
F000:CB34  E8 096A				call	sub_292			; (D4A1)
F000:CB37  74 05				jz	short loc_1009		; Jump if zero
F000:CB39  58					pop	ax
F000:CB3A			loc_1008:					;  xref F000:CB41
F000:CB3A  B4 80				mov	ah,80h
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 251

F000:CB3C  EB DD				jmp	short loc_1006		; (CB1B)
F000:CB3E			loc_1009:					;  xref F000:CB37
F000:CB3E  0A C0				or	al,al			; Zero ?
F000:CB40  58					pop	ax
F000:CB41  74 F7				jz	loc_1008		; Jump if zero
F000:CB43  C6 04 02				mov	byte ptr [si],2
F000:CB46			loc_1010:					;  xref F000:CB31
F000:CB46 њBF 003F				mov	di,offset dsk_motor_stat	; (0040:003F=0)
F000:CB49  80 25 7F				and	byte ptr [di],7Fh
F000:CB4C  80 FC 03				cmp	ah,3
F000:CB4F  75 03				jne	short loc_1011		; Jump if not equal
F000:CB51  80 0D 80				or	byte ptr [di],80h
F000:CB54			loc_1011:					;  xref F000:CB4F
F000:CB54  56					push	si
F000:CB55  E8 0949				call	sub_292			; (D4A1)
F000:CB58  75 07				jnz	short loc_1012		; Jump if not zero
F000:CB5A  3C 01				cmp	al,1
F000:CB5C  75 03				jne	short loc_1012		; Jump if not equal
F000:CB5E  C6 04 93				mov	byte ptr [si],93h
F000:CB61			loc_1012:					;  xref F000:CB58, CB5C, CB71, CB76
F000:CB61 њE8 05DB				call	sub_277			; (D13F)
F000:CB64  E8 0689				call	sub_279			; (D1F0)
F000:CB67  5E					pop	si
F000:CB68  73 0E				jnc	short loc_1014		; Jump if carry=0
F000:CB6A			loc_1013:					;  xref F000:CB80, CBB1, CBDF
F000:CB6A њE8 0653				call	sub_278			; (D1C0)
F000:CB6D  EB AC				jmp	short loc_1006		; (CB1B)
							                        ;* No entry point to code
F000:CB6F  3C 03				cmp	al,3
F000:CB71  75 EE				jne	loc_1012		; Jump if not equal
F000:CB73  C6 04 97				mov	byte ptr [si],97h
F000:CB76  EB E9				jmp	short loc_1012		; (CB61)
F000:CB78			loc_1014:					;  xref F000:CB68
F000:CB78  F6 04 10				test	byte ptr [si],10h
F000:CB7B  75 07				jnz	short loc_1015		; Jump if not zero
F000:CB7D  E8 0935				call	sub_293			; (D4B5)
F000:CB80  72 E8				jc	loc_1013		; Jump if carry Set
F000:CB82  EB 03				jmp	short loc_1016		; (CB87)
F000:CB84			loc_1015:					;  xref F000:CB7B
F000:CB84  E8 0A65				call	sub_295			; (D5EC)
F000:CB87			loc_1016:					;  xref F000:CB82
F000:CB87 њBE 0090				mov	si,offset dsk0_media_st	; (0040:0090=7)
F000:CB8A  52					push	dx
F000:CB8B  32 F6				xor	dh,dh			; Zero register
F000:CB8D  03 F2				add	si,dx
F000:CB8F  5A					pop	dx
F000:CB90  B8 AF03				mov	ax,0AF03h
F000:CB93  80 3C D7				cmp	byte ptr [si],0D7h
F000:CB96  74 0A				je	short loc_1017		; Jump if equal
F000:CB98  B8 DF03				mov	ax,0DF03h
F000:CB9B  80 3C 17				cmp	byte ptr [si],17h
F000:CB9E  75 02				jne	short loc_1017		; Jump if not equal
F000:CBA0  B4 BF				mov	ah,0BFh
F000:CBA2			loc_1017:					;  xref F000:CB96, CB9E
F000:CBA2  8B F0				mov	si,ax
F000:CBA4  BF 0002				mov	di,2
F000:CBA7  B5 03				mov	ch,3
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 252

F000:CBA9  80 0E 003E 80			or	dsk_recal_stat,80h	; (0040:003E=0)
F000:CBAE  E8 0751				call	sub_283			; (D302)
F000:CBB1  72 B7				jc	loc_1013		; Jump if carry Set
F000:CBB3  8B 46 12				mov	ax,[bp+12h]
F000:CBB6  32 E4				xor	ah,ah			; Zero register
F000:CBB8  1E					push	ds
F000:CBB9  52					push	dx
F000:CBBA  33 F6				xor	si,si			; Zero register
F000:CBBC  8E DE				mov	ds,si
F000:CBBE  C5 36 0078				lds	si,dword ptr ds:disk_parm_off	; (0000:0078=522h) Load 32 bit ptr
F000:CBC2  8A 4C 03				mov	cl,[si+3]
F000:CBC5  D3 E0				shl	ax,cl			; Shift w/zeros fill
F000:CBC7  B9 0080				mov	cx,80h
F000:CBCA  F7 E1				mul	cx			; dx:ax = reg * ax
F000:CBCC  0B D2				or	dx,dx			; Zero ?
F000:CBCE  5A					pop	dx
F000:CBCF  1F					pop	ds
F000:CBD0  75 08				jnz	short loc_1018		; Jump if not zero
F000:CBD2  48					dec	ax
F000:CBD3  8B C8				mov	cx,ax
F000:CBD5  E8 06AB				call	sub_281			; (D283)
F000:CBD8  73 07				jnc	short loc_1019		; Jump if carry=0
F000:CBDA			loc_1018:					;  xref F000:CBD0
F000:CBDA  B4 09				mov	ah,9
F000:CBDC  8B 4E 10				mov	cx,[bp+10h]
F000:CBDF  EB 89				jmp	short loc_1013		; (CB6A)
F000:CBE1			loc_1019:					;  xref F000:CBD8
F000:CBE1  8B 46 12				mov	ax,[bp+12h]
F000:CBE4  80 FC 02				cmp	ah,2
F000:CBE7  75 04				jne	short loc_1020		; Jump if not equal
F000:CBE9  B4 46				mov	ah,46h			; 'F'
F000:CBEB  EB 09				jmp	short loc_1021		; (CBF6)
F000:CBED			loc_1020:					;  xref F000:CBE7
F000:CBED  80 FC 03				cmp	ah,3
F000:CBF0  B4 4A				mov	ah,4Ah			; 'J'
F000:CBF2  74 02				jz	short loc_1021		; Jump if zero
F000:CBF4  B4 42				mov	ah,42h			; 'B'
F000:CBF6			loc_1021:					;  xref F000:CBEB, CBF2
F000:CBF6  E8 0649				call	sub_280			; (D242)
F000:CBF9  8B 46 12				mov	ax,[bp+12h]
F000:CBFC  8B 4E 10				mov	cx,[bp+10h]
F000:CBFF  E9 048C				jmp	loc_1070		; (D08E)
F000:CC02			loc_1022:					;  xref F000:D13C
F000:CC02 њE8 05BB				call	sub_278			; (D1C0)
F000:CC05  0A C0				or	al,al			; Zero ?
F000:CC07  74 04				jz	short loc_1023		; Jump if zero
F000:CC09  2A D9				sub	bl,cl
F000:CC0B  8A C3				mov	al,bl
F000:CC0D			loc_1023:					;  xref F000:CC07
F000:CC0D  8A 26 0041				mov	ah,dsk_ret_code		; [0040:0041=0]
F000:CC11  0A E4				or	ah,ah			; Zero ?
F000:CC13  74 01				jz	short loc_1024		; Jump if zero
F000:CC15  F9					stc				; Set carry flag
F000:CC16			loc_1024:					;  xref F000:CB22, CC13
F000:CC16  88 46 12				mov	[bp+12h],al
F000:CC19  E9 FCEF				jmp	loc_968			; (C90B)

           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 253

				;ФФФФФ Indexed Entry Point ФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФ

F000:CC1C			loc_1025:					;  xref F000:C8BE, C906
F000:CC1C  80 FA 01				cmp	dl,1
F000:CC1F  76 0A				jbe	short loc_1027		; Jump if below or =
F000:CC21  B4 01				mov	ah,1
F000:CC23			loc_1026:					;  xref F000:CC39, CC4C
F000:CC23 њ88 26 0041				mov	dsk_ret_code,ah		; (0040:0041=0)
F000:CC27  F9					stc				; Set carry flag
F000:CC28  E9 FCE0				jmp	loc_968			; (C90B)
F000:CC2B			loc_1027:					;  xref F000:CC1F
F000:CC2B њBE 0090				mov	si,offset dsk0_media_st	; (0040:0090=7)
F000:CC2E  52					push	dx
F000:CC2F  32 F6				xor	dh,dh			; Zero register
F000:CC31  03 F2				add	si,dx
F000:CC33  5A					pop	dx
F000:CC34  80 3C 00				cmp	byte ptr [si],0
F000:CC37  B4 80				mov	ah,80h
F000:CC39  74 E8				jz	loc_1026		; Jump if zero
F000:CC3B њBF 003F				mov	di,offset dsk_motor_stat	; (0040:003F=0)
F000:CC3E  80 0D 80				or	byte ptr [di],80h
F000:CC41  E8 04FB				call	sub_277			; (D13F)
F000:CC44  E8 05A9				call	sub_279			; (D1F0)
F000:CC47  73 05				jnc	short loc_1029		; Jump if carry=0
F000:CC49			loc_1028:					;  xref F000:CC6D
F000:CC49  E8 0574				call	sub_278			; (D1C0)
F000:CC4C  EB D5				jmp	short loc_1026		; (CC23)
F000:CC4E			loc_1029:					;  xref F000:CC47
F000:CC4E  E8 099B				call	sub_295			; (D5EC)
F000:CC51  E8 0819				call	sub_289			; (D46D)
F000:CC54  1E					push	ds
F000:CC55  33 F6				xor	si,si			; Zero register
F000:CC57  8E DE				mov	ds,si
F000:CC59  C5 36 0078				lds	si,dword ptr ds:disk_parm_off	; (0000:0078=522h) Load 32 bit ptr
F000:CC5D  8A 44 04				mov	al,[si+4]
F000:CC60  1F					pop	ds
F000:CC61  32 E4				xor	ah,ah			; Zero register
F000:CC63  B1 04				mov	cl,4
F000:CC65  F6 E1				mul	cl			; ax = reg * al
F000:CC67  8B C8				mov	cx,ax
F000:CC69  49					dec	cx
F000:CC6A  E8 0616				call	sub_281			; (D283)
F000:CC6D  72 DA				jc	loc_1028		; Jump if carry Set
F000:CC6F  B4 4A				mov	ah,4Ah			; 'J'
F000:CC71  E8 05CE				call	sub_280			; (D242)
F000:CC74  8B 4E 10				mov	cx,[bp+10h]
F000:CC77  E8 0317				call	sub_276			; (CF91)
F000:CC7A  73 0D				jnc	short loc_1031		; Jump if carry=0
F000:CC7C			loc_1030:					;  xref F000:CCB1
F000:CC7C  BB 0042				mov	bx,42h
F000:CC7F  B9 0007				mov	cx,7
F000:CC82  50					push	ax
F000:CC83  E8 06D6				call	sub_285			; (D35C)
F000:CC86  58					pop	ax
F000:CC87  EB 38				jmp	short loc_1032		; (CCC1)
F000:CC89			loc_1031:					;  xref F000:CC7A
F000:CC89  C0 E6 02				shl	dh,2			; Shift w/zeros fill
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 254

F000:CC8C  0A F2				or	dh,dl
F000:CC8E  B2 CD				mov	dl,0CDh
F000:CC90  1E					push	ds
F000:CC91  33 F6				xor	si,si			; Zero register
F000:CC93  8E DE				mov	ds,si
F000:CC95  C5 36 0078				lds	si,dword ptr ds:disk_parm_off	; (0000:0078=522h) Load 32 bit ptr
F000:CC99  50					push	ax
F000:CC9A  8B 44 07				mov	ax,[si+7]
F000:CC9D  89 46 00				mov	[bp],ax
F000:CCA0  58					pop	ax
F000:CCA1  8B 7C 03				mov	di,[si+3]
F000:CCA4  1F					pop	ds
F000:CCA5  8B F2				mov	si,dx
F000:CCA7  B5 06				mov	ch,6
F000:CCA9  80 26 003E 7F			and	dsk_recal_stat,7Fh	; [0040:003E=0]
F000:CCAE  E8 0651				call	sub_283			; (D302)
F000:CCB1  72 C9				jc	loc_1030		; Jump if carry Set
F000:CCB3  BB 0042				mov	bx,42h
F000:CCB6  B9 0007				mov	cx,7
F000:CCB9  E8 06A0				call	sub_285			; (D35C)
F000:CCBC  72 03				jc	short loc_1032		; Jump if carry Set
F000:CCBE  E8 06E8				call	sub_287			; (D3A9)
F000:CCC1			loc_1032:					;  xref F000:CC87, CCBC
F000:CCC1  88 26 0041				mov	dsk_ret_code,ah		; (0040:0041=0)
F000:CCC5  E8 04F8				call	sub_278			; (D1C0)
F000:CCC8  8A 26 0041				mov	ah,dsk_ret_code		; (0040:0041=0)
F000:CCCC  0A E4				or	ah,ah			; Zero ?
F000:CCCE  74 01				jz	short loc_1033		; Jump if zero
F000:CCD0  F9					stc				; Set carry flag
F000:CCD1			loc_1033:					;  xref F000:CCCE
F000:CCD1  E9 FC37				jmp	loc_968			; (C90B)

				;ФФФФФ Indexed Entry Point ФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФ

F000:CCD4			loc_1034:					;  xref F000:C8C0, C906
F000:CCD4  80 FA 80				cmp	dl,80h
F000:CCD7  72 0A				jb	short loc_1035		; Jump if below
F000:CCD9  B4 01				mov	ah,1
F000:CCDB  88 26 0041				mov	dsk_ret_code,ah		; (0040:0041=0)
F000:CCDF  F9					stc				; Set carry flag
F000:CCE0  E9 FC28				jmp	loc_968			; (C90B)
F000:CCE3			loc_1035:					;  xref F000:CCD7
F000:CCE3  33 FF				xor	di,di			; Zero register
F000:CCE5  33 F6				xor	si,si			; Zero register
F000:CCE7  32 F6				xor	dh,dh			; Zero register
F000:CCE9  A0 0010				mov	al,byte ptr equip_bits	; (0040:0010=63h)
F000:CCEC  24 C1				and	al,0C1h
F000:CCEE  BF 0002				mov	di,2
F000:CCF1  3C 41				cmp	al,41h			; 'A'
F000:CCF3  74 08				je	short loc_1036		; Jump if equal
F000:CCF5  4F					dec	di
F000:CCF6  3C 01				cmp	al,1
F000:CCF8  74 03				je	short loc_1036		; Jump if equal
F000:CCFA  E9 00B8				jmp	loc_1044		; (CDB5)
F000:CCFD			loc_1036:					;  xref F000:CCF3, CCF8
F000:CCFD  80 FA 01				cmp	dl,1
F000:CD00  76 03				jbe	short loc_1037		; Jump if below or =
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 255

F000:CD02  E9 00B2				jmp	loc_1045		; (CDB7)
F000:CD05			loc_1037:					;  xref F000:CD00
F000:CD05  E8 1F22				call	sub_352			; (EC2A)
F000:CD08  75 46				jnz	short loc_1040		; Jump if not zero
F000:CD0A  E8 FC6B				call	sub_271			; (C978)
F000:CD0D  0A D2				or	dl,dl			; Zero ?
F000:CD0F  75 04				jnz	short loc_1038		; Jump if not zero
F000:CD11  B1 04				mov	cl,4
F000:CD13  D2 E8				shr	al,cl			; Shift w/zeros fill
F000:CD15			loc_1038:					;  xref F000:CD0F
F000:CD15  24 0F				and	al,0Fh
F000:CD17  74 37				jz	short loc_1040		; Jump if zero
F000:CD19  3C 05				cmp	al,5
F000:CD1B  77 33				ja	short loc_1040		; Jump if above
F000:CD1D  32 E4				xor	ah,ah			; Zero register
F000:CD1F  8B F0				mov	si,ax
F000:CD21  8A F0				mov	dh,al
F000:CD23 њBB 0090				mov	bx,offset dsk0_media_st	; (0040:0090=7)
F000:CD26  02 DA				add	bl,dl
F000:CD28  8A 07				mov	al,[bx]
F000:CD2A  A8 10				test	al,10h
F000:CD2C  75 4B				jnz	short loc_1042		; Jump if not zero
F000:CD2E  83 FE 01				cmp	si,1
F000:CD31  B0 93				mov	al,93h
F000:CD33  74 17				jz	short loc_1039		; Jump if zero
F000:CD35  83 FE 02				cmp	si,2
F000:CD38  B0 02				mov	al,2
F000:CD3A  74 10				jz	short loc_1039		; Jump if zero
F000:CD3C  83 FE 03				cmp	si,3
F000:CD3F  B0 97				mov	al,97h
F000:CD41  74 09				jz	short loc_1039		; Jump if zero
F000:CD43  83 FE 04				cmp	si,4
F000:CD46  B0 07				mov	al,7
F000:CD48  74 02				jz	short loc_1039		; Jump if zero
F000:CD4A  B0 C7				mov	al,0C7h
F000:CD4C			loc_1039:					;  xref F000:CD33, CD3A, CD41, CD48
F000:CD4C  88 07				mov	[bx],al
F000:CD4E  EB 29				jmp	short loc_1042		; (CD79)
F000:CD50			loc_1040:					;  xref F000:CD08, CD17, CD1B
F000:CD50 њBB 0090				mov	bx,offset dsk0_media_st	; (0040:0090=7)
F000:CD53  02 DA				add	bl,dl
F000:CD55  8A 07				mov	al,[bx]
F000:CD57  A8 10				test	al,10h
F000:CD59  74 6C				jz	short loc_1046		; Jump if zero
F000:CD5B  8A E0				mov	ah,al
F000:CD5D  24 C0				and	al,0C0h
F000:CD5F  3C 80				cmp	al,80h
F000:CD61  BE 0002				mov	si,2
F000:CD64  75 0B				jnz	short loc_1041		; Jump if not zero
F000:CD66  F6 C4 04				test	ah,4
F000:CD69  BE 0001				mov	si,1
F000:CD6C  74 0B				jz	short loc_1042		; Jump if zero
F000:CD6E  BE 0004				mov	si,4
F000:CD71			loc_1041:					;  xref F000:CD64
F000:CD71  F6 C4 07				test	ah,7
F000:CD74  74 03				jz	short loc_1042		; Jump if zero
F000:CD76  BE 0004				mov	si,4
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 256

F000:CD79			loc_1042:					;  xref F000:CD2C, CD4E, CD6C, CD74
										;            CDD5
F000:CD79  8B DF				mov	bx,di
F000:CD7B  8B FE				mov	di,si
F000:CD7D  4F					dec	di
F000:CD7E  03 FF				add	di,di
F000:CD80  2E: 8B 85 CDDB			mov	ax,cs:data_251[di]	; (F000:CDDB=2709h)
F000:CD85  C6 46 0F 01				mov	byte ptr [bp+0Fh],1
F000:CD89  2E: 8B BD CDE5			mov	di,cs:data_252[di]	; (F000:CDE5=0CDEFh)
F000:CD8E  0E					push	cs
F000:CD8F  07					pop	es
F000:CD90			loc_1043:					;  xref F000:CDC5
F000:CD90 њ88 5E 0E				mov	[bp+0Eh],bl
F000:CD93  E8 FBCD				call	sub_269			; (C963)
F000:CD96  88 66 11				mov	[bp+11h],ah
F000:CD99  88 46 10				mov	[bp+10h],al
F000:CD9C  88 76 0C				mov	[bp+0Ch],dh
F000:CD9F  C6 46 0D 00				mov	byte ptr [bp+0Dh],0
F000:CDA3  8C 46 02				mov	[bp+2],es
F000:CDA6  89 7E 06				mov	[bp+6],di
F000:CDA9  33 C0				xor	ax,ax			; Zero register
F000:CDAB  88 26 0041				mov	dsk_ret_code,ah		; (0040:0041=0)
F000:CDAF  88 46 12				mov	[bp+12h],al
F000:CDB2  E9 FB56				jmp	loc_968			; (C90B)
F000:CDB5			loc_1044:					;  xref F000:CCFA, CDCC, CDD0, CDD9
F000:CDB5 њ33 FF				xor	di,di			; Zero register
F000:CDB7			loc_1045:					;  xref F000:CD02
F000:CDB7  32 F6				xor	dh,dh			; Zero register
F000:CDB9  33 C0				xor	ax,ax			; Zero register
F000:CDBB  8E C0				mov	es,ax
F000:CDBD  C6 46 0F 00				mov	byte ptr [bp+0Fh],0
F000:CDC1  8B DF				mov	bx,di
F000:CDC3  33 FF				xor	di,di			; Zero register
F000:CDC5  EB C9				jmp	short loc_1043		; (CD90)
F000:CDC7			loc_1046:					;  xref F000:CD59
F000:CDC7  8B DF				mov	bx,di
F000:CDC9  E8 1E5E				call	sub_352			; (EC2A)
F000:CDCC  75 E7				jnz	loc_1044		; Jump if not zero
F000:CDCE  0B F6				or	si,si			; Zero ?
F000:CDD0  74 E3				jz	loc_1044		; Jump if zero
F000:CDD2  83 FE 03				cmp	si,3
F000:CDD5  76 A2				jbe	loc_1042		; Jump if below or =
F000:CDD7  33 F6				xor	si,si			; Zero register
F000:CDD9  EB DA				jmp	short loc_1044		; (CDB5)
F000:CDDB  2709			data_251	dw	2709h			; Data table (indexed access)
										;  xref F000:CD80
F000:CDDD  0F 4F 09 4F 12			db	 0Fh, 4Fh, 09h, 4Fh, 12h
F000:CDE2  4F 24 4F				db	 4Fh, 24h, 4Fh
F000:CDE5  CDEF			data_252	dw	0CDEFh			; Data table (indexed access)
										;  xref F000:CD89
F000:CDE7  FC CD 09 CE 16 CE			db	0FCh,0CDh, 09h,0CEh, 16h,0CEh
F000:CDED  30 CE				db	 30h,0CEh
F000:CDEF  DF			diskette_info_1	db	0DFh
F000:CDF0  02			diskette_info_2	db	2
F000:CDF1  25			dsk_motor_delay	db	25h
F000:CDF2  02			dsk_sectr_bytes	db	2
F000:CDF3  09			dsk_sector_trac	db	9
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 257

F000:CDF4  2A			dsk_head_gap	db	2Ah
F000:CDF5  FF			dsk_data_length	db	0FFh
F000:CDF6  50			dsk_format_gap	db	50h
F000:CDF7  F6			dsk_format_byte	db	0F6h
F000:CDF8  0F			dsk_settlg_time	db	0Fh
F000:CDF9  08			dsk_startup_tim	db	8
F000:CDFA  27 80				db	 27h, 80h
F000:CDFC  DF			diskette2info_1	db	0DFh
F000:CDFD  02			diskette2info_2	db	2
F000:CDFE  25			dsk2motor_delay	db	25h
F000:CDFF  02			dsk2sectr_bytes	db	2
F000:CE00  0F			dsk2sector_trac	db	0Fh
F000:CE01  1B			dsk2head_gap	db	1Bh
F000:CE02  FF			dsk2data_length	db	0FFh
F000:CE03  54			dsk2format_gap	db	54h
F000:CE04  F6			dsk2format_byte	db	0F6h
F000:CE05  0F			dsk2settlg_time	db	0Fh
F000:CE06  08			dsk2startup_tim	db	8
F000:CE07  4F 00				db	 4Fh, 00h
F000:CE09  DF			diskette3info_1	db	0DFh
F000:CE0A  02			diskette3info_2	db	2
F000:CE0B  25			dsk3motor_delay	db	25h
F000:CE0C  02			dsk3sectr_bytes	db	2
F000:CE0D  09			dsk3sector_trac	db	9
F000:CE0E  2A			dsk3head_gap	db	2Ah
F000:CE0F  FF			dsk3data_length	db	0FFh
F000:CE10  50			dsk3format_gap	db	50h
F000:CE11  F6			dsk3format_byte	db	0F6h
F000:CE12  0F			dsk3settlg_time	db	0Fh
F000:CE13  08			dsk3startup_tim	db	8
F000:CE14  4F 80				db	 4Fh, 80h
F000:CE16  AF			diskette4info_1	db	0AFh
F000:CE17  02			diskette4info_2	db	2
F000:CE18  25			dsk4motor_delay	db	25h
F000:CE19  02			dsk4sectr_bytes	db	2
F000:CE1A  12			dsk4sector_trac	db	12h
F000:CE1B  1B			dsk4head_gap	db	1Bh
F000:CE1C  FF			dsk4data_length	db	0FFh
F000:CE1D  6C			dsk4format_gap	db	6Ch
F000:CE1E  F6			dsk4format_byte	db	0F6h
F000:CE1F  0F			dsk4settlg_time	db	0Fh
F000:CE20  08			dsk4startup_tim	db	8
F000:CE21  4F 00				db	 4Fh, 00h
F000:CE23  DF			diskette5info_1	db	0DFh
F000:CE24  02			diskette5info_2	db	2
F000:CE25  25			dsk5motor_delay	db	25h
F000:CE26  02			dsk5sectr_bytes	db	2
F000:CE27  09			dsk5sector_trac	db	9
F000:CE28  2A			dsk5head_gap	db	2Ah
F000:CE29  FF			dsk5data_length	db	0FFh
F000:CE2A  50			dsk5format_gap	db	50h
F000:CE2B  F6			dsk5format_byte	db	0F6h
F000:CE2C  0F			dsk5settlg_time	db	0Fh
F000:CE2D  08			dsk5startup_tim	db	8
F000:CE2E  27 40				db	 27h, 40h
F000:CE30  AF			diskette6info_1	db	0AFh
F000:CE31  02			diskette6info_2	db	2
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 258

F000:CE32  25			dsk6motor_delay	db	25h
F000:CE33  02			dsk6sectr_bytes	db	2
F000:CE34  24			dsk6sector_trac	db	24h
F000:CE35  1B			dsk6head_gap	db	1Bh
F000:CE36  FF			dsk6data_length	db	0FFh
F000:CE37  50			dsk6format_gap	db	50h
F000:CE38  F6			dsk6format_byte	db	0F6h
F000:CE39  0F			dsk6settlg_time	db	0Fh
F000:CE3A  08			dsk6startup_tim	db	8
F000:CE3B  4F C0				db	 4Fh,0C0h

				;ФФФФФ Indexed Entry Point ФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФ

F000:CE3D			loc_1047:					;  xref F000:C8C8, C906
F000:CE3D  80 FA 01				cmp	dl,1
F000:CE40  76 06				jbe	short loc_1049		; Jump if below or =
F000:CE42  B4 01				mov	ah,1
F000:CE44			loc_1048:					;  xref F000:CE4F
F000:CE44 њF9					stc				; Set carry flag
F000:CE45  E9 FAC3				jmp	loc_968			; (C90B)
F000:CE48			loc_1049:					;  xref F000:CE40
F000:CE48  E8 0656				call	sub_292			; (D4A1)
F000:CE4B  74 04				jz	short loc_1051		; Jump if zero
F000:CE4D			loc_1050:					;  xref F000:CE6D, CE7D, CE8B, CEA2
										;            CEB1, CEC2
F000:CE4D њB4 0C				mov	ah,0Ch
F000:CE4F  EB F3				jmp	short loc_1048		; (CE44)
F000:CE51			loc_1051:					;  xref F000:CE4B
F000:CE51  32 E4				xor	ah,ah			; Zero register
F000:CE53  8B F8				mov	di,ax
F000:CE55  8A 56 0E				mov	dl,[bp+0Eh]
F000:CE58 њBB 0090				mov	bx,offset dsk0_media_st	; (0040:0090=7)
F000:CE5B  32 F6				xor	dh,dh			; Zero register
F000:CE5D  03 DA				add	bx,dx
F000:CE5F  3C 01				cmp	al,1
F000:CE61  75 0F				jne	short loc_1052		; Jump if not equal
F000:CE63  8B 4E 10				mov	cx,[bp+10h]
F000:CE66  81 F9 2709				cmp	cx,2709h
F000:CE6A  BE CDEF				mov	si,0CDEFh
F000:CE6D  75 DE				jnz	loc_1050		; Jump if not zero
F000:CE6F  E9 00B4				jmp	loc_1058		; (CF26)
F000:CE72			loc_1052:					;  xref F000:CE61
F000:CE72  3C 03				cmp	al,3
F000:CE74  75 0B				jne	short loc_1053		; Jump if not equal
F000:CE76  8B 4E 10				mov	cx,[bp+10h]
F000:CE79  81 F9 4F09				cmp	cx,4F09h
F000:CE7D  75 CE				jne	loc_1050		; Jump if not equal
F000:CE7F  EB 43				jmp	short loc_1056		; (CEC4)
F000:CE81			loc_1053:					;  xref F000:CE74
F000:CE81  3C 04				cmp	al,4
F000:CE83  74 30				je	short loc_1055		; Jump if equal
F000:CE85  3C 02				cmp	al,2
F000:CE87  74 1B				je	short loc_1054		; Jump if equal
F000:CE89  3C 05				cmp	al,5
F000:CE8B  75 C0				jne	loc_1050		; Jump if not equal
F000:CE8D  8B 4E 10				mov	cx,[bp+10h]
F000:CE90  81 F9 4F24				cmp	cx,4F24h
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 259

F000:CE94  74 2E				je	short loc_1056		; Jump if equal
F000:CE96  81 F9 4F12				cmp	cx,4F12h
F000:CE9A  74 28				je	short loc_1056		; Jump if equal
F000:CE9C  81 F9 4F09				cmp	cx,4F09h
F000:CEA0  74 22				je	short loc_1056		; Jump if equal
F000:CEA2  EB A9				jmp	short loc_1050		; (CE4D)
F000:CEA4			loc_1054:					;  xref F000:CE87
F000:CEA4  8B 4E 10				mov	cx,[bp+10h]
F000:CEA7  81 F9 4F0F				cmp	cx,4F0Fh
F000:CEAB  74 17				je	short loc_1056		; Jump if equal
F000:CEAD  81 F9 2709				cmp	cx,2709h
F000:CEB1  75 9A				jne	loc_1050		; Jump if not equal
F000:CEB3  EB 0F				jmp	short loc_1056		; (CEC4)
F000:CEB5			loc_1055:					;  xref F000:CE83
F000:CEB5  8B 4E 10				mov	cx,[bp+10h]
F000:CEB8  81 F9 4F12				cmp	cx,4F12h
F000:CEBC  74 06				je	short loc_1056		; Jump if equal
F000:CEBE  81 F9 4F09				cmp	cx,4F09h
F000:CEC2  75 89				jne	loc_1050		; Jump if not equal
F000:CEC4			loc_1056:					;  xref F000:CE7F, CE94, CE9A, CEA0
										;            CEAB, CEB3, CEBC
F000:CEC4  8B 4E 10				mov	cx,[bp+10h]
F000:CEC7  81 F9 4F12				cmp	cx,4F12h
F000:CECB  B0 17				mov	al,17h
F000:CECD  BE CE16				mov	si,0CE16h
F000:CED0  B6 00				mov	dh,0
F000:CED2  74 2E				jz	short loc_1057		; Jump if zero
F000:CED4  81 F9 4F09				cmp	cx,4F09h
F000:CED8  B0 97				mov	al,97h
F000:CEDA  BE CE09				mov	si,0CE09h
F000:CEDD  B6 02				mov	dh,2
F000:CEDF  74 21				jz	short loc_1057		; Jump if zero
F000:CEE1  81 F9 4F0F				cmp	cx,4F0Fh
F000:CEE5  B0 15				mov	al,15h
F000:CEE7  BE CDFC				mov	si,0CDFCh
F000:CEEA  B6 00				mov	dh,0
F000:CEEC  74 14				jz	short loc_1057		; Jump if zero
F000:CEEE  81 F9 4F24				cmp	cx,4F24h
F000:CEF2  B0 D7				mov	al,0D7h
F000:CEF4  BE CE30				mov	si,0CE30h
F000:CEF7  B6 03				mov	dh,3
F000:CEF9  74 07				jz	short loc_1057		; Jump if zero
F000:CEFB  B0 74				mov	al,74h			; 't'
F000:CEFD  BE CE23				mov	si,0CE23h
F000:CF00  B6 01				mov	dh,1
F000:CF02			loc_1057:					;  xref F000:CED2, CEDF, CEEC, CEF9
										;            CF2A
F000:CF02 њ88 07				mov	[bx],al
F000:CF04  52					push	dx
F000:CF05  E8 070D				call	sub_296			; (D615)
F000:CF08  5A					pop	dx
F000:CF09  8A 07				mov	al,[bx]
F000:CF0B  24 C0				and	al,0C0h
F000:CF0D  80 26 008B 3F			and	dsk_data_rate,3Fh	; (0040:008B=81h) '?'
F000:CF12  08 06 008B				or	dsk_data_rate,al	; (0040:008B=81h)
F000:CF16  89 76 06				mov	[bp+6],si
F000:CF19  8C 4E 02				mov	[bp+2],cs
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 260

F000:CF1C  C6 06 0041 00			mov	dsk_ret_code,0		; (0040:0041=0)
F000:CF21  32 E4				xor	ah,ah			; Zero register
F000:CF23  E9 F9E5				jmp	loc_968			; (C90B)
F000:CF26			loc_1058:					;  xref F000:CE6F
F000:CF26  B6 02				mov	dh,2
F000:CF28  B0 93				mov	al,93h
F000:CF2A  EB D6				jmp	short loc_1057		; (CF02)

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:CF9F, CFA4, D59C, D5A1
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_275		proc	near
F000:CF2C  56					push	si
F000:CF2D  51					push	cx
F000:CF2E  52					push	dx
F000:CF2F  8A F2				mov	dh,dl
F000:CF31  B2 07				mov	dl,7
F000:CF33  8B F2				mov	si,dx
F000:CF35  B5 02				mov	ch,2
F000:CF37  80 26 003E 7F			and	dsk_recal_stat,7Fh	; (0040:003E=0)
F000:CF3C  E8 03C3				call	sub_283			; (D302)
F000:CF3F  72 48				jc	short loc_1059		; Jump if carry Set
F000:CF41  BE 0008				mov	si,8
F000:CF44  B5 01				mov	ch,1
F000:CF46  80 0E 003E 80			or	dsk_recal_stat,80h	; (0040:003E=0)
F000:CF4B  E8 03B4				call	sub_283			; (D302)
F000:CF4E  72 39				jc	short loc_1059		; Jump if carry Set
F000:CF50  BB 0042				mov	bx,42h
F000:CF53  B9 0002				mov	cx,2
F000:CF56  E8 0403				call	sub_285			; (D35C)
F000:CF59  72 2E				jc	short loc_1059		; Jump if carry Set
F000:CF5B њBB 0042				mov	bx,offset dsk_status_1	; (0040:0042=0C0h)
F000:CF5E  B4 40				mov	ah,40h			; '@'
F000:CF60  8A 17				mov	dl,[bx]
F000:CF62  80 E2 60				and	dl,60h			; '`'
F000:CF65  80 FA 60				cmp	dl,60h			; '`'
F000:CF68  F9					stc				; Set carry flag
F000:CF69  74 1E				jz	short loc_1059		; Jump if zero
F000:CF6B  5A					pop	dx
F000:CF6C  52					push	dx
F000:CF6D  32 F6				xor	dh,dh			; Zero register
F000:CF6F  BB 0094				mov	bx,94h
F000:CF72  03 DA				add	bx,dx
F000:CF74  C6 07 00				mov	byte ptr [bx],0
F000:CF77  8A CA				mov	cl,dl
F000:CF79  B2 01				mov	dl,1
F000:CF7B  D2 E2				shl	dl,cl			; Shift w/zeros fill
F000:CF7D  08 16 003E				or	dsk_recal_stat,dl	; (0040:003E=0)
F000:CF81  B9 0043				mov	cx,43h
F000:CF84  E8 28D7				call	sub_403			; (F85E)
F000:CF87  32 E4				xor	ah,ah			; Zero register
F000:CF89			loc_1059:					;  xref F000:CF3F, CF4E, CF59, CF69
F000:CF89  88 26 0041				mov	dsk_ret_code,ah		; (0040:0041=0)
F000:CF8D  5A					pop	dx
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 261

F000:CF8E  59					pop	cx
F000:CF8F  5E					pop	si
F000:CF90  C3					retn
				sub_275		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:CC77, D08E, D220, D227
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_276		proc	near
F000:CF91  53					push	bx
F000:CF92  51					push	cx
F000:CF93  8A 26 003E				mov	ah,dsk_recal_stat	; (0040:003E=0)
F000:CF97  8A CA				mov	cl,dl
F000:CF99  FE C1				inc	cl
F000:CF9B  D2 EC				shr	ah,cl			; Shift w/zeros fill
F000:CF9D  72 0D				jc	short loc_1060		; Jump if carry Set
F000:CF9F  E8 FF8A				call	sub_275			; (CF2C)
F000:CFA2  73 08				jnc	short loc_1060		; Jump if carry=0
F000:CFA4  E8 FF85				call	sub_275			; (CF2C)
F000:CFA7  73 03				jnc	short loc_1060		; Jump if carry=0
F000:CFA9  E9 00DC				jmp	loc_1069		; (D088)
F000:CFAC			loc_1060:					;  xref F000:CF9D, CFA2, CFA7
F000:CFAC њBB 0094				mov	bx,offset dsk0_cylinder	; (0040:0094=0)
F000:CFAF  32 F6				xor	dh,dh			; Zero register
F000:CFB1  03 DA				add	bx,dx
F000:CFB3 њBE 0090				mov	si,offset dsk0_media_st	; (0040:0090=7)
F000:CFB6  03 F2				add	si,dx
F000:CFB8  8A D5				mov	dl,ch
F000:CFBA  F6 04 20				test	byte ptr [si],20h	; ' '
F000:CFBD  74 02				jz	short loc_1061		; Jump if zero
F000:CFBF  02 D2				add	dl,dl
F000:CFC1			loc_1061:					;  xref F000:CFBD
F000:CFC1  38 17				cmp	[bx],dl
F000:CFC3  8B 56 0E				mov	dx,[bp+0Eh]
F000:CFC6  75 0C				jnz	short loc_1062		; Jump if not zero
F000:CFC8  80 3E 0041 40			cmp	dsk_ret_code,40h	; (0040:0041=0) '@'
F000:CFCD  74 05				je	short loc_1062		; Jump if equal
F000:CFCF  32 E4				xor	ah,ah			; Zero register
F000:CFD1  E9 00B4				jmp	loc_1069		; (D088)
F000:CFD4			loc_1062:					;  xref F000:CFC6, CFCD
F000:CFD4  C0 E6 02				shl	dh,2			; Shift w/zeros fill
F000:CFD7  0A F2				or	dh,dl
F000:CFD9  B2 0F				mov	dl,0Fh
F000:CFDB  8B F2				mov	si,dx
F000:CFDD  8A CD				mov	cl,ch
F000:CFDF  8B 56 0E				mov	dx,[bp+0Eh]
F000:CFE2 њBB 0090				mov	bx,offset dsk0_media_st	; (0040:0090=7)
F000:CFE5  32 F6				xor	dh,dh			; Zero register
F000:CFE7  03 DA				add	bx,dx
F000:CFE9  F6 07 20				test	byte ptr [bx],20h	; ' '
F000:CFEC  74 02				jz	short loc_1063		; Jump if zero
F000:CFEE  02 C9				add	cl,cl
F000:CFF0			loc_1063:					;  xref F000:CFEC
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 262

F000:CFF0  8B F9				mov	di,cx
F000:CFF2  B5 03				mov	ch,3
F000:CFF4  80 26 003E 7F			and	dsk_recal_stat,7Fh	; (0040:003E=0)
F000:CFF9  E8 0306				call	sub_283			; (D302)
F000:CFFC  73 03				jnc	short loc_1064		; Jump if carry=0
F000:CFFE  E9 0083				jmp	loc_1068		; (D084)
F000:D001			loc_1064:					;  xref F000:CFFC
F000:D001  BE 0008				mov	si,8
F000:D004  B5 01				mov	ch,1
F000:D006  80 0E 003E 80			or	dsk_recal_stat,80h	; (0040:003E=0)
F000:D00B  E8 02F4				call	sub_283			; (D302)
F000:D00E  72 74				jc	short loc_1068		; Jump if carry Set
F000:D010  BB 0042				mov	bx,42h
F000:D013  B9 0002				mov	cx,2
F000:D016  E8 0343				call	sub_285			; (D35C)
F000:D019  72 69				jc	short loc_1068		; Jump if carry Set
F000:D01B њBB 0042				mov	bx,offset dsk_status_1	; (0040:0042=0C0h)
F000:D01E  B4 40				mov	ah,40h			; '@'
F000:D020  8A 17				mov	dl,[bx]
F000:D022  80 E2 60				and	dl,60h			; '`'
F000:D025  80 FA 60				cmp	dl,60h			; '`'
F000:D028  F9					stc				; Set carry flag
F000:D029  74 59				jz	short loc_1068		; Jump if zero
F000:D02B  8B 56 0E				mov	dx,[bp+0Eh]
F000:D02E  59					pop	cx
F000:D02F  51					push	cx
F000:D030 њBE 0094				mov	si,offset dsk0_cylinder	; (0040:0094=0)
F000:D033  32 F6				xor	dh,dh			; Zero register
F000:D035  03 F2				add	si,dx
F000:D037  88 2C				mov	[si],ch
F000:D039 њBB 0090				mov	bx,offset dsk0_media_st	; (0040:0090=7)
F000:D03C  03 DA				add	bx,dx
F000:D03E  8A 1F				mov	bl,[bx]
F000:D040  F6 C3 20				test	bl,20h			; ' '
F000:D043  74 02				jz	short loc_1065		; Jump if zero
F000:D045  00 2C				add	[si],ch
F000:D047			loc_1065:					;  xref F000:D043
F000:D047  1E					push	ds
F000:D048  33 F6				xor	si,si			; Zero register
F000:D04A  8E DE				mov	ds,si
F000:D04C  C5 36 0078				lds	si,dword ptr ds:disk_parm_off	; (0000:0078=522h) Load 32 bit ptr
F000:D050  8A 44 09				mov	al,[si+9]
F000:D053  1F					pop	ds
F000:D054  F6 06 003F 80			test	dsk_motor_stat,80h	; [0040:003F=0]
F000:D059  74 19				jz	short loc_1066		; Jump if zero
F000:D05B  0A C0				or	al,al			; Zero ?
F000:D05D  75 15				jnz	short loc_1066		; Jump if not zero
F000:D05F  80 FB 17				cmp	bl,17h
F000:D062  B0 0F				mov	al,0Fh
F000:D064  74 0E				jz	short loc_1066		; Jump if zero
F000:D066  80 E3 07				and	bl,7
F000:D069  B0 14				mov	al,14h
F000:D06B  74 07				jz	short loc_1066		; Jump if zero
F000:D06D  80 FB 03				cmp	bl,3
F000:D070  74 02				je	short loc_1066		; Jump if equal
F000:D072  B0 0F				mov	al,0Fh
F000:D074			loc_1066:					;  xref F000:D059, D05D, D064, D06B
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 263

										;            D070, D080
F000:D074 њ0A C0				or	al,al			; Zero ?
F000:D076  74 0A				jz	short loc_1067		; Jump if zero
F000:D078  B9 0043				mov	cx,43h
F000:D07B  E8 27E0				call	sub_403			; (F85E)
F000:D07E  FE C8				dec	al
F000:D080  EB F2				jmp	short loc_1066		; (D074)
F000:D082			loc_1067:					;  xref F000:D076
F000:D082  32 E4				xor	ah,ah			; Zero register
F000:D084			loc_1068:					;  xref F000:CFFE, D00E, D019, D029
F000:D084  88 26 0041				mov	dsk_ret_code,ah		; (0040:0041=0)
F000:D088			loc_1069:					;  xref F000:CFA9, CFD1
F000:D088  8B 56 0E				mov	dx,[bp+0Eh]
F000:D08B  59					pop	cx
F000:D08C  5B					pop	bx
F000:D08D  C3					retn
				sub_276		endp

F000:D08E			loc_1070:					;  xref F000:CBFF
F000:D08E  E8 FF00				call	sub_276			; (CF91)
F000:D091  73 10				jnc	short loc_1072		; Jump if carry=0
F000:D093			loc_1071:					;  xref F000:D11A
F000:D093 њB0 00				mov	al,0
F000:D095  50					push	ax
F000:D096  BB 0042				mov	bx,42h
F000:D099  B9 0007				mov	cx,7
F000:D09C  E8 02BD				call	sub_285			; (D35C)
F000:D09F  58					pop	ax
F000:D0A0  E9 008C				jmp	loc_1079		; (D12F)
F000:D0A3			loc_1072:					;  xref F000:D091
F000:D0A3  1E					push	ds
F000:D0A4  33 F6				xor	si,si			; Zero register
F000:D0A6  8E DE				mov	ds,si
F000:D0A8  C5 36 0078				lds	si,dword ptr ds:disk_parm_off	; (0000:0078=522h) Load 32 bit ptr
F000:D0AC  8B 44 02				mov	ax,[si+2]
F000:D0AF  25 FF00				and	ax,0FF00h
F000:D0B2  8A C1				mov	al,cl
F000:D0B4  89 46 00				mov	[bp],ax
F000:D0B7  8B 5C 04				mov	bx,[si+4]
F000:D0BA  8A 4C 06				mov	cl,[si+6]
F000:D0BD  1F					pop	ds
F000:D0BE њBE 0090				mov	si,offset dsk0_media_st	; (0040:0090=7)
F000:D0C1  32 F6				xor	dh,dh			; Zero register
F000:D0C3  03 F2				add	si,dx
F000:D0C5  8A 14				mov	dl,[si]
F000:D0C7  80 E2 07				and	dl,7
F000:D0CA  B6 1B				mov	dh,1Bh
F000:D0CC  80 FA 05				cmp	dl,5
F000:D0CF  74 13				je	short loc_1073		; Jump if equal
F000:D0D1  80 3C 17				cmp	byte ptr [si],17h
F000:D0D4  74 0E				je	short loc_1073		; Jump if equal
F000:D0D6  80 3C D7				cmp	byte ptr [si],0D7h
F000:D0D9  74 09				je	short loc_1073		; Jump if equal
F000:D0DB  B6 23				mov	dh,23h			; '#'
F000:D0DD  80 FA 04				cmp	dl,4
F000:D0E0  74 02				je	short loc_1073		; Jump if equal
F000:D0E2  B6 2A				mov	dh,2Ah			; '*'
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 264

F000:D0E4			loc_1073:					;  xref F000:D0CF, D0D4, D0D9, D0E0
F000:D0E4  8A FE				mov	bh,dh
F000:D0E6  8B 56 0E				mov	dx,[bp+0Eh]
F000:D0E9  51					push	cx
F000:D0EA  8A CD				mov	cl,ch
F000:D0EC  8A EE				mov	ch,dh
F000:D0EE  8B F9				mov	di,cx
F000:D0F0  C0 E6 02				shl	dh,2			; Shift w/zeros fill
F000:D0F3  0A F2				or	dh,dl
F000:D0F5  B2 E6				mov	dl,0E6h
F000:D0F7  8B 46 12				mov	ax,[bp+12h]
F000:D0FA  80 FC 03				cmp	ah,3
F000:D0FD  75 02				jne	short loc_1074		; Jump if not equal
F000:D0FF  B2 C5				mov	dl,0C5h
F000:D101			loc_1074:					;  xref F000:D0FD
F000:D101  8B F2				mov	si,dx
F000:D103  59					pop	cx
F000:D104  B5 09				mov	ch,9
F000:D106  80 26 003E 7F			and	dsk_recal_stat,7Fh	; (0040:003E=0)
F000:D10B  80 FC 04				cmp	ah,4
F000:D10E  75 05				jne	short loc_1075		; Jump if not equal
F000:D110  E8 E3DC				call	sub_203			; (B4EF)
F000:D113  74 03				jz	short loc_1076		; Jump if zero
F000:D115			loc_1075:					;  xref F000:D10E
F000:D115  E8 01EA				call	sub_283			; (D302)
F000:D118			loc_1076:					;  xref F000:D113
F000:D118  73 03				jnc	short loc_1077		; Jump if carry=0
F000:D11A  E9 FF76				jmp	loc_1071		; (D093)
F000:D11D			loc_1077:					;  xref F000:D118
F000:D11D  BB 0042				mov	bx,42h
F000:D120  B9 0007				mov	cx,7
F000:D123  E8 0236				call	sub_285			; (D35C)
F000:D126  73 04				jnc	short loc_1078		; Jump if carry=0
F000:D128  B0 00				mov	al,0
F000:D12A  EB 03				jmp	short loc_1079		; (D12F)
F000:D12C			loc_1078:					;  xref F000:D126
F000:D12C  E8 027A				call	sub_287			; (D3A9)
F000:D12F			loc_1079:					;  xref F000:D0A0, D12A
F000:D12F  88 26 0041				mov	dsk_ret_code,ah		; (0040:0041=0)
F000:D133  8B 56 0E				mov	dx,[bp+0Eh]
F000:D136  8B 5E 0C				mov	bx,[bp+0Ch]
F000:D139  8B 4E 10				mov	cx,[bp+10h]
F000:D13C  E9 FAC3				jmp	loc_1022		; (CC02)

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:CA7D, CAEB, CB61, CC41
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_277		proc	near
F000:D13F  52					push	dx
F000:D140  51					push	cx
F000:D141  FA					cli				; Disable interrupts
F000:D142  C6 06 0040 FF			mov	dsk_motor_tmr,0FFh	; (0040:0040=0)
F000:D147  80 26 003F CF			and	dsk_motor_stat,0CFh	; (0040:003F=0)
F000:D14C  8A EA				mov	ch,dl
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 265

F000:D14E  C0 E2 04				shl	dl,4			; Shift w/zeros fill
F000:D151  08 16 003F				or	dsk_motor_stat,dl	; (0040:003F=0)
F000:D155  8A CD				mov	cl,ch
F000:D157  8A 16 003F				mov	dl,dsk_motor_stat	; (0040:003F=0)
F000:D15B  FE C1				inc	cl
F000:D15D  D2 EA				shr	dl,cl			; Shift w/zeros fill
F000:D15F  72 4F				jc	short loc_1082		; Jump if carry Set
F000:D161  B2 01				mov	dl,1
F000:D163  FE C9				dec	cl
F000:D165  D2 E2				shl	dl,cl			; Shift w/zeros fill
F000:D167  08 16 003F				or	dsk_motor_stat,dl	; (0040:003F=0)
F000:D16B  FB					sti				; Enable interrupts
F000:D16C  A0 003F				mov	al,dsk_motor_stat	; (0040:003F=0)
F000:D16F  C0 C8 04				ror	al,4			; Rotate
F000:D172  0C 0C				or	al,0Ch
F000:D174  BA 03F2				mov	dx,3F2h
F000:D177  EE					out	dx,al			; port 3F2h, dsk0 contrl output
F000:D178  B8 90FD				mov	ax,90FDh
F000:D17B  CD 15				int	15h			; General services, ah=func 90h
										;  device busy, al=type,
										;   es:bx=ptr of request block
F000:D17D  72 3E				jc	short loc_1083		; Jump if carry Set
F000:D17F  8A 26 003F				mov	ah,dsk_motor_stat	; (0040:003F=0)
F000:D183  1E					push	ds
F000:D184  56					push	si
F000:D185  33 F6				xor	si,si			; Zero register
F000:D187  8E DE				mov	ds,si
F000:D189  C5 36 0078				lds	si,dword ptr ds:disk_parm_off	; (0000:0078=522h) Load 32 bit ptr
F000:D18D  8A 44 0A				mov	al,[si+0Ah]
F000:D190  5E					pop	si
F000:D191  1F					pop	ds
F000:D192  D0 E4				shl	ah,1			; Shift w/zeros fill
F000:D194  73 08				jnc	short loc_1080		; Jump if carry=0
F000:D196  3C 08				cmp	al,8
F000:D198  73 0A				jae	short loc_1081		; Jump if above or =
F000:D19A  B0 08				mov	al,8
F000:D19C  EB 06				jmp	short loc_1081		; (D1A4)
F000:D19E			loc_1080:					;  xref F000:D194
F000:D19E  3C 05				cmp	al,5
F000:D1A0  73 02				jae	short loc_1081		; Jump if above or =
F000:D1A2  B0 05				mov	al,5
F000:D1A4			loc_1081:					;  xref F000:D198, D19C, D1A0, D1AC
F000:D1A4  B9 208E				mov	cx,208Eh
F000:D1A7  E8 26B4				call	sub_403			; (F85E)
F000:D1AA  FE C8				dec	al
F000:D1AC  75 F6				jnz	loc_1081		; Jump if not zero
F000:D1AE  EB 0D				jmp	short loc_1083		; (D1BD)
F000:D1B0			loc_1082:					;  xref F000:D15F
F000:D1B0  FB					sti				; Enable interrupts
F000:D1B1  A0 003F				mov	al,dsk_motor_stat	; (0040:003F=0)
F000:D1B4  C0 C8 04				ror	al,4			; Rotate
F000:D1B7  0C 0C				or	al,0Ch
F000:D1B9  BA 03F2				mov	dx,3F2h
F000:D1BC  EE					out	dx,al			; port 3F2h, dsk0 contrl output
F000:D1BD			loc_1083:					;  xref F000:D17D, D1AE
F000:D1BD  59					pop	cx
F000:D1BE  5A					pop	dx
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 266

F000:D1BF  C3					retn
				sub_277		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:CB6A, CC02, CC49, CCC5
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_278		proc	near
F000:D1C0  50					push	ax
F000:D1C1  1E					push	ds
F000:D1C2  33 DB				xor	bx,bx			; Zero register
F000:D1C4  8E DB				mov	ds,bx
F000:D1C6  C5 1E 0078				lds	bx,dword ptr ds:disk_parm_off	; (0000:0078=522h) Load 32 bit ptr
F000:D1CA  8A 67 02				mov	ah,[bx+2]
F000:D1CD  8A 47 04				mov	al,[bx+4]
F000:D1D0  1F					pop	ds
F000:D1D1 њBB 0042				mov	bx,offset dsk_status_1	; (0040:0042=0C0h)
F000:D1D4  3A 77 04				cmp	dh,[bx+4]
F000:D1D7  75 07				jne	short loc_1084		; Jump if not equal
F000:D1D9  3A 6F 03				cmp	ch,[bx+3]
F000:D1DC  74 07				je	short loc_1085		; Jump if equal
F000:D1DE  02 C0				add	al,al
F000:D1E0			loc_1084:					;  xref F000:D1D7
F000:D1E0  02 47 05				add	al,[bx+5]
F000:D1E3  EB 03				jmp	short loc_1086		; (D1E8)
F000:D1E5			loc_1085:					;  xref F000:D1DC
F000:D1E5  8A 47 05				mov	al,[bx+5]
F000:D1E8			loc_1086:					;  xref F000:D1E3
F000:D1E8  88 26 0040				mov	dsk_motor_tmr,ah	; (0040:0040=0)
F000:D1EC  8A D8				mov	bl,al
F000:D1EE  58					pop	ax
F000:D1EF  C3					retn
				sub_278		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:CA82, CB64, CC44
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_279		proc	near
F000:D1F0  51					push	cx
F000:D1F1  E8 02AD				call	sub_292			; (D4A1)
F000:D1F4  B4 00				mov	ah,0
F000:D1F6  75 04				jnz	short loc_1087		; Jump if not zero
F000:D1F8  FE C8				dec	al
F000:D1FA  74 3C				jz	short loc_1088		; Jump if zero
F000:D1FC			loc_1087:					;  xref F000:D1F6
F000:D1FC  8A 04				mov	al,[si]
F000:D1FE  24 07				and	al,7
F000:D200  74 36				jz	short loc_1088		; Jump if zero
F000:D202  3C 03				cmp	al,3
F000:D204  74 32				je	short loc_1088		; Jump if equal
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 267

F000:D206  E8 0286				call	sub_290			; (D48F)
F000:D209  73 32				jnc	short loc_1089		; Jump if carry=0
F000:D20B  BA 03F7				mov	dx,3F7h
F000:D20E  EC					in	al,dx			; port 3F7h, disk status
F000:D20F  D0 E0				shl	al,1			; Shift w/zeros fill
F000:D211  73 2A				jnc	short loc_1089		; Jump if carry=0
F000:D213  80 24 EF				and	byte ptr [si],0EFh
F000:D216  E8 F7D4				call	sub_274			; (C9ED)
F000:D219  72 22				jc	short loc_1089		; Jump if carry Set
F000:D21B  8B 56 0E				mov	dx,[bp+0Eh]
F000:D21E  B5 01				mov	ch,1
F000:D220  E8 FD6E				call	sub_276			; (CF91)
F000:D223  72 18				jc	short loc_1089		; Jump if carry Set
F000:D225  B5 00				mov	ch,0
F000:D227  E8 FD67				call	sub_276			; (CF91)
F000:D22A  72 11				jc	short loc_1089		; Jump if carry Set
F000:D22C  B4 06				mov	ah,6
F000:D22E  BA 03F7				mov	dx,3F7h
F000:D231  EC					in	al,dx			; port 3F7h, disk status
F000:D232  D0 E0				shl	al,1			; Shift w/zeros fill
F000:D234  73 02				jnc	short loc_1088		; Jump if carry=0
F000:D236  B4 80				mov	ah,80h
F000:D238			loc_1088:					;  xref F000:D1FA, D200, D204, D234
F000:D238  0A E4				or	ah,ah			; Zero ?
F000:D23A  74 01				jz	short loc_1089		; Jump if zero
F000:D23C  F9					stc				; Set carry flag
F000:D23D			loc_1089:					;  xref F000:D209, D211, D219, D223
										;            D22A, D23A
F000:D23D  8B 56 0E				mov	dx,[bp+0Eh]
F000:D240  59					pop	cx
F000:D241  C3					retn
				sub_279		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:CBF6, CC71
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_280		proc	near
F000:D242  50					push	ax
F000:D243  52					push	dx
F000:D244  FA					cli				; Disable interrupts
F000:D245  8A C4				mov	al,ah
F000:D247  E6 0C				out	0Ch,al			; port 0Ch, DMA-1 clr byte ptr
F000:D249  E3 00				jcxz	short $+2		; delay for I/O
F000:D24B  E3 00				jcxz	short $+2		; delay for I/O
F000:D24D  E6 0B				out	0Bh,al			; port 0Bh, DMA-1 mode reg
F000:D24F  E3 00				jcxz	short $+2		; delay for I/O
F000:D251  E3 00				jcxz	short $+2		; delay for I/O
F000:D253  8A C1				mov	al,cl
F000:D255  E6 05				out	5,al			; port 5, DMA-1 bas&cnt ch 2
F000:D257  E3 00				jcxz	short $+2		; delay for I/O
F000:D259  E3 00				jcxz	short $+2		; delay for I/O
F000:D25B  8A C5				mov	al,ch
F000:D25D  E6 05				out	5,al			; port 5, DMA-1 bas&cnt ch 2
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 268

F000:D25F  E3 00				jcxz	short $+2		; delay for I/O
F000:D261  E3 00				jcxz	short $+2		; delay for I/O
F000:D263  8A C3				mov	al,bl
F000:D265  E6 04				out	4,al			; port 4, DMA-1 bas&add ch 2
F000:D267  E3 00				jcxz	short $+2		; delay for I/O
F000:D269  E3 00				jcxz	short $+2		; delay for I/O
F000:D26B  8A C7				mov	al,bh
F000:D26D  E6 04				out	4,al			; port 4, DMA-1 bas&add ch 2
F000:D26F  E3 00				jcxz	short $+2		; delay for I/O
F000:D271  E3 00				jcxz	short $+2		; delay for I/O
F000:D273  8C C0				mov	ax,es
F000:D275  E6 81				out	81h,al			; port 81h, DMA page reg ch 2
F000:D277  E3 00				jcxz	short $+2		; delay for I/O
F000:D279  E3 00				jcxz	short $+2		; delay for I/O
F000:D27B  B0 02				mov	al,2
F000:D27D  E6 0A				out	0Ah,al			; port 0Ah, DMA-1 mask reg bit
F000:D27F  FB					sti				; Enable interrupts
F000:D280  5A					pop	dx
F000:D281  58					pop	ax
F000:D282  C3					retn
				sub_280		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:CBD5, CC6A
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_281		proc	near
F000:D283  51					push	cx
F000:D284  33 C0				xor	ax,ax			; Zero register
F000:D286  8C C1				mov	cx,es
F000:D288  D1 E1				shl	cx,1			; Shift w/zeros fill
F000:D28A  D0 D0				rcl	al,1			; Rotate thru carry
F000:D28C  D1 E1				shl	cx,1			; Shift w/zeros fill
F000:D28E  D0 D0				rcl	al,1			; Rotate thru carry
F000:D290  D1 E1				shl	cx,1			; Shift w/zeros fill
F000:D292  D0 D0				rcl	al,1			; Rotate thru carry
F000:D294  D1 E1				shl	cx,1			; Shift w/zeros fill
F000:D296  D0 D0				rcl	al,1			; Rotate thru carry
F000:D298  8B 5E 0C				mov	bx,[bp+0Ch]
F000:D29B  03 D9				add	bx,cx
F000:D29D  83 D0 00				adc	ax,0
F000:D2A0  8E C0				mov	es,ax
F000:D2A2  59					pop	cx
F000:D2A3  8B C1				mov	ax,cx
F000:D2A5  03 C3				add	ax,bx
F000:D2A7  73 02				jnc	short loc_ret_1090	; Jump if carry=0
F000:D2A9  B4 09				mov	ah,9

F000:D2AB			loc_ret_1090:					;  xref F000:D2A7
F000:D2AB  C3					retn
				sub_281		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 269

				;                              SUBROUTINE
				;
				;         Called from:   F000:D30E, D312
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_282		proc	near
F000:D2AC  8B C6				mov	ax,si
F000:D2AE  8A E0				mov	ah,al
F000:D2B0  E8 007C				call	sub_284			; (D32F)
F000:D2B3  FE CD				dec	ch
F000:D2B5  76 4A				jbe	short loc_ret_1091	; Jump if below or =
F000:D2B7  8B C6				mov	ax,si
F000:D2B9  E8 0073				call	sub_284			; (D32F)
F000:D2BC  FE CD				dec	ch
F000:D2BE  76 41				jbe	short loc_ret_1091	; Jump if below or =
F000:D2C0  8B C7				mov	ax,di
F000:D2C2  8A E0				mov	ah,al
F000:D2C4  E8 0068				call	sub_284			; (D32F)
F000:D2C7  FE CD				dec	ch
F000:D2C9  76 36				jbe	short loc_ret_1091	; Jump if below or =
F000:D2CB  8B C7				mov	ax,di
F000:D2CD  E8 005F				call	sub_284			; (D32F)
F000:D2D0  FE CD				dec	ch
F000:D2D2  76 2D				jbe	short loc_ret_1091	; Jump if below or =
F000:D2D4  8B 46 00				mov	ax,[bp]
F000:D2D7  8A E0				mov	ah,al
F000:D2D9  E8 0053				call	sub_284			; (D32F)
F000:D2DC  FE CD				dec	ch
F000:D2DE  76 21				jbe	short loc_ret_1091	; Jump if below or =
F000:D2E0  8B 46 00				mov	ax,[bp]
F000:D2E3  E8 0049				call	sub_284			; (D32F)
F000:D2E6  FE CD				dec	ch
F000:D2E8  76 17				jbe	short loc_ret_1091	; Jump if below or =
F000:D2EA  8A E3				mov	ah,bl
F000:D2EC  E8 0040				call	sub_284			; (D32F)
F000:D2EF  FE CD				dec	ch
F000:D2F1  76 0E				jbe	short loc_ret_1091	; Jump if below or =
F000:D2F3  8A E7				mov	ah,bh
F000:D2F5  E8 0037				call	sub_284			; (D32F)
F000:D2F8  FE CD				dec	ch
F000:D2FA  76 05				jbe	short loc_ret_1091	; Jump if below or =
F000:D2FC  8A E1				mov	ah,cl
F000:D2FE  E8 002E				call	sub_284			; (D32F)

F000:D301			loc_ret_1091:					;  xref F000:D2B5, D2BE, D2C9, D2D2
										;            D2DE, D2E8, D2F1, D2FA
F000:D301  C3					retn
				sub_282		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:CBAE, CCAE, CF3C, CF4B, CFF9, D00B, D115
				;                             D489, D5B9
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 270

				sub_283		proc	near
F000:D302  F6 06 003E 80			test	dsk_recal_stat,80h	; (0040:003E=0)
F000:D307  74 09				jz	short loc_1092		; Jump if zero
F000:D309  80 26 003E 7F			and	dsk_recal_stat,7Fh	; (0040:003E=0)
F000:D30E  E8 FF9B				call	sub_282			; (D2AC)
F000:D311  C3					retn
F000:D312			loc_1092:					;  xref F000:D307
F000:D312  E8 FF97				call	sub_282			; (D2AC)
F000:D315  72 0F				jc	short loc_ret_1094	; Jump if carry Set
F000:D317  B8 9001				mov	ax,9001h
F000:D31A  CD 15				int	15h			; General services, ah=func 90h
										;  device busy, al=type,
										;   es:bx=ptr of request block
F000:D31C  FB					sti				; Enable interrupts
F000:D31D  72 05				jc	short loc_1093		; Jump if carry Set
F000:D31F  E8 016F				call	sub_291			; (D491)
F000:D322  73 03				jnc	short loc_1095		; Jump if carry=0
F000:D324			loc_1093:					;  xref F000:D31D
F000:D324  B4 80				mov	ah,80h

F000:D326			loc_ret_1094:					;  xref F000:D315
F000:D326  C3					retn
F000:D327			loc_1095:					;  xref F000:D322
F000:D327  80 26 003E 7F			and	dsk_recal_stat,7Fh	; (0040:003E=0)
F000:D32C  32 E4				xor	ah,ah			; Zero register
F000:D32E  C3					retn
				sub_283		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:D2B0, D2B9, D2C4, D2CD, D2D9, D2E3, D2EC
				;                             D2F5, D2FE, D410
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_284		proc	near
F000:D32F  51					push	cx
F000:D330  52					push	dx
F000:D331  B9 0002				mov	cx,2
F000:D334  E8 2527				call	sub_403			; (F85E)
F000:D337  BA 03F4				mov	dx,3F4h
F000:D33A  50					push	ax
F000:D33B  B4 40				mov	ah,40h			; '@'
F000:D33D  33 C9				xor	cx,cx			; Zero register
F000:D33F  E8 13FA				call	sub_331			; (E73C)
F000:D342  72 12				jc	short loc_1096		; Jump if carry Set
F000:D344  B4 80				mov	ah,80h
F000:D346  33 C9				xor	cx,cx			; Zero register
F000:D348  E8 142B				call	sub_332			; (E776)
F000:D34B  72 09				jc	short loc_1096		; Jump if carry Set
F000:D34D  58					pop	ax
F000:D34E  BA 03F5				mov	dx,3F5h
F000:D351  8A C4				mov	al,ah
F000:D353  EE					out	dx,al			; port 3F5h, dsk0 controlr data
										;  al = 3, specify
F000:D354  EB 03				jmp	short loc_1097		; (D359)
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 271

F000:D356			loc_1096:					;  xref F000:D342, D34B
F000:D356  58					pop	ax
F000:D357  B4 80				mov	ah,80h
F000:D359			loc_1097:					;  xref F000:D354
F000:D359  5A					pop	dx
F000:D35A  59					pop	cx
F000:D35B  C3					retn
				sub_284		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:CC83, CCB9, CF56, D016, D09C, D123, D5C5
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_285		proc	near
F000:D35C  52					push	dx

F000:D35D			locloop_1098:					;  xref F000:D367
F000:D35D  51					push	cx
F000:D35E  E8 001F				call	sub_286			; (D380)
F000:D361  59					pop	cx
F000:D362  72 1A				jc	short loc_1100		; Jump if carry Set
F000:D364  88 07				mov	[bx],al
F000:D366  43					inc	bx
F000:D367  E2 F4				loop	locloop_1098		; Loop if cx > 0

F000:D369  B9 0004				mov	cx,4
F000:D36C  E8 24EF				call	sub_403			; (F85E)
F000:D36F  BA 03F4				mov	dx,3F4h
F000:D372  EC					in	al,dx			; port 3F4h, dsk0 cntrlr status
F000:D373  A8 10				test	al,10h
F000:D375  74 05				jz	short loc_1099		; Jump if zero
F000:D377  B4 20				mov	ah,20h			; ' '
F000:D379  F9					stc				; Set carry flag
F000:D37A  EB 02				jmp	short loc_1100		; (D37E)
F000:D37C			loc_1099:					;  xref F000:D375
F000:D37C  32 E4				xor	ah,ah			; Zero register
F000:D37E			loc_1100:					;  xref F000:D362, D37A
F000:D37E  5A					pop	dx
F000:D37F  C3					retn
				sub_285		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:D35E, D415, D41E
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_286		proc	near
F000:D380  52					push	dx
F000:D381  B9 0003				mov	cx,3
F000:D384  E8 24D7				call	sub_403			; (F85E)
F000:D387  BA 03F4				mov	dx,3F4h
F000:D38A  B4 80				mov	ah,80h
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 272

F000:D38C  33 C9				xor	cx,cx			; Zero register
F000:D38E  E8 13E5				call	sub_332			; (E776)
F000:D391  B4 80				mov	ah,80h
F000:D393  72 12				jc	short loc_1102		; Jump if carry Set
F000:D395  EC					in	al,dx			; port 3F4h, dsk0 cntrlr status
F000:D396  A8 40				test	al,40h			; '@'
F000:D398  75 05				jnz	short loc_1101		; Jump if not zero
F000:D39A  B4 20				mov	ah,20h			; ' '
F000:D39C  F9					stc				; Set carry flag
F000:D39D  EB 08				jmp	short loc_1102		; (D3A7)
F000:D39F			loc_1101:					;  xref F000:D398
F000:D39F  E3 00				jcxz	short $+2		; delay for I/O
F000:D3A1  E3 00				jcxz	short $+2		; delay for I/O
F000:D3A3  BA 03F5				mov	dx,3F5h
F000:D3A6  EC					in	al,dx			; port 3F5h, dsk0 controlr data
F000:D3A7			loc_1102:					;  xref F000:D393, D39D
F000:D3A7  5A					pop	dx
F000:D3A8  C3					retn
				sub_286		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:CCBE, D12C, D5CC
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_287		proc	near
F000:D3A9 њBB 0042				mov	bx,offset dsk_status_1	; (0040:0042=0C0h)
F000:D3AC  8B 1F				mov	bx,[bx]
F000:D3AE  F6 C3 C0				test	bl,0C0h
F000:D3B1  B4 00				mov	ah,0
F000:D3B3  74 33				jz	short loc_ret_1103	; Jump if zero
F000:D3B5  F6 C3 40				test	bl,40h			; '@'
F000:D3B8  B4 20				mov	ah,20h			; ' '
F000:D3BA  74 2C				jz	short loc_ret_1103	; Jump if zero
F000:D3BC  F6 C7 01				test	bh,1
F000:D3BF  B4 02				mov	ah,2
F000:D3C1  75 25				jnz	short loc_ret_1103	; Jump if not zero
F000:D3C3  F6 C7 02				test	bh,2
F000:D3C6  B4 03				mov	ah,3
F000:D3C8  75 1E				jnz	short loc_ret_1103	; Jump if not zero
F000:D3CA  F6 C7 04				test	bh,4
F000:D3CD  B4 04				mov	ah,4
F000:D3CF  75 17				jnz	short loc_ret_1103	; Jump if not zero
F000:D3D1  F6 C7 10				test	bh,10h
F000:D3D4  B4 08				mov	ah,8
F000:D3D6  75 10				jnz	short loc_ret_1103	; Jump if not zero
F000:D3D8  F6 C7 20				test	bh,20h			; ' '
F000:D3DB  B4 10				mov	ah,10h
F000:D3DD  75 09				jnz	short loc_ret_1103	; Jump if not zero
F000:D3DF  F6 C7 80				test	bh,80h
F000:D3E2  B4 04				mov	ah,4
F000:D3E4  75 02				jnz	short loc_ret_1103	; Jump if not zero
F000:D3E6  B4 20				mov	ah,20h			; ' '

F000:D3E8			loc_ret_1103:					;  xref F000:D3B3, D3BA, D3C1, D3C8
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 273

										;            D3CF, D3D6, D3DD, D3E4
F000:D3E8  C3					retn
				sub_287		endp

F000:D3E9			loc_1104:					;  xref F000:C9F2
F000:D3E9  E8 0048				call	sub_288			; (D434)
F000:D3EC  72 43				jc	short loc_1108		; Jump if carry Set
F000:D3EE  BA 03F4				mov	dx,3F4h
F000:D3F1  EC					in	al,dx			; port 3F4h, dsk0 cntrlr status
F000:D3F2  A8 80				test	al,80h
F000:D3F4  74 04				jz	short loc_1105		; Jump if zero
F000:D3F6  A8 40				test	al,40h			; '@'
F000:D3F8  74 14				jz	short loc_1107		; Jump if zero
F000:D3FA			loc_1105:					;  xref F000:D3F4
F000:D3FA  E8 0037				call	sub_288			; (D434)
F000:D3FD  BA 03F4				mov	dx,3F4h
F000:D400  EC					in	al,dx			; port 3F4h, dsk0 cntrlr status
F000:D401  A8 80				test	al,80h
F000:D403  74 04				jz	short loc_1106		; Jump if zero
F000:D405  A8 40				test	al,40h			; '@'
F000:D407  74 05				jz	short loc_1107		; Jump if zero
F000:D409			loc_1106:					;  xref F000:D403, D42D
F000:D409  B4 20				mov	ah,20h			; ' '
F000:D40B  F9					stc				; Set carry flag
F000:D40C  EB 23				jmp	short loc_1108		; (D431)
F000:D40E			loc_1107:					;  xref F000:D3F8, D407
F000:D40E  B4 08				mov	ah,8
F000:D410  E8 FF1C				call	sub_284			; (D32F)
F000:D413  72 1C				jc	short loc_1108		; Jump if carry Set
F000:D415  E8 FF68				call	sub_286			; (D380)
F000:D418  72 17				jc	short loc_1108		; Jump if carry Set
F000:D41A  A2 0042				mov	dsk_status_1,al		; (0040:0042=0C0h)
F000:D41D  50					push	ax
F000:D41E  E8 FF5F				call	sub_286			; (D380)
F000:D421  A2 0043				mov	dsk_status_2,al		; (0040:0043=0)
F000:D424  59					pop	cx
F000:D425  72 0A				jc	short loc_1108		; Jump if carry Set
F000:D427  80 E1 C0				and	cl,0C0h
F000:D42A  80 F9 C0				cmp	cl,0C0h
F000:D42D  75 DA				jne	loc_1106		; Jump if not equal
F000:D42F  32 E4				xor	ah,ah			; Zero register
F000:D431			loc_1108:					;  xref F000:D3EC, D40C, D413, D418
										;            D425
F000:D431  E9 F5C1				jmp	loc_978			; (C9F5)

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:D3E9, D3FA
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_288		proc	near
F000:D434  FA					cli				; Disable interrupts
F000:D435  80 26 003F 7F			and	dsk_motor_stat,7Fh	; (0040:003F=0)
F000:D43A  80 26 003E 7F			and	dsk_recal_stat,7Fh	; (0040:003E=0)
F000:D43F  A0 003F				mov	al,dsk_motor_stat	; (0040:003F=0)
F000:D442  C0 C0 04				rol	al,4			; Rotate
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 274

F000:D445  24 FB				and	al,0FBh
F000:D447  0C 08				or	al,8
F000:D449  BA 03F2				mov	dx,3F2h
F000:D44C  EE					out	dx,al			; port 3F2h, dsk0 contrl output
F000:D44D  B9 0003				mov	cx,3
F000:D450  E8 240B				call	sub_403			; (F85E)
F000:D453  0C 0C				or	al,0Ch
F000:D455  EE					out	dx,al			; port 3F2h, dsk0 contrl output
F000:D456  B8 9001				mov	ax,9001h
F000:D459  CD 15				int	15h			; General services, ah=func 90h
										;  device busy, al=type,
										;   es:bx=ptr of request block
F000:D45B  FB					sti				; Enable interrupts
F000:D45C  72 03				jc	short loc_1109		; Jump if carry Set
F000:D45E  E8 0030				call	sub_291			; (D491)
F000:D461			loc_1109:					;  xref F000:D45C
F000:D461  B4 20				mov	ah,20h			; ' '
F000:D463  72 07				jc	short loc_ret_1110	; Jump if carry Set
F000:D465  80 26 003E 7F			and	dsk_recal_stat,7Fh	; (0040:003E=0)
F000:D46A  32 E4				xor	ah,ah			; Zero register

F000:D46C			loc_ret_1110:					;  xref F000:D463
F000:D46C  C3					retn
				sub_288		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:CC51
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_289		proc	near
F000:D46D			loc_1111:					;  xref F000:C9F7
F000:D46D  1E					push	ds
F000:D46E  33 DB				xor	bx,bx			; Zero register
F000:D470  8E DB				mov	ds,bx
F000:D472  C5 1E 0078				lds	bx,dword ptr ds:disk_parm_off	; (0000:0078=522h) Load 32 bit ptr
F000:D476  B0 03				mov	al,3
F000:D478  8A 27				mov	ah,[bx]
F000:D47A  8B F0				mov	si,ax
F000:D47C  8A 47 01				mov	al,[bx+1]
F000:D47F  8B F8				mov	di,ax
F000:D481  B5 03				mov	ch,3
F000:D483  1F					pop	ds
F000:D484  80 0E 003E 80			or	dsk_recal_stat,80h	; [0040:003E=0]
F000:D489  E8 FE76				call	sub_283			; (D302)
F000:D48C  E9 F56B				jmp	loc_979			; (C9FA)
				sub_289		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:CA34, CA77, CAE6, D206
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 275

				sub_290		proc	near
F000:D48F  F9					stc				; Set carry flag
F000:D490  C3					retn
				sub_290		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:D31F, D45E
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_291		proc	near
F000:D491 њBB 003E				mov	bx,offset dsk_recal_stat	; (0040:003E=0)
F000:D494  33 C9				xor	cx,cx			; Zero register
F000:D496  E8 1319				call	sub_333			; (E7B2)
F000:D499  73 05				jnc	short loc_ret_1112	; Jump if carry=0
F000:D49B  33 C9				xor	cx,cx			; Zero register
F000:D49D  E8 1312				call	sub_333			; (E7B2)

F000:D4A0			loc_ret_1112:					;  xref F000:D499
F000:D4A0  C3					retn
				sub_291		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:CB34, CB55, CE48, D1F1, D4BF
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_292		proc	near
F000:D4A1  E8 1786				call	sub_352			; (EC2A)
F000:D4A4  75 0E				jnz	short loc_ret_1114	; Jump if not zero
F000:D4A6  E8 F4CF				call	sub_271			; (C978)
F000:D4A9  0A D2				or	dl,dl			; Zero ?
F000:D4AB  75 03				jnz	short loc_1113		; Jump if not zero
F000:D4AD  C0 E8 04				shr	al,4			; Shift w/zeros fill
F000:D4B0			loc_1113:					;  xref F000:D4AB
F000:D4B0  24 0F				and	al,0Fh
F000:D4B2  3B E4				cmp	sp,sp

F000:D4B4			loc_ret_1114:					;  xref F000:D4A4
F000:D4B4  C3					retn
				sub_292		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:CB7D
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_293		proc	near
F000:D4B5  52					push	dx
F000:D4B6  51					push	cx
F000:D4B7  53					push	bx
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 276

F000:D4B8  8A 5E 0E				mov	bl,[bp+0Eh]
F000:D4BB  32 FF				xor	bh,bh			; Zero register
F000:D4BD  8A D3				mov	dl,bl
F000:D4BF  E8 FFDF				call	sub_292			; (D4A1)
F000:D4C2  B4 00				mov	ah,0
F000:D4C4  74 03				jz	short loc_1115		; Jump if zero
F000:D4C6  E9 0091				jmp	loc_1127		; (D55A)
F000:D4C9			loc_1115:					;  xref F000:D4C4
F000:D4C9  C6 87 0090 00			mov	dsk0_media_st[bx],0	; (0040:0090=7)
F000:D4CE  48					dec	ax
F000:D4CF  75 1B				jnz	short loc_1118		; Jump if not zero
F000:D4D1  B0 93				mov	al,93h
F000:D4D3			loc_1116:					;  xref F000:D511
F000:D4D3 њ50					push	ax
F000:D4D4  8A F0				mov	dh,al
F000:D4D6  80 E6 C0				and	dh,0C0h
F000:D4D9  C0 EE 06				shr	dh,6			; Shift w/zeros fill
F000:D4DC  E8 0136				call	sub_296			; (D615)
F000:D4DF  58					pop	ax
F000:D4E0			loc_1117:					;  xref F000:D4F6, D506, D50A, D51D
										;            D528, D52C, D535, D540
										;            D54B, D54F, D585
F000:D4E0 њ88 87 0090				mov	dsk0_media_st[bx],al	; (0040:0090=7)
F000:D4E4  A8 10				test	al,10h
F000:D4E6  74 69				jz	short loc_1125		; Jump if zero
F000:D4E8  32 E4				xor	ah,ah			; Zero register
F000:D4EA  EB 66				jmp	short loc_1126		; (D552)
F000:D4EC			loc_1118:					;  xref F000:D4CF
F000:D4EC  48					dec	ax
F000:D4ED  75 1D				jnz	short loc_1120		; Jump if not zero
F000:D4EF  B0 00				mov	al,0
F000:D4F1  E8 0094				call	sub_294			; (D588)
F000:D4F4  B0 15				mov	al,15h
F000:D4F6  73 E8				jnc	loc_1117		; Jump if carry=0
F000:D4F8  E3 0E				jcxz	short loc_1119		; Jump if cx=0
F000:D4FA  B0 40				mov	al,40h			; '@'
F000:D4FC  C6 87 0090 02			mov	dsk0_media_st[bx],2	; (0040:0090=7)
F000:D501  E8 0084				call	sub_294			; (D588)
F000:D504  B0 74				mov	al,74h			; 't'
F000:D506  73 D8				jnc	loc_1117		; Jump if carry=0
F000:D508			loc_1119:					;  xref F000:D4F8
F000:D508  B0 02				mov	al,2
F000:D50A  EB D4				jmp	short loc_1117		; (D4E0)
F000:D50C			loc_1120:					;  xref F000:D4ED
F000:D50C  48					dec	ax
F000:D50D  75 04				jnz	short loc_1121		; Jump if not zero
F000:D50F  B0 97				mov	al,97h
F000:D511  EB C0				jmp	short loc_1116		; (D4D3)
F000:D513			loc_1121:					;  xref F000:D50D
F000:D513  48					dec	ax
F000:D514  75 18				jnz	short loc_1123		; Jump if not zero
F000:D516  B0 00				mov	al,0
F000:D518  E8 006D				call	sub_294			; (D588)
F000:D51B  B0 17				mov	al,17h
F000:D51D  73 C1				jnc	loc_1117		; Jump if carry=0
F000:D51F  E3 09				jcxz	short loc_1122		; Jump if cx=0
F000:D521  B0 80				mov	al,80h
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 277

F000:D523  E8 0062				call	sub_294			; (D588)
F000:D526  B0 97				mov	al,97h
F000:D528  73 B6				jnc	loc_1117		; Jump if carry=0
F000:D52A			loc_1122:					;  xref F000:D51F
F000:D52A  B0 07				mov	al,7
F000:D52C  EB B2				jmp	short loc_1117		; (D4E0)
F000:D52E			loc_1123:					;  xref F000:D514
F000:D52E  B0 C0				mov	al,0C0h
F000:D530  E8 0055				call	sub_294			; (D588)
F000:D533  B0 D7				mov	al,0D7h
F000:D535  73 A9				jnc	loc_1117		; Jump if carry=0
F000:D537  E3 14				jcxz	short loc_1124		; Jump if cx=0
F000:D539  B0 00				mov	al,0
F000:D53B  E8 004A				call	sub_294			; (D588)
F000:D53E  B0 17				mov	al,17h
F000:D540  73 9E				jnc	loc_1117		; Jump if carry=0
F000:D542  E3 09				jcxz	short loc_1124		; Jump if cx=0
F000:D544  B0 80				mov	al,80h
F000:D546  E8 003F				call	sub_294			; (D588)
F000:D549  B0 97				mov	al,97h
F000:D54B  73 93				jnc	loc_1117		; Jump if carry=0
F000:D54D			loc_1124:					;  xref F000:D537, D542
F000:D54D  B0 C7				mov	al,0C7h
F000:D54F  EB 8F				jmp	short loc_1117		; (D4E0)
F000:D551			loc_1125:					;  xref F000:D4E6, D563, D583
F000:D551  F9					stc				; Set carry flag
F000:D552			loc_1126:					;  xref F000:D4EA
F000:D552  88 26 0041				mov	dsk_ret_code,ah		; (0040:0041=0)
F000:D556  5B					pop	bx
F000:D557  59					pop	cx
F000:D558  5A					pop	dx
F000:D559  C3					retn
F000:D55A			loc_1127:					;  xref F000:D4C6
F000:D55A  B0 00				mov	al,0
F000:D55C  E8 0029				call	sub_294			; (D588)
F000:D55F  B0 15				mov	al,15h
F000:D561  73 22				jnc	short loc_1128		; Jump if carry=0
F000:D563  E3 EC				jcxz	loc_1125		; Jump if cx=0
F000:D565  B0 40				mov	al,40h			; '@'
F000:D567  C6 87 0090 02			mov	dsk0_media_st[bx],2	; (0040:0090=7)
F000:D56C  E8 0019				call	sub_294			; (D588)
F000:D56F  B0 74				mov	al,74h			; 't'
F000:D571  73 12				jnc	short loc_1128		; Jump if carry=0
F000:D573  B0 80				mov	al,80h
F000:D575  E8 0010				call	sub_294			; (D588)
F000:D578  B0 97				mov	al,97h
F000:D57A  73 09				jnc	short loc_1128		; Jump if carry=0
F000:D57C  B0 C0				mov	al,0C0h
F000:D57E  E8 0007				call	sub_294			; (D588)
F000:D581  B0 D7				mov	al,0D7h
F000:D583  72 CC				jc	loc_1125		; Jump if carry Set
F000:D585			loc_1128:					;  xref F000:D561, D571, D57A
F000:D585  E9 FF58				jmp	loc_1117		; (D4E0)
				sub_293		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 278

				;                              SUBROUTINE
				;
				;         Called from:   F000:D4F1, D501, D518, D523, D530, D53B, D546
				;                             D55C, D56C, D575, D57E
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_294		proc	near
F000:D588  53					push	bx
F000:D589  9C					pushf				; Push flags
F000:D58A  FA					cli				; Disable interrupts
F000:D58B  C6 06 0040 FF			mov	dsk_motor_tmr,0FFh	; (0040:0040=0)
F000:D590  9D					popf				; Pop flags
F000:D591  C0 E8 06				shr	al,6			; Shift w/zeros fill
F000:D594  8A F0				mov	dh,al
F000:D596  E8 007C				call	sub_296			; (D615)
F000:D599  8A 56 0E				mov	dl,[bp+0Eh]
F000:D59C  E8 F98D				call	sub_275			; (CF2C)
F000:D59F  73 05				jnc	short loc_1129		; Jump if carry=0
F000:D5A1  E8 F988				call	sub_275			; (CF2C)
F000:D5A4  72 3B				jc	short loc_1132		; Jump if carry Set
F000:D5A6			loc_1129:					;  xref F000:D59F
F000:D5A6  B9 0003				mov	cx,3

F000:D5A9			locloop_1130:					;  xref F000:D5D5
F000:D5A9  51					push	cx
F000:D5AA  8A F2				mov	dh,dl
F000:D5AC  B2 4A				mov	dl,4Ah			; 'J'
F000:D5AE  8B F2				mov	si,dx
F000:D5B0  8A D6				mov	dl,dh
F000:D5B2  B5 02				mov	ch,2
F000:D5B4  80 26 003E 7F			and	dsk_recal_stat,7Fh	; (0040:003E=0)
F000:D5B9  E8 FD46				call	sub_283			; (D302)
F000:D5BC  72 22				jc	short loc_1131		; Jump if carry Set
F000:D5BE  BB 0042				mov	bx,42h
F000:D5C1  53					push	bx
F000:D5C2  B9 0007				mov	cx,7
F000:D5C5  E8 FD94				call	sub_285			; (D35C)
F000:D5C8  5B					pop	bx
F000:D5C9  72 15				jc	short loc_1131		; Jump if carry Set
F000:D5CB  53					push	bx
F000:D5CC  E8 FDDA				call	sub_287			; (D3A9)
F000:D5CF  5B					pop	bx
F000:D5D0  59					pop	cx
F000:D5D1  0A E4				or	ah,ah			; Zero ?
F000:D5D3  74 15				jz	short loc_1134		; Jump if zero
F000:D5D5  E2 D2				loop	locloop_1130		; Loop if cx > 0

F000:D5D7  F6 07 08				test	byte ptr [bx],8
F000:D5DA  74 05				jz	short loc_1132		; Jump if zero
F000:D5DC  B4 80				mov	ah,80h
F000:D5DE  EB 01				jmp	short loc_1132		; (D5E1)
F000:D5E0			loc_1131:					;  xref F000:D5BC, D5C9
F000:D5E0  59					pop	cx
F000:D5E1			loc_1132:					;  xref F000:D5A4, D5DA, D5DE
F000:D5E1  33 C9				xor	cx,cx			; Zero register
F000:D5E3  80 FC 80				cmp	ah,80h
F000:D5E6  74 01				je	short loc_1133		; Jump if equal
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 279

F000:D5E8  41					inc	cx
F000:D5E9			loc_1133:					;  xref F000:D5E6
F000:D5E9  F9					stc				; Set carry flag
F000:D5EA			loc_1134:					;  xref F000:D5D3
F000:D5EA  5B					pop	bx
F000:D5EB  C3					retn
				sub_294		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:CB84, CC4E
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_295		proc	near
F000:D5EC  56					push	si
F000:D5ED њBE 0090				mov	si,offset dsk0_media_st	; (0040:0090=7)
F000:D5F0  32 F6				xor	dh,dh			; Zero register
F000:D5F2  03 F2				add	si,dx
F000:D5F4  8A 34				mov	dh,[si]
F000:D5F6  8A 16 008B				mov	dl,dsk_data_rate	; (0040:008B=81h)
F000:D5FA  81 E2 C0C0				and	dx,0C0C0h
F000:D5FE  80 26 008B 3F			and	dsk_data_rate,3Fh	; (0040:008B=81h) '?'
F000:D603  08 36 008B				or	dsk_data_rate,dh	; (0040:008B=81h)
F000:D607  80 E6 C0				and	dh,0C0h
F000:D60A  C0 C6 02				rol	dh,2			; Rotate
F000:D60D  E8 0005				call	sub_296			; (D615)
F000:D610  5E					pop	si
F000:D611  8B 56 0E				mov	dx,[bp+0Eh]
F000:D614  C3					retn
				sub_295		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:CF05, D4DC, D596, D60D
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_296		proc	near
F000:D615  50					push	ax
F000:D616  8A C6				mov	al,dh
F000:D618  BA 03F7				mov	dx,3F7h
F000:D61B  EE					out	dx,al			; port 3F7h, dsk0 config ctrl
F000:D61C  58					pop	ax
F000:D61D  C3					retn
				sub_296		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:7E11, 7EBD, 8781, AD97, D623
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_297		proc	near
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 280

F000:D61E  B4 00				mov	ah,0
F000:D620  CD 16				int	16h			; Keyboard i/o  ah=function 00h
										;  get keybd char in al, ah=scan
F000:D622  C3					retn
				sub_297		endp

							                        ;* No entry point to code
F000:D623  E8 FFF8				call	sub_297			; (D61E)
F000:D626  80 FC 3B				cmp	ah,3Bh			; ';'
F000:D629  C3					retn
							                        ;* No entry point to code
F000:D62A  B4 01				mov	ah,1
F000:D62C  CD 16				int	16h			; Keyboard i/o  ah=function 01h
										;  get status, if zf=0  al=char
F000:D62E  C3					retn
							                        ;* No entry point to code
F000:D62F  B4 8E				mov	ah,8Eh
F000:D631  E4 60				in	al,60h			; port 60h, keybd scan or sw1
F000:D633  3C 01				cmp	al,1
F000:D635  74 10				je	short loc_1135		; Jump if equal
F000:D637  3C 53				cmp	al,53h			; 'S'
F000:D639  75 12				jne	short loc_1136		; Jump if not equal
F000:D63B  8A C4				mov	al,ah
F000:D63D  E8 15A1				call	sub_348			; (EBE1)
F000:D640  0C 01				or	al,1
F000:D642  86 C4				xchg	al,ah
F000:D644  E8 15A3				call	sub_349			; (EBEA)
F000:D647			loc_1135:					;  xref F000:D635
F000:D647  B8 FEDC				mov	ax,0FEDCh
F000:D64A  A3 0013				mov	main_ram_size,ax	; (0040:0013=280h)
F000:D64D			loc_1136:					;  xref F000:D639
F000:D64D  3D FEDC				cmp	ax,0FEDCh
F000:D650  C3					retn
							                        ;* No entry point to code
F000:D651  51					push	cx
F000:D652  B9 0001				mov	cx,1
F000:D655  E8 164A				call	sub_359			; (ECA2)
F000:D658  59					pop	cx
F000:D659  74 02				jz	short loc_ret_1137	; Jump if zero
F000:D65B  E4 60				in	al,60h			; port 60h, keybd scan or sw1

F000:D65D			loc_ret_1137:					;  xref F000:D659
F000:D65D  C3					retn
							                        ;* No entry point to code
F000:D65E  B0 AE				mov	al,0AEh
F000:D660  E6 64				out	64h,al			; port 64h, kybd cntrlr functn
										;  al = 0AEh, enable keyboard
F000:D662 њBC D668				mov	sp,offset data_253	; (F000:D668=6Ah)
F000:D665  E9 1691				jmp	loc_1257		; (ECF9)
F000:D668  D66A			data_253	dw	offset loc_1138		;  xref F000:D662
F000:D66A			loc_1138:					;  xref F000:D668
F000:D66A  B9 1000				mov	cx,1000h

F000:D66D			locloop_1139:					;  xref F000:D671
F000:D66D  E4 60				in	al,60h			; port 60h, keybd scan or sw1
F000:D66F  3C 52				cmp	al,52h			; 'R'
F000:D671  E0 FA				loopnz	locloop_1139		; Loop if zf=0, cx>0
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 281


F000:D673  75 1B				jnz	short loc_1142		; Jump if not zero
F000:D675  B8 8E8E				mov	ax,8E8Eh
F000:D678 њBC D67E				mov	sp,offset data_254	; (F000:D67E=80h)
F000:D67B  E9 1563				jmp	loc_1241		; (EBE1)
F000:D67E  D680			data_254	dw	offset loc_1140		;  xref F000:D678
F000:D680			loc_1140:					;  xref F000:D67E
F000:D680  0C 01				or	al,1
F000:D682  86 C4				xchg	al,ah
F000:D684 њBC D68A				mov	sp,offset data_255	; (F000:D68A=8Ch)
F000:D687  E9 1560				jmp	loc_1242		; (EBEA)
F000:D68A  D68C			data_255	dw	offset loc_1141		;  xref F000:D684
F000:D68C			loc_1141:					;  xref F000:D68A
F000:D68C  81 CD 0080				or	bp,80h
F000:D690			loc_1142:					;  xref F000:D673
F000:D690  B0 AD				mov	al,0ADh
F000:D692  E6 64				out	64h,al			; port 64h, kybd cntrlr functn
										;  al = 0ADh, disable keyboard
F000:D694 њBC D69A				mov	sp,offset data_256	; (F000:D69A=9Ch)
F000:D697  E9 165F				jmp	loc_1257		; (ECF9)
F000:D69A  D69C			data_256	dw	offset loc_1143		;  xref F000:D694
F000:D69C			loc_1143:					;  xref F000:D69A
F000:D69C  E4 60				in	al,60h			; port 60h, keybd scan or sw1
F000:D69E  FF E6				jmp	si			;*Register jump
F000:D6A0			loc_1144:					;  xref F000:83FE
F000:D6A0  E4 64				in	al,64h			; port 64h, keyboard status
F000:D6A2  A8 04				test	al,4
F000:D6A4  E9 AD5A				jmp	loc_236			; (8401)
F000:D6A7  00					db	0
F000:D6A8			loc_1145:					;  xref F000:83F1, 841A, 8425
F000:D6A8  E6 80				out	80h,al			; port 80h, POST checkpoint
F000:D6AA  FF E6				jmp	si			;*Register jump

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:FA3F
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_298		proc	near
F000:D6AC  E6 80				out	80h,al			; port 80h, POST checkpoint
F000:D6AE  C3					retn
				sub_298		endp

F000:D6AF  EB FB				db	0EBh,0FBh

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:EC4B, F385
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_299		proc	near
F000:D6B1  B4 0F				mov	ah,0Fh
F000:D6B3  EB 12				jmp	short loc_1146		; (D6C7)

				;пппп External Entry into Subroutine пппппппппппппппппппппппппппппппппппппп
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 282

				;
				;         Called from:   F000:AB98, AD59, EC4E

				sub_300:
F000:D6B5  B4 00				mov	ah,0
F000:D6B7  EB 0E				jmp	short loc_1146		; (D6C7)

				;пппп External Entry into Subroutine пппппппппппппппппппппппппппппппппппппп
				;
				;         Called from:   F000:F38A

				sub_301:
F000:D6B9  B7 00				mov	bh,0

				;пппп External Entry into Subroutine пппппппппппппппппппппппппппппппппппппп
				;
				;         Called from:   F000:7EA0

				sub_302:
F000:D6BB  B4 03				mov	ah,3
F000:D6BD  EB 08				jmp	short loc_1146		; (D6C7)

				;пппп External Entry into Subroutine пппппппппппппппппппппппппппппппппппппп
				;
				;         Called from:   F000:7D57, F390, F3C4

				sub_303:
F000:D6BF  B7 00				mov	bh,0

				;пппп External Entry into Subroutine пппппппппппппппппппппппппппппппппппппп
				;
				;         Called from:   F000:7EB7, 7EDF, 7F21, 7F47, 7F76, 7FA7

				sub_304:
F000:D6C1  B4 02				mov	ah,2
F000:D6C3  EB 02				jmp	short loc_1146		; (D6C7)

				;пппп External Entry into Subroutine пппппппппппппппппппппппппппппппппппппп
				;
				;         Called from:   F000:7DA8, EF98, EF9D, FA50

				sub_305:
F000:D6C5  B4 0E				mov	ah,0Eh
F000:D6C7			loc_1146:					;  xref F000:D6B3, D6B7, D6BD, D6C3
										;            D6CE, D6D4, D6D8, D6E3
										;            D6E7, D6EB, D6EF, D6F3
										;            D725
F000:D6C7 њCD 10				int	10h			; Video display   ah=functn 11h
										;  get font type bh info into
										;   cx=points,dl=rows, es:bp=ptr
F000:D6C9  C3					retn
				sub_299		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
           MBIOS.LST       BIOS ROM Analysis			Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 283

				;         Called from:   F000:F393
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_306		proc	near
F000:D6CA  B7 00				mov	bh,0

				;пппп External Entry into Subroutine пппппппппппппппппппппппппппппппппппппп
				;
				;         Called from:   F000:7F79

				sub_307:
F000:D6CC  B4 08				mov	ah,8
F000:D6CE  EB F7				jmp	short loc_1146		; (D6C7)
				sub_306		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:7E58
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_308		proc	near
F000:D6D0  B7 00				mov	bh,0

				;пппп External Entry into Subroutine пппппппппппппппппппппппппппппппппппппп
				;
				;         Called from:   F000:7EC4, 7F2B, 7F53, 7FBA

				sub_309:
F000:D6D2  B4 09				mov	ah,9
F000:D6D4  EB F1				jmp	short loc_1146		; (D6C7)
				sub_308		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:7EA8, 7EDC
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_310		proc	near
F000:D6D6			loc_1147:					;  xref F000:D6DD
F000:D6D6 њB4 01				mov	ah,1
F000:D6D8  EB ED				jmp	short loc_1146		; (D6C7)
				sub_310		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:7D4A
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_311		proc	near
F000:D6DA  B9 FFFF				mov	cx,0FFFFh
F000:D6DD  EB F7				jmp	short loc_1147		; (D6D6)
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 284

				sub_311		endp

							                        ;* No entry point to code
F000:D6DF  B7 00				mov	bh,0
F000:D6E1  B4 0A				mov	ah,0Ah
F000:D6E3  EB E2				jmp	short loc_1146		; (D6C7)
							                        ;* No entry point to code
F000:D6E5  B4 1A				mov	ah,1Ah
F000:D6E7  EB DE				jmp	short loc_1146		; (D6C7)
							                        ;* No entry point to code
F000:D6E9  B4 12				mov	ah,12h
F000:D6EB  EB DA				jmp	short loc_1146		; (D6C7)
							                        ;* No entry point to code
F000:D6ED  B4 10				mov	ah,10h
F000:D6EF  EB D6				jmp	short loc_1146		; (D6C7)
							                        ;* No entry point to code
F000:D6F1  B4 1B				mov	ah,1Bh
F000:D6F3  EB D2				jmp	short loc_1146		; (D6C7)
							                        ;* No entry point to code
F000:D6F5  26: 8B 05				mov	ax,es:[di]
F000:D6F8  C3					retn
							                        ;* No entry point to code
F000:D6F9  0A E4				or	ah,ah			; Zero ?
F000:D6FB  75 03				jnz	short loc_1148		; Jump if not zero
F000:D6FD  AA					stosb				; Store al to es:[di]
F000:D6FE  47					inc	di
F000:D6FF  C3					retn
F000:D700			loc_1148:					;  xref F000:D6FB
F000:D700  AB					stosw				; Store ax to es:[di]
F000:D701  C3					retn
F000:D702  0A E4 75 05				db	 0Ah,0E4h, 75h, 05h

F000:D706			locloop_1149:					;  xref F000:D708
F000:D706  A4					movsb				; Mov [si] to es:[di]
F000:D707  47					inc	di
F000:D708  E2 FC				loop	locloop_1149		; Loop if cx > 0

F000:D70A  C3					retn

F000:D70B			locloop_1150:					;  xref F000:D70D
F000:D70B  AC					lodsb				; String [si] to al
F000:D70C  AB					stosw				; Store ax to es:[di]
F000:D70D  E2 FC				loop	locloop_1150		; Loop if cx > 0

F000:D70F  C3					retn
F000:D710  0A E4 75 05				db	 0Ah,0E4h, 75h, 05h

F000:D714			locloop_1151:					;  xref F000:D716
F000:D714  AA					stosb				; Store al to es:[di]
F000:D715  47					inc	di
F000:D716  E2 FC				loop	locloop_1151		; Loop if cx > 0

F000:D718  C3					retn
							                        ;* No entry point to code
F000:D719  F3/ AB				rep	stosw			; Rep when cx >0 Store ax to es:[di]
F000:D71B  C3					retn
							                        ;* No entry point to code
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 285

F000:D71C  F3/ A5				rep	movsw			; Rep when cx >0 Mov [si] to es:[di]
F000:D71E  C3					retn
							                        ;* No entry point to code
F000:D71F  F3/ A5				rep	movsw			; Rep when cx >0 Mov [si] to es:[di]
F000:D721  C3					retn
							                        ;* No entry point to code
F000:D722  B8 1130				mov	ax,1130h
F000:D725  EB A0				jmp	short loc_1146		; (D6C7)
							                        ;* No entry point to code
F000:D727  B8 1100				mov	ax,1100h
F000:D72A  1E					push	ds
F000:D72B  6A 40				push	40h
F000:D72D  1F					pop	ds
F000:D72E  E8 004D				call	sub_313			; (D77E)
F000:D731  E8 0005				call	sub_312			; (D739)
F000:D734  E8 007B				call	sub_314			; (D7B2)
F000:D737  1F					pop	ds
F000:D738  C3					retn

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:D731
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_312		proc	near
F000:D739  1E					push	ds
F000:D73A  B8 4000				mov	ax,4000h
F000:D73D  53					push	bx
F000:D73E  52					push	dx
F000:D73F  32 FF				xor	bh,bh			; Zero register
F000:D741  83 E3 07				and	bx,7
F000:D744  F6 C3 04				test	bl,4
F000:D747  75 04				jnz	short loc_1152		; Jump if not zero
F000:D749  F7 E3				mul	bx			; dx:ax = reg * ax
F000:D74B  EB 08				jmp	short loc_1153		; (D755)
F000:D74D			loc_1152:					;  xref F000:D747
F000:D74D  80 E3 03				and	bl,3
F000:D750  F7 E3				mul	bx			; dx:ax = reg * ax
F000:D752  80 C4 20				add	ah,20h			; ' '
F000:D755			loc_1153:					;  xref F000:D74B
F000:D755  8B F8				mov	di,ax
F000:D757  58					pop	ax
F000:D758  B3 20				mov	bl,20h			; ' '
F000:D75A  F7 E3				mul	bx			; dx:ax = reg * ax
F000:D75C  03 F8				add	di,ax
F000:D75E  5B					pop	bx
F000:D75F  8A DF				mov	bl,bh
F000:D761  32 FF				xor	bh,bh			; Zero register
F000:D763  E3 17				jcxz	short loc_1155		; Jump if cx=0
F000:D765  8B F5				mov	si,bp
F000:D767  06					push	es
F000:D768  1F					pop	ds
F000:D769  BA A000				mov	dx,0A000h
F000:D76C  8E C2				mov	es,dx
F000:D76E  8B D1				mov	dx,cx
F000:D770			loc_1154:					;  xref F000:D77A
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 286

F000:D770  57					push	di
F000:D771  8B CB				mov	cx,bx
F000:D773  F3/ A4				rep	movsb			; Rep when cx >0 Mov [si] to es:[di]
F000:D775  5F					pop	di
F000:D776  83 C7 20				add	di,20h
F000:D779  4A					dec	dx
F000:D77A  75 F4				jnz	loc_1154		; Jump if not zero
F000:D77C			loc_1155:					;  xref F000:D763
F000:D77C  1F					pop	ds
F000:D77D  C3					retn
				sub_312		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:D72E
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_313		proc	near
F000:D77E  52					push	dx
F000:D77F  50					push	ax
F000:D780  BA 0006				mov	dx,6
F000:D783  03 16 0063				add	dx,@video_port		; (0040:0063=3D4h)
F000:D787  EC					in	al,dx			; port 3DAh, CGA/EGA vid status
F000:D788  B2 C4				mov	dl,0C4h
F000:D78A  B0 02				mov	al,2
F000:D78C  B4 04				mov	ah,4
F000:D78E  E8 0061				call	sub_315			; (D7F2)
F000:D791  B0 04				mov	al,4
F000:D793  B4 07				mov	ah,7
F000:D795  E8 005A				call	sub_315			; (D7F2)
F000:D798  B2 CE				mov	dl,0CEh
F000:D79A  B0 04				mov	al,4
F000:D79C  B4 02				mov	ah,2
F000:D79E  E8 0051				call	sub_315			; (D7F2)
F000:D7A1  B0 05				mov	al,5
F000:D7A3  B4 00				mov	ah,0
F000:D7A5  E8 004A				call	sub_315			; (D7F2)
F000:D7A8  B0 06				mov	al,6
F000:D7AA  B4 04				mov	ah,4
F000:D7AC  E8 0043				call	sub_315			; (D7F2)
F000:D7AF  58					pop	ax
F000:D7B0  5A					pop	dx
F000:D7B1  C3					retn
				sub_313		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:D734
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_314		proc	near
F000:D7B2  52					push	dx
F000:D7B3  50					push	ax
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 287

F000:D7B4  BA 03C4				mov	dx,3C4h
F000:D7B7  B0 02				mov	al,2
F000:D7B9  B4 03				mov	ah,3
F000:D7BB  E8 0034				call	sub_315			; (D7F2)
F000:D7BE  B0 04				mov	al,4
F000:D7C0  B4 03				mov	ah,3
F000:D7C2  E8 002D				call	sub_315			; (D7F2)
F000:D7C5  B2 CE				mov	dl,0CEh
F000:D7C7  B0 04				mov	al,4
F000:D7C9  B4 00				mov	ah,0
F000:D7CB  E8 0024				call	sub_315			; (D7F2)
F000:D7CE  B0 05				mov	al,5
F000:D7D0  B4 10				mov	ah,10h
F000:D7D2  E8 001D				call	sub_315			; (D7F2)
F000:D7D5  B0 06				mov	al,6
F000:D7D7  B4 0E				mov	ah,0Eh
F000:D7D9  81 3E 0063 03D4			cmp	@video_port,3D4h	; (0040:0063=3D4h)
F000:D7DF  74 03				je	short loc_1156		; Jump if equal
F000:D7E1  80 E4 FB				and	ah,0FBh
F000:D7E4			loc_1156:					;  xref F000:D7DF
F000:D7E4  E8 000B				call	sub_315			; (D7F2)
F000:D7E7  BA 0006				mov	dx,6
F000:D7EA  03 16 0063				add	dx,@video_port		; (0040:0063=3D4h)
F000:D7EE  EC					in	al,dx			; port 3DAh, CGA/EGA vid status
F000:D7EF  58					pop	ax
F000:D7F0  5A					pop	dx
F000:D7F1  C3					retn
				sub_314		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:D78E, D795, D79E, D7A5, D7AC, D7BB, D7C2
				;                             D7CB, D7D2, D7E4
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_315		proc	near
F000:D7F2  EE					out	dx,al			; port 3C4h, EGA sequencr index
										;  al = 2, map mask register
F000:D7F3  EB 00				jmp	short $+2		; delay for I/O
F000:D7F5  EB 00				jmp	short $+2		; delay for I/O
F000:D7F7  8A C4				mov	al,ah
F000:D7F9  42					inc	dx
F000:D7FA  EE					out	dx,al			; port 3C5h, EGA sequencr func
F000:D7FB  4A					dec	dx
F000:D7FC  C3					retn
				sub_315		endp

F000:D7FD  00 44 49				db	 00h, 44h, 49h
F000:D800  53 4B 45 54 54 45			db	'SKETTE BOOT FAILURE', 0
F000:D806  20 42 4F 4F 54 20
F000:D80C  46 41 49 4C 55 52
F000:D812  45 00
F000:D814  49 4E 56 41 4C 49			db	'INVALID BOOT DISKETTE', 0
F000:D81A  44 20 42 4F 4F 54
F000:D820  20 44 49 53 4B 45
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 288

F000:D826  54 54 45 00
F000:D82A  44 52 49 56 45 20			db	'DRIVE NOT READY', 0
F000:D830  4E 4F 54 20 52 45
F000:D836  41 44 59 00
F000:D83A  49 6E 73 65 72 74			db	'Insert BOOT diskette in A:', 0Dh
F000:D840  20 42 4F 4F 54 20
F000:D846  64 69 73 6B 65 74
F000:D84C  74 65 20 69 6E 20
F000:D852  41 3A 0D
F000:D855  0A 50 72 65 73 73			db	0Ah, 'Press any key when ready', 0
F000:D85B  20 61 6E 79 20 6B
F000:D861  65 79 20 77 68 65
F000:D867  6E 20 72 65 61 64
F000:D86D  79 00
F000:D86F  0D 0A 53 59 53 54			db	0Dh, 0Ah, 'SYSTEM HALTED', 0
F000:D875  45 4D 20 48 41 4C
F000:D87B  54 45 44 00
F000:D87F  4E 4F 20 52 4F 4D			db	'NO ROM BASIC', 0
F000:D885  20 42 41 53 49 43
F000:D88B  00
F000:D88C  45 6E 74 65 72 20			db	'Enter ROM Password: ', 0
F000:D892  52 4F 4D 20 50 61
F000:D898  73 73 77 6F 72 64
F000:D89E  3A 20 00
F000:D8A1  45 6E 74 65 72 20			db	'Enter CURRENT Password: ', 0
F000:D8A7  43 55 52 52 45 4E
F000:D8AD  54 20 50 61 73 73
F000:D8B3  77 6F 72 64 3A 20
F000:D8B9  00
F000:D8BA  53 79 73 74 65 6D			db	'System needs rebooting, save in '
F000:D8C0  20 6E 65 65 64 73
F000:D8C6  20 72 65 62 6F 6F
F000:D8CC  74 69 6E 67 2C 20
F000:D8D2  73 61 76 65 20 69
F000:D8D8  6E 20
F000:D8DA  43 4D 4F 53 20 61			db	'CMOS and reboot (Y/N)? ', 0
F000:D8E0  6E 64 20 72 65 62
F000:D8E6  6F 6F 74 20 28 59
F000:D8EC  2F 4E 29 3F 20 00
F000:D8F2  49 6E 76 61 6C 69			db	'Invalid compressed BIOS', 0Dh, 0Ah
F000:D8F8  64 20 63 6F 6D 70
F000:D8FE  72 65 73 73 65 64
F000:D904  20 42 49 4F 53 0D
F000:D90A  0A
F000:D90B  50 72 65 73 73 20			db	'Press any key to continue', 0
F000:D911  61 6E 79 20 6B 65
F000:D917  79 20 74 6F 20 63
F000:D91D  6F 6E 74 69 6E 75
F000:D923  65 00
F000:D925  20 20 20 20 20 20			db	'       BootSector Write !!!     '
F000:D92B  20 42 6F 6F 74 53
F000:D931  65 63 74 6F 72 20
F000:D937  57 72 69 74 65 20
F000:D93D  21 21 21 20 20 20
F000:D943  20 20
F000:D945  20 20 20 00				db	'   ', 0
F000:D949  20 50 6F 73 73 69			db	' Possible VIRUS: Continue (Y/N)?'
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 289

F000:D94F  62 6C 65 20 56 49
F000:D955  52 55 53 3A 20 43
F000:D95B  6F 6E 74 69 6E 75
F000:D961  65 20 28 59 2F 4E
F000:D967  29 3F
F000:D969  20 20 20 00				db	'   ', 0
F000:D96D  50 41 52 49 54 59			db	'PARITY ERROR '
F000:D973  20 45 52 52 4F 52
F000:D979  20
F000:D97A  0686[00]				db	1670 dup (0)

F000:E000			int_18h_entry:					;  xref F000:FF13
F000:E000  EA F000E005				jmp	far ptr int_18h_basic	; (E005)

F000:E005			int_18h_basic	proc	near			;  xref F000:E000
F000:E005  E9 A70E				jmp	loc_275			; (8716)
							                        ;* No entry point to code
F000:E008  E8 ABC1				call	sub_51			; (8BCC)
F000:E00B  CB					retf				; Return far
				int_18h_basic	endp

F000:E00C  00 00				db	0, 0
F000:E00E  49 42 4D 20 43 4F			db	'IBM COMPATIBLE IBM IS A TRADEMAR'
F000:E014  4D 50 41 54 49 42
F000:E01A  4C 45 20 49 42 4D
F000:E020  20 49 53 20 41 20
F000:E026  54 52 41 44 45 4D
F000:E02C  41 52
F000:E02E  4B 20 4F 46 20 49			db	'K OF INTERNATIONAL BUSINESS MACH'
F000:E034  4E 54 45 52 4E 41
F000:E03A  54 49 4F 4E 41 4C
F000:E040  20 42 55 53 49 4E
F000:E046  45 53 53 20 4D 41
F000:E04C  43 48
F000:E04E  49 4E 45 53 20 43			db	'INES CORP.'
F000:E054  4F 52 50 2E
F000:E058  00 00 00				db	0, 0, 0
F000:E05B			loc_1157:					;  xref F000:89A8, F098, FFF0
F000:E05B њE9 A312				jmp	system_reset		; (8370)

F000:E05E			int_8_timer	proc	near			;  xref F000:FEA5
F000:E05E њFB					sti				; Enable interrupts
F000:E05F  1E					push	ds
F000:E060  6A 40				push	40h
F000:E062  1F					pop	ds
F000:E063  56					push	si
F000:E064  57					push	di
F000:E065 њBE 006C				mov	si,offset timer_low	; (0040:006C=7)
F000:E068 њBF 006E				mov	di,offset timer_hi	; (0040:006E=12h)
F000:E06B  FF 04				inc	word ptr [si]
F000:E06D  75 02				jnz	short loc_1158		; Jump if not zero
F000:E06F  FF 05				inc	word ptr [di]
F000:E071			loc_1158:					;  xref F000:E06D
F000:E071  83 3D 18				cmp	word ptr [di],18h
F000:E074  75 11				jne	short loc_1159		; Jump if not equal
F000:E076  81 3C 00B0				cmp	word ptr [si],0B0h
F000:E07A  75 0B				jne	short loc_1159		; Jump if not equal
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 290

F000:E07C  C7 04 0000				mov	word ptr [si],0
F000:E080  C7 05 0000				mov	word ptr [di],0
F000:E084  FE 45 02				inc	byte ptr [di+2]
F000:E087			loc_1159:					;  xref F000:E074, E07A
F000:E087  5F					pop	di
F000:E088  5E					pop	si
F000:E089  E9 D309				jmp	loc_777			; (B395)
F000:E08C			loc_1160:					;  xref F000:B397
F000:E08C  74 03				jz	short loc_1161		; Jump if zero
F000:E08E  E9 0CA8				jmp	loc_1268		; (ED39)
F000:E091			loc_1161:					;  xref F000:E08C, EDC3
F000:E091 њ50					push	ax
F000:E092  52					push	dx
F000:E093  80 3E 0040 00			cmp	dsk_motor_tmr,0		; (0040:0040=0)
F000:E098  74 11				je	short loc_1162		; Jump if equal
F000:E09A  FE 0E 0040				dec	dsk_motor_tmr		; (0040:0040=0)
F000:E09E  75 0B				jnz	short loc_1162		; Jump if not zero
F000:E0A0  BA 03F2				mov	dx,3F2h
F000:E0A3  B0 0C				mov	al,0Ch
F000:E0A5  80 26 003F F0			and	dsk_motor_stat,0F0h	; (0040:003F=0)
F000:E0AA  EE					out	dx,al			; port 3F2h, dsk0 contrl output
F000:E0AB			loc_1162:					;  xref F000:E098, E09E
F000:E0AB  CD 1C				int	1Ch			; Timer break (call each 18.2ms)
F000:E0AD  FA					cli				; Disable interrupts
F000:E0AE  B0 20				mov	al,20h			; ' '
F000:E0B0  E6 20				out	20h,al			; port 20h, 8259-1 int command
										;  al = 20h, end of interrupt
F000:E0B2  5A					pop	dx
F000:E0B3  58					pop	ax
F000:E0B4  1F					pop	ds
F000:E0B5  CF					iret				; Interrupt return
				int_8_timer	endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:EC44
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_316		proc	near
F000:E0B6  B0 20				mov	al,20h			; ' '
F000:E0B8  E6 A0				out	0A0h,al			; port 0A0h, 8259-2 int command
										;  al = 20h, end of interrupt
F000:E0BA  E3 00				jcxz	short $+2		; delay for I/O
F000:E0BC  E3 00				jcxz	short $+2		; delay for I/O
F000:E0BE  E6 20				out	20h,al			; port 20h, 8259-1 int command
										;  al = 20h, end of interrupt
F000:E0C0  C3					retn
				sub_316		endp

F000:E0C1  000A[00]				db	10 dup (0)
F000:E0CB  28 43 29 31 39 38			db	'(C)1985-1994,American Megatrends'
F000:E0D1  35 2D 31 39 39 34
F000:E0D7  2C 41 6D 65 72 69
F000:E0DD  63 61 6E 20 4D 65
F000:E0E3  67 61 74 72 65 6E
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 291

F000:E0E9  64 73
F000:E0EB  20 49 6E 63 2E 2C			db	' Inc.,All Rights Reserved,6145F '
F000:E0F1  41 6C 6C 20 52 69
F000:E0F7  67 68 74 73 20 52
F000:E0FD  65 73 65 72 76 65
F000:E103  64 2C 36 31 34 35
F000:E109  46 20
F000:E10B  4E 6F 72 74 68 62			db	'Northbelt Parkway,GA-30071,USA.('
F000:E111  65 6C 74 20 50 61
F000:E117  72 6B 77 61 79 2C
F000:E11D  47 41 2D 33 30 30
F000:E123  37 31 2C 55 53 41
F000:E129  2E 28
F000:E12B  34 30 34 29 2D 32			db	'404)-263-8181.'
F000:E131  36 33 2D 38 31 38
F000:E137  31 2E
F000:E139  00 00 00 00 B0 B0			db	 00h, 00h, 00h, 00h,0B0h,0B0h
F000:E13F  E8 6A F5 E8 3D E6			db	0E8h, 6Ah,0F5h,0E8h, 3Dh,0E6h
F000:E145  B0 B1 E8 62 F5 E8			db	0B0h,0B1h,0E8h, 62h,0F5h,0E8h
F000:E14B  50 D2 B0 00 E8 5A			db	 50h,0D2h,0B0h, 00h,0E8h, 5Ah
F000:E151  F5 C7 06 72 00 00			db	0F5h,0C7h, 06h, 72h, 00h, 00h
F000:E157  00 E9 DD 18 00 00			db	 00h,0E9h,0DDh, 18h, 00h, 00h
F000:E15D  00 00 00				db	 00h, 00h, 00h
F000:E160  F06A			idt_dest_off_	dw	offset ROM_exception
F000:E162  0020			idt_dest_seg_	dw	20h
F000:E164  00			idt_count_	db	0
F000:E165  87			idt_rights_	db	87h
F000:E166  0000			idt_unused_	dw	0
F000:E168  F06A			idt_dest_off_1	dw	offset ROM_exception
F000:E16A  0020			idt_dest_seg_1	dw	20h
F000:E16C  00			idt_count_1	db	0
F000:E16D  87			idt_rights_1	db	87h
F000:E16E  0000			idt_unused_1	dw	0
F000:E170  F06A			idt_dest_off_2	dw	offset ROM_exception
F000:E172  0020			idt_dest_seg_2	dw	20h
F000:E174  00			idt_count_2	db	0
F000:E175  87			idt_rights_2	db	87h
F000:E176  0000			idt_unused_2	dw	0
F000:E178  F06A			idt_dest_off_3	dw	offset ROM_exception
F000:E17A  0020			idt_dest_seg_3	dw	20h
F000:E17C  00			idt_count_3	db	0
F000:E17D  87			idt_rights_3	db	87h
F000:E17E  0000			idt_unused_3	dw	0
F000:E180  F06A			idt_dest_off_4	dw	offset ROM_exception
F000:E182  0020			idt_dest_seg_4	dw	20h
F000:E184  00			idt_count_4	db	0
F000:E185  87			idt_rights_4	db	87h
F000:E186  0000			idt_unused_4	dw	0
F000:E188  F06A			idt_dest_off_5	dw	offset ROM_exception
F000:E18A  0020			idt_dest_seg_5	dw	20h
F000:E18C  00			idt_count_5	db	0
F000:E18D  87			idt_rights_5	db	87h
F000:E18E  0000			idt_unused_5	dw	0
F000:E190  F06A			idt_dest_off_6	dw	offset ROM_exception
F000:E192  0020			idt_dest_seg_6	dw	20h
F000:E194  00			idt_count_6	db	0
F000:E195  87			idt_rights_6	db	87h
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 292

F000:E196  0000			idt_unused_6	dw	0
F000:E198  F06A			idt_dest_off_7	dw	offset ROM_exception
F000:E19A  0020			idt_dest_seg_7	dw	20h
F000:E19C  00			idt_count_7	db	0
F000:E19D  87			idt_rights_7	db	87h
F000:E19E  0000			idt_unused_7	dw	0
F000:E1A0  B382			idt_dest_off_8	dw	offset loc_775
F000:E1A2  0020			idt_dest_seg_8	dw	20h
F000:E1A4  00			idt_count_8	db	0
F000:E1A5  87			idt_rights_8	db	87h
F000:E1A6  0000			idt_unused_8	dw	0
F000:E1A8  F06A			idt_dest_off_9	dw	offset ROM_exception
F000:E1AA  0020			idt_dest_seg_9	dw	20h
F000:E1AC  00			idt_count_9	db	0
F000:E1AD  87			idt_rights_9	db	87h
F000:E1AE  0000			idt_unused_9	dw	0
F000:E1B0  F06A			idt_dest_off_A	dw	offset ROM_exception
F000:E1B2  0020			idt_dest_seg_A	dw	20h
F000:E1B4  00			idt_count_A	db	0
F000:E1B5  87			idt_rights_A	db	87h
F000:E1B6  0000			idt_unused_A	dw	0
F000:E1B8  F06A			idt_dest_off_B	dw	offset ROM_exception
F000:E1BA  0020			idt_dest_seg_B	dw	20h
F000:E1BC  00			idt_count_B	db	0
F000:E1BD  87			idt_rights_B	db	87h
F000:E1BE  0000			idt_unused_B	dw	0
F000:E1C0  F06A			idt_dest_off_C	dw	offset ROM_exception
F000:E1C2  0020			idt_dest_seg_C	dw	20h
F000:E1C4  00			idt_count_C	db	0
F000:E1C5  87			idt_rights_C	db	87h
F000:E1C6  0000			idt_unused_C	dw	0
F000:E1C8  F06A			idt_dest_off_D	dw	offset ROM_exception
F000:E1CA  0020			idt_dest_seg_D	dw	20h
F000:E1CC  00			idt_count_D	db	0
F000:E1CD  87			idt_rights_D	db	87h
F000:E1CE  0000			idt_unused_D	dw	0
F000:E1D0  F06A			idt_dest_off_E	dw	offset ROM_exception
F000:E1D2  0020			idt_dest_seg_E	dw	20h
F000:E1D4  00			idt_count_E	db	0
F000:E1D5  87			idt_rights_E	db	87h
F000:E1D6  0000			idt_unused_E	dw	0
F000:E1D8  FF53			idt_dest_off_F	dw	offset int_return
F000:E1DA  0020			idt_dest_seg_F	dw	20h
F000:E1DC  00			idt_count_F	db	0
F000:E1DD  87			idt_rights_F	db	87h
F000:E1DE  0000			idt_unused_F	dw	0
F000:E1E0  F06A			idt_dest_off_10	dw	offset ROM_exception
F000:E1E2  0020			idt_dest_seg_10	dw	20h
F000:E1E4  00			idt_count_10	db	0
F000:E1E5  87			idt_rights_10	db	87h
F000:E1E6  0000			idt_unused_10	dw	0
F000:E1E8  F06A			idt_dest_off_11	dw	offset ROM_exception
F000:E1EA  0020			idt_dest_seg_11	dw	20h
F000:E1EC  00			idt_count_11	db	0
F000:E1ED  87			idt_rights_11	db	87h
F000:E1EE  0000			idt_unused_11	dw	0
F000:E1F0  F06A			idt_dest_off_12	dw	offset ROM_exception
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 293

F000:E1F2  0020			idt_dest_seg_12	dw	20h
F000:E1F4  00			idt_count_12	db	0
F000:E1F5  87			idt_rights_12	db	87h
F000:E1F6  0000			idt_unused_12	dw	0
F000:E1F8  F06A			idt_dest_off_13	dw	offset ROM_exception
F000:E1FA  0020			idt_dest_seg_13	dw	20h
F000:E1FC  00			idt_count_13	db	0
F000:E1FD  87			idt_rights_13	db	87h
F000:E1FE  0000			idt_unused_13	dw	0
F000:E200  F06A			idt_dest_off_14	dw	offset ROM_exception
F000:E202  0020			idt_dest_seg_14	dw	20h
F000:E204  00			idt_count_14	db	0
F000:E205  87			idt_rights_14	db	87h
F000:E206  0000			idt_unused_14	dw	0
F000:E208  F06A			idt_dest_off_15	dw	offset ROM_exception
F000:E20A  0020			idt_dest_seg_15	dw	20h
F000:E20C  00			idt_count_15	db	0
F000:E20D  87			idt_rights_15	db	87h
F000:E20E  0000			idt_unused_15	dw	0
F000:E210  F06A			idt_dest_off_16	dw	offset ROM_exception
F000:E212  0020			idt_dest_seg_16	dw	20h
F000:E214  00			idt_count_16	db	0
F000:E215  87			idt_rights_16	db	87h
F000:E216  0000			idt_unused_16	dw	0
F000:E218  F06A			idt_dest_off_17	dw	offset ROM_exception
F000:E21A  0020			idt_dest_seg_17	dw	20h
F000:E21C  00			idt_count_17	db	0
F000:E21D  87			idt_rights_17	db	87h
F000:E21E  0000			idt_unused_17	dw	0
F000:E220  F06A			idt_dest_off_18	dw	offset ROM_exception
F000:E222  0020			idt_dest_seg_18	dw	20h
F000:E224  00			idt_count_18	db	0
F000:E225  87			idt_rights_18	db	87h
F000:E226  0000			idt_unused_18	dw	0
F000:E228  F06A			idt_dest_off_19	dw	offset ROM_exception
F000:E22A  0020			idt_dest_seg_19	dw	20h
F000:E22C  00			idt_count_19	db	0
F000:E22D  87			idt_rights_19	db	87h
F000:E22E  0000			idt_unused_19	dw	0
F000:E230  F06A			idt_dest_off_1A	dw	offset ROM_exception
F000:E232  0020			idt_dest_seg_1A	dw	20h
F000:E234  00			idt_count_1A	db	0
F000:E235  87			idt_rights_1A	db	87h
F000:E236  0000			idt_unused_1A	dw	0
F000:E238  F06A			idt_dest_off_1B	dw	offset ROM_exception
F000:E23A  0020			idt_dest_seg_1B	dw	20h
F000:E23C  00			idt_count_1B	db	0
F000:E23D  87			idt_rights_1B	db	87h
F000:E23E  0000			idt_unused_1B	dw	0
F000:E240  F06A			idt_dest_off_1C	dw	offset ROM_exception
F000:E242  0020			idt_dest_seg_1C	dw	20h
F000:E244  00			idt_count_1C	db	0
F000:E245  87			idt_rights_1C	db	87h
F000:E246  0000			idt_unused_1C	dw	0
F000:E248  F06A			idt_dest_off_1D	dw	offset ROM_exception
F000:E24A  0020			idt_dest_seg_1D	dw	20h
F000:E24C  00			idt_count_1D	db	0
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 294

F000:E24D  87			idt_rights_1D	db	87h
F000:E24E  0000			idt_unused_1D	dw	0
F000:E250  F06A			idt_dest_off_1E	dw	offset ROM_exception
F000:E252  0020			idt_dest_seg_1E	dw	20h
F000:E254  00			idt_count_1E	db	0
F000:E255  87			idt_rights_1E	db	87h
F000:E256  0000			idt_unused_1E	dw	0
F000:E258  F06A			idt_dest_off_1F	dw	offset ROM_exception
F000:E25A  0020			idt_dest_seg_1F	dw	20h
F000:E25C  00			idt_count_1F	db	0
F000:E25D  87			idt_rights_1F	db	87h
F000:E25E  0000			idt_unused_1F	dw	0
F000:E260  0000			gdt_limit_	dw	0
F000:E262  0000			gdt_seg_lo_	dw	0
F000:E264  00			gdt_seg_hi_	db	0
F000:E265  00			gdt_rights_	db	0
F000:E266  0000			gdt_unused_	dw	0
F000:E268  0060			gdt_limit_1	dw	60h			;  xref F000:84E3, F076
F000:E26A  E260			gdt_seg_lo_1	dw	0E260h
F000:E26C  0F			gdt_seg_hi_1	db	0Fh
F000:E26D  93			gdt_rights_1	db	93h
F000:E26E  0000			gdt_unused_1	dw	0
F000:E270  0100			gdt_limit_2	dw	100h			;  xref F000:84AE
F000:E272  E160			gdt_seg_lo_2	dw	0E160h
F000:E274  0F			gdt_seg_hi_2	db	0Fh
F000:E275  00			gdt_rights_2	db	0
F000:E276  0000			gdt_unused_2	dw	0
F000:E278  FC00			gdt_limit_3	dw	0FC00h
F000:E27A  0400			gdt_seg_lo_3	dw	400h
F000:E27C  00			gdt_seg_hi_3	db	0
F000:E27D  93			gdt_rights_3	db	93h
F000:E27E  0000			gdt_unused_3	dw	0
F000:E280  FFFF			gdt_limit_4	dw	0FFFFh
F000:E282  0000			gdt_seg_lo_4	dw	0
F000:E284  0F			gdt_seg_hi_4	db	0Fh
F000:E285  9B			gdt_rights_4	db	9Bh
F000:E286  0000			gdt_unused_4	dw	0
F000:E288  0100			gdt_limit_5	dw	100h
F000:E28A  0300			gdt_seg_lo_5	dw	300h
F000:E28C  00			gdt_seg_hi_5	db	0
F000:E28D  93			gdt_rights_5	db	93h
F000:E28E  0000			gdt_unused_5	dw	0
F000:E290  FFFF			gdt_limit_6	dw	0FFFFh
F000:E292  0000			gdt_seg_lo_6	dw	0
F000:E294  0F			gdt_seg_hi_6	db	0Fh
F000:E295  9B			gdt_rights_6	db	9Bh
F000:E296  0000			gdt_unused_6	dw	0
F000:E298  0000			gdt_limit_7	dw	0
F000:E29A  0000			gdt_seg_lo_7	dw	0
F000:E29C  00			gdt_seg_hi_7	db	0
F000:E29D  00			gdt_rights_7	db	0
F000:E29E  0000			gdt_unused_7	dw	0
F000:E2A0  FFFF			gdt_limit_8	dw	0FFFFh
F000:E2A2  0000			gdt_seg_lo_8	dw	0
F000:E2A4  00			gdt_seg_hi_8	db	0
F000:E2A5  93			gdt_rights_8	db	93h
F000:E2A6  0000			gdt_unused_8	dw	0
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 295

F000:E2A8  0000			gdt_limit_9	dw	0
F000:E2AA  0000			gdt_seg_lo_9	dw	0
F000:E2AC  00			gdt_seg_hi_9	db	0
F000:E2AD  00			gdt_rights_9	db	0
F000:E2AE  0000			gdt_unused_9	dw	0
F000:E2B0  0008[00]				db	8 dup (0)
F000:E2B8  03FF 0000 0000	data_263	dw	3FFh, 0, 0		;  xref F000:8506, F092
F000:E2BE  0000					dw	0
F000:E2C0  00 00 00				db	0, 0, 0

F000:E2C3			int_2_entry:					;  xref F000:FEE7
F000:E2C3  E9 B3BD				jmp	int_2_NMI		; (9683)
F000:E2C6  00 00				db	0, 0

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:AB46, AB4E, AB63
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_317		proc	near
F000:E2C8  8B 1E 001A				mov	bx,keybd_q_head		; (0040:001A=38h)
F000:E2CC  3B 1E 001C				cmp	bx,keybd_q_tail		; (0040:001C=38h)
F000:E2D0  75 05				jne	short loc_1163		; Jump if not equal
F000:E2D2  B8 9002				mov	ax,9002h
F000:E2D5  CD 15				int	15h			; General services, ah=func 90h
										;  device busy, al=type,
										;   es:bx=ptr of request block
F000:E2D7			loc_1163:					;  xref F000:E2D0, E2DB
F000:E2D7  FB					sti				; Enable interrupts
F000:E2D8  E8 005D				call	sub_321			; (E338)
F000:E2DB  74 FA				jz	loc_1163		; Jump if zero
F000:E2DD  E8 0102				call	sub_327			; (E3E2)
F000:E2E0  89 1E 001A				mov	keybd_q_head,bx		; (0040:001A=38h)
F000:E2E4  FB					sti				; Enable interrupts
F000:E2E5  C3					retn
				sub_317		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:AB49, AB6E
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_318		proc	near
F000:E2E6  3D 00F0				cmp	ax,0F0h
F000:E2E9  74 06				je	short loc_1164		; Jump if equal
F000:E2EB  3C F0				cmp	al,0F0h
F000:E2ED  75 02				jne	short loc_1164		; Jump if not equal
F000:E2EF  B0 00				mov	al,0
F000:E2F1			loc_1164:					;  xref F000:E2E9, E2ED
F000:E2F1  0B E4				or	sp,sp			; Zero ?
F000:E2F3  C3					retn
				sub_318		endp


           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 296

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:AB51, AB5E
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_319		proc	near
F000:E2F4  80 FC 84				cmp	ah,84h
F000:E2F7  76 13				jbe	short loc_1165		; Jump if below or =
F000:E2F9  80 FC E0				cmp	ah,0E0h
F000:E2FC  75 25				jne	short loc_1167		; Jump if not equal
F000:E2FE  B4 1C				mov	ah,1Ch
F000:E300  3C 0A				cmp	al,0Ah
F000:E302  74 1C				je	short loc_1166		; Jump if equal
F000:E304  3C 0D				cmp	al,0Dh
F000:E306  74 18				je	short loc_1166		; Jump if equal
F000:E308  B4 35				mov	ah,35h			; '5'
F000:E30A  EB 14				jmp	short loc_1166		; (E320)
F000:E30C			loc_1165:					;  xref F000:E2F7
F000:E30C  3D 00E0				cmp	ax,0E0h
F000:E30F  74 0F				je	short loc_1166		; Jump if equal
F000:E311  3D 00F0				cmp	ax,0F0h
F000:E314  74 0A				je	short loc_1166		; Jump if equal
F000:E316  3C F0				cmp	al,0F0h
F000:E318  74 09				je	short loc_1167		; Jump if equal
F000:E31A  3C E0				cmp	al,0E0h
F000:E31C  75 02				jne	short loc_1166		; Jump if not equal
F000:E31E  B0 00				mov	al,0
F000:E320			loc_1166:					;  xref F000:E302, E306, E30A, E30F
										;            E314, E31C
F000:E320  0B E4				or	sp,sp			; Zero ?
F000:E322  C3					retn
F000:E323			loc_1167:					;  xref F000:E2FC, E318
F000:E323  3B E4				cmp	sp,sp
F000:E325  C3					retn
				sub_319		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:E33D
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_320		proc	near
F000:E326  FA					cli				; Disable interrupts
F000:E327  F6 06 0097 40			test	keybd_flags_4,40h	; (0040:0097=12h) '@'
F000:E32C  75 08				jnz	short loc_1168		; Jump if not zero
F000:E32E  80 0E 0097 40			or	keybd_flags_4,40h	; (0040:0097=12h) '@'
F000:E333  E8 0069				call	sub_325			; (E39F)
F000:E336			loc_1168:					;  xref F000:E32C
F000:E336  FB					sti				; Enable interrupts
F000:E337  C3					retn
				sub_320		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 297

				;                              SUBROUTINE
				;
				;         Called from:   F000:AB58, AB68, E2D8
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_321		proc	near
F000:E338  E8 0052				call	sub_324			; (E38D)
F000:E33B  74 03				jz	short loc_1169		; Jump if zero
F000:E33D  E8 FFE6				call	sub_320			; (E326)
F000:E340			loc_1169:					;  xref F000:E33B
F000:E340  FA					cli				; Disable interrupts
F000:E341  8B 1E 001A				mov	bx,keybd_q_head		; (0040:001A=38h)
F000:E345  3B 1E 001C				cmp	bx,keybd_q_tail		; (0040:001C=38h)
F000:E349  8B 07				mov	ax,[bx]
F000:E34B  C3					retn
				sub_321		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:881D, 8861, F3F6
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_322		proc	near
F000:E34C  FA					cli				; Disable interrupts
F000:E34D  F6 06 0097 40			test	keybd_flags_4,40h	; (0040:0097=12h) '@'
F000:E352  75 0C				jnz	short loc_1170		; Jump if not zero
F000:E354  80 0E 0097 40			or	keybd_flags_4,40h	; (0040:0097=12h) '@'
F000:E359  B0 20				mov	al,20h			; ' '
F000:E35B  E6 20				out	20h,al			; port 20h, 8259-1 int command
										;  al = 20h, end of interrupt
F000:E35D  E8 003F				call	sub_325			; (E39F)
F000:E360			loc_1170:					;  xref F000:E352
F000:E360  FB					sti				; Enable interrupts
F000:E361  C3					retn
				sub_322		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:8829, 8BAC
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_323		proc	near
F000:E362  B0 20				mov	al,20h			; ' '
F000:E364  E6 20				out	20h,al			; port 20h, 8259-1 int command
										;  al = 20h, end of interrupt
F000:E366  BB 00D0				mov	bx,0D0h
F000:E369  B9 0030				mov	cx,30h
F000:E36C  E4 61				in	al,61h			; port 61h, 8255 port B, read
F000:E36E  8A E0				mov	ah,al
F000:E370  24 FE				and	al,0FEh
F000:E372  E3 00				jcxz	short locloop_1171	; Jump if cx=0

F000:E374			locloop_1171:					;  xref F000:E372, E386
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 298

F000:E374  51					push	cx
F000:E375  0C 02				or	al,2
F000:E377  E6 61				out	61h,al			; port 61h, 8255 B - spkr, etc
F000:E379  8B CB				mov	cx,bx

F000:E37B			locloop_1172:					;  xref F000:E37B
F000:E37B  E2 FE				loop	locloop_1172		; Loop if cx > 0

F000:E37D  24 FD				and	al,0FDh
F000:E37F  E6 61				out	61h,al			; port 61h, 8255 B - spkr, etc
F000:E381  8B CB				mov	cx,bx

F000:E383			locloop_1173:					;  xref F000:E383
F000:E383  E2 FE				loop	locloop_1173		; Loop if cx > 0

F000:E385  59					pop	cx
F000:E386  E2 EC				loop	locloop_1171		; Loop if cx > 0

F000:E388  8A C4				mov	al,ah
F000:E38A  E6 61				out	61h,al			; port 61h, 8255 B - spkr, etc
F000:E38C  C3					retn
				sub_323		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:8818, E338, E3A4
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_324		proc	near
F000:E38D  A0 0017				mov	al,keybd_flags_1	; (0040:0017=20h)
F000:E390  C0 E8 04				shr	al,4			; Shift w/zeros fill
F000:E393  24 07				and	al,7
F000:E395  8A E0				mov	ah,al
F000:E397  32 26 0097				xor	ah,keybd_flags_4	; (0040:0097=12h)
F000:E39B  80 E4 07				and	ah,7
F000:E39E  C3					retn
				sub_324		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:E333, E35D
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_325		proc	near
F000:E39F  B0 ED				mov	al,0EDh
F000:E3A1  E8 10CB				call	sub_399			; (F46F)
F000:E3A4  E8 FFE6				call	sub_324			; (E38D)
F000:E3A7  80 26 0097 F8			and	keybd_flags_4,0F8h	; (0040:0097=12h)
F000:E3AC  08 06 0097				or	keybd_flags_4,al	; (0040:0097=12h)
F000:E3B0  F6 06 0097 80			test	keybd_flags_4,80h	; (0040:0097=12h)
F000:E3B5  75 0A				jnz	short loc_1174		; Jump if not zero
F000:E3B7  E8 10B5				call	sub_399			; (F46F)
F000:E3BA  F6 06 0097 80			test	keybd_flags_4,80h	; (0040:0097=12h)
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 299

F000:E3BF  74 05				jz	short loc_1175		; Jump if zero
F000:E3C1			loc_1174:					;  xref F000:E3B5
F000:E3C1  B0 F4				mov	al,0F4h
F000:E3C3  E8 10A9				call	sub_399			; (F46F)
F000:E3C6			loc_1175:					;  xref F000:E3BF
F000:E3C6  80 26 0097 3F			and	keybd_flags_4,3Fh	; (0040:0097=12h) '?'
F000:E3CB  C3					retn
				sub_325		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:F459, F462, F469, F475
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_326		proc	near
F000:E3CC  FA					cli				; Disable interrupts
F000:E3CD  33 C9				xor	cx,cx			; Zero register

F000:E3CF			locloop_1176:					;  xref F000:E3D5
F000:E3CF  E3 00				jcxz	short $+2		; delay for I/O
F000:E3D1  E4 64				in	al,64h			; port 64h, keyboard status
F000:E3D3  A8 02				test	al,2
F000:E3D5  E0 F8				loopnz	locloop_1176		; Loop if zf=0, cx>0

F000:E3D7  74 08				jz	short loc_ret_1178	; Jump if zero

F000:E3D9			locloop_1177:					;  xref F000:E3DF
F000:E3D9  E3 00				jcxz	short $+2		; delay for I/O
F000:E3DB  E4 64				in	al,64h			; port 64h, keyboard status
F000:E3DD  A8 02				test	al,2
F000:E3DF  E0 F8				loopnz	locloop_1177		; Loop if zf=0, cx>0


F000:E3E1			loc_ret_1178:					;  xref F000:E3D7
F000:E3E1  C3					retn
				sub_326		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:8BA3, AAE7, E2DD
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_327		proc	near
F000:E3E2  43					inc	bx
F000:E3E3  43					inc	bx
F000:E3E4  3B 1E 0082				cmp	bx,@keybd_end		; (0040:0082=3Eh)
F000:E3E8  75 04				jne	short loc_ret_1179	; Jump if not equal
F000:E3EA  8B 1E 0080				mov	bx,@keybd_begin		; (0040:0080=1Eh)

F000:E3EE			loc_ret_1179:					;  xref F000:E3E8
F000:E3EE  C3					retn
				sub_327		endp

           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 300


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:8989, 8A28, 8A58, 8A7E, 8ABD
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_328		proc	near
F000:E3EF  F6 06 0096 10			test	keybd_flags_3,10h	; (0040:0096=10h)
F000:E3F4  C3					retn
				sub_328		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:8898, 88D6, 892B, 8945, 89BB, 8A01, 8A5D
				;                             8A83, 8A9F, 8AA8, 8AC2, 8AE3, 8B06, 8B22
				;                             8B4F, 8B58
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_329		proc	near
F000:E3F5  F6 06 0096 02			test	keybd_flags_3,2		; (0040:0096=10h)
F000:E3FA  C3					retn
				sub_329		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:888C, 8913
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_330		proc	near
F000:E3FB  F6 06 0096 01			test	keybd_flags_3,1		; (0040:0096=10h)
F000:E400  C3					retn
				sub_330		endp

F000:E401  0132			hdsk_cylinders	dw	132h
F000:E403  04			hdsk_heads	db	4
F000:E404  0000			hdsk_lo_wrt_cyl	dw	0
F000:E406  0080			hdsk_precompcyl	dw	80h
F000:E408  00			hdsk_err_length	db	0
F000:E409  00			hdsk_misl_bits	db	0
F000:E40A  00			hdsk_timeout	db	0
F000:E40B  00			hdsk_fmt_timout	db	0
F000:E40C  00			hdsk_chk_timout	db	0
F000:E40D  0131			hdsk_parkng_cyl	dw	131h
F000:E40F  11			hdsk_sectr_trac	db	11h
F000:E410  00			hdsk_unused	db	0
F000:E411  67 02 04 00 00 2C	hdsk_type_	db	 67h, 02h, 04h, 00h, 00h, 2Ch
F000:E417  01 00 00 00 00 00			db	 01h, 00h, 00h, 00h, 00h, 00h
F000:E41D  67 02 11 00				db	 67h, 02h, 11h, 00h
F000:E421  67 02 06 00 00 2C	hdsk_type_3	db	 67h, 02h, 06h, 00h, 00h, 2Ch
F000:E427  01 00 00 00 00 00			db	 01h, 00h, 00h, 00h, 00h, 00h
F000:E42D  67 02 11 00				db	 67h, 02h, 11h, 00h
F000:E431  AC 03 08 00 00 00	hdsk_type_4	db	0ACh, 03h, 08h, 00h, 00h, 00h
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 301

F000:E437  02 00 00 00 00 00			db	 02h, 00h, 00h, 00h, 00h, 00h
F000:E43D  AC 03 11 00				db	0ACh, 03h, 11h, 00h
F000:E441  AC 03 06 00 00 00	hdsk_type_5	db	0ACh, 03h, 06h, 00h, 00h, 00h
F000:E447  02 00 00 00 00 00			db	 02h, 00h, 00h, 00h, 00h, 00h
F000:E44D  AC 03 11 00				db	0ACh, 03h, 11h, 00h
F000:E451  67 02 04 00 00 FF	hdsk_type_6	db	 67h, 02h, 04h, 00h, 00h,0FFh
F000:E457  FF 00 00 00 00 00			db	0FFh, 00h, 00h, 00h, 00h, 00h
F000:E45D  67 02 11 00				db	 67h, 02h, 11h, 00h
F000:E461  CE 01 08 00 00 00	hdsk_type_7	db	0CEh, 01h, 08h, 00h, 00h, 00h
F000:E467  01 00 00 00 00 00			db	 01h, 00h, 00h, 00h, 00h, 00h
F000:E46D  FF 01 11 00				db	0FFh, 01h, 11h, 00h
F000:E471  DD 02 05 00 00 FF	hdsk_type_8	db	0DDh, 02h, 05h, 00h, 00h,0FFh
F000:E477  FF 00 00 00 00 00			db	0FFh, 00h, 00h, 00h, 00h, 00h
F000:E47D  DD 02 11 00				db	0DDh, 02h, 11h, 00h
F000:E481  84 03 0F 00 00 FF	hdsk_type_9	db	 84h, 03h, 0Fh, 00h, 00h,0FFh
F000:E487  FF 00 08 00 00 00			db	0FFh, 00h, 08h, 00h, 00h, 00h
F000:E48D  85 03 11 00				db	 85h, 03h, 11h, 00h
F000:E491  34 03 03 00 00 FF	hdsk_type_A	db	 34h, 03h, 03h, 00h, 00h,0FFh
F000:E497  FF 00 00 00 00 00			db	0FFh, 00h, 00h, 00h, 00h, 00h
F000:E49D  34 03 11 00				db	 34h, 03h, 11h, 00h
F000:E4A1  57 03 05 00 00 FF	hdsk_type_B	db	 57h, 03h, 05h, 00h, 00h,0FFh
F000:E4A7  FF 00 00 00 00 00			db	0FFh, 00h, 00h, 00h, 00h, 00h
F000:E4AD  57 03 11 00				db	 57h, 03h, 11h, 00h
F000:E4B1  57 03 07 00 00 FF	hdsk_type_C	db	 57h, 03h, 07h, 00h, 00h,0FFh
F000:E4B7  FF 00 00 00 00 00			db	0FFh, 00h, 00h, 00h, 00h, 00h
F000:E4BD  57 03 11 00				db	 57h, 03h, 11h, 00h
F000:E4C1  32 01 08 00 00 80	hdsk_type_D	db	 32h, 01h, 08h, 00h, 00h, 80h
F000:E4C7  00 00 00 00 00 00			db	 00h, 00h, 00h, 00h, 00h, 00h
F000:E4CD  3F 01 11 00				db	 3Fh, 01h, 11h, 00h
F000:E4D1  DD 02 07 00 00 FF	hdsk_type_E	db	0DDh, 02h, 07h, 00h, 00h,0FFh
F000:E4D7  FF 00 00 00 00 00			db	0FFh, 00h, 00h, 00h, 00h, 00h
F000:E4DD  DD 02 11 00				db	0DDh, 02h, 11h, 00h
F000:E4E1  00 00 00 00 00 00	hdsk_type_F	db	0, 0, 0, 0, 0, 0
F000:E4E7  00 00 00 00 00 00			db	0, 0, 0, 0, 0, 0
F000:E4ED  00 00 00 00				db	0, 0, 0, 0
F000:E4F1  64 02 04 00 00 00	hdsk_type_10	db	 64h, 02h, 04h, 00h, 00h, 00h
F000:E4F7  00 00 00 00 00 00			db	 00h, 00h, 00h, 00h, 00h, 00h
F000:E4FD  97 02 11 00				db	 97h, 02h, 11h, 00h
F000:E501  D1 03 05 00 00 2C	hdsk_type_11	db	0D1h, 03h, 05h, 00h, 00h, 2Ch
F000:E507  01 00 00 00 00 00			db	 01h, 00h, 00h, 00h, 00h, 00h
F000:E50D  D1 03 11 00				db	0D1h, 03h, 11h, 00h
F000:E511  D1 03 07 00 00 FF	hdsk_type_12	db	0D1h, 03h, 07h, 00h, 00h,0FFh
F000:E517  FF 00 00 00 00 00			db	0FFh, 00h, 00h, 00h, 00h, 00h
F000:E51D  D1 03 11 00				db	0D1h, 03h, 11h, 00h
F000:E521  00 04 07 00 00 00	hdsk_type_13	db	 00h, 04h, 07h, 00h, 00h, 00h
F000:E527  02 00 00 00 00 00			db	 02h, 00h, 00h, 00h, 00h, 00h
F000:E52D  FF 03 11 00				db	0FFh, 03h, 11h, 00h
F000:E531  DD 02 05 00 00 2C	hdsk_type_14	db	0DDh, 02h, 05h, 00h, 00h, 2Ch
F000:E537  01 00 00 00 00 00			db	 01h, 00h, 00h, 00h, 00h, 00h
F000:E53D  DC 02 11 00				db	0DCh, 02h, 11h, 00h
F000:E541  DD 02 07 00 00 2C	hdsk_type_15	db	0DDh, 02h, 07h, 00h, 00h, 2Ch
F000:E547  01 00 00 00 00 00			db	 01h, 00h, 00h, 00h, 00h, 00h
F000:E54D  DC 02 11 00				db	0DCh, 02h, 11h, 00h
F000:E551  DD 02 05 00 00 2C	hdsk_type_16	db	0DDh, 02h, 05h, 00h, 00h, 2Ch
F000:E557  01 00 00 00 00 00			db	 01h, 00h, 00h, 00h, 00h, 00h
F000:E55D  DD 02 11 00				db	0DDh, 02h, 11h, 00h
F000:E561  32 01 04 00 00 00	hdsk_type_17	db	 32h, 01h, 04h, 00h, 00h, 00h
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 302

F000:E567  00 00 00 00 00 00			db	 00h, 00h, 00h, 00h, 00h, 00h
F000:E56D  50 01 11 00				db	 50h, 01h, 11h, 00h
F000:E571  9D 03 07 00 00 00	hdsk_type_18	db	 9Dh, 03h, 07h, 00h, 00h, 00h
F000:E577  00 00 00 00 00 00			db	 00h, 00h, 00h, 00h, 00h, 00h
F000:E57D  9D 03 11 00				db	 9Dh, 03h, 11h, 00h
F000:E581  9D 03 09 00 00 FF	hdsk_type_19	db	 9Dh, 03h, 09h, 00h, 00h,0FFh
F000:E587  FF 00 08 00 00 00			db	0FFh, 00h, 08h, 00h, 00h, 00h
F000:E58D  9D 03 11 00				db	 9Dh, 03h, 11h, 00h
F000:E591  F2 02 07 00 00 F2	hdsk_type_1A	db	0F2h, 02h, 07h, 00h, 00h,0F2h
F000:E597  02 00 00 00 00 00			db	 02h, 00h, 00h, 00h, 00h, 00h
F000:E59D  F2 02 11 00				db	0F2h, 02h, 11h, 00h
F000:E5A1  F2 02 0B 00 00 FF	hdsk_type_1B	db	0F2h, 02h, 0Bh, 00h, 00h,0FFh
F000:E5A7  FF 00 08 00 00 00			db	0FFh, 00h, 08h, 00h, 00h, 00h
F000:E5AD  F2 02 11 00				db	0F2h, 02h, 11h, 00h
F000:E5B1  BB 02 07 00 00 00	hdsk_type_1C	db	0BBh, 02h, 07h, 00h, 00h, 00h
F000:E5B7  01 00 00 00 00 00			db	 01h, 00h, 00h, 00h, 00h, 00h
F000:E5BD  BB 02 11 00				db	0BBh, 02h, 11h, 00h
F000:E5C1  37 03 0A 00 00 FF	hdsk_type_1D	db	 37h, 03h, 0Ah, 00h, 00h,0FFh
F000:E5C7  FF 00 08 00 00 00			db	0FFh, 00h, 08h, 00h, 00h, 00h
F000:E5CD  37 03 11 00				db	 37h, 03h, 11h, 00h
F000:E5D1  96 03 07 00 00 96	hdsk_type_1E	db	 96h, 03h, 07h, 00h, 00h, 96h
F000:E5D7  03 00 00 00 00 00			db	 03h, 00h, 00h, 00h, 00h, 00h
F000:E5DD  96 03 11 00				db	 96h, 03h, 11h, 00h
F000:E5E1  00 04 0B 00 00 FF	hdsk_type_1F	db	 00h, 04h, 0Bh, 00h, 00h,0FFh
F000:E5E7  FF 00 08 00 00 00			db	0FFh, 00h, 08h, 00h, 00h, 00h
F000:E5ED  00 04 11 00				db	 00h, 04h, 11h, 00h
F000:E5F1  00 04 0F 00 00 FF	hdsk_type_20	db	 00h, 04h, 0Fh, 00h, 00h,0FFh
F000:E5F7  FF 00 08 00 00 00			db	0FFh, 00h, 08h, 00h, 00h, 00h
F000:E5FD  00 04 11 00				db	 00h, 04h, 11h, 00h
F000:E601  00 04 05 00 00 00	hdsk_type_21	db	 00h, 04h, 05h, 00h, 00h, 00h
F000:E607  04 00 00 00 00 00			db	 04h, 00h, 00h, 00h, 00h, 00h
F000:E60D  00 04 11 00				db	 00h, 04h, 11h, 00h
F000:E611  64 02 02 00 00 80	hdsk_type_22	db	 64h, 02h, 02h, 00h, 00h, 80h
F000:E617  00 00 00 00 00 00			db	 00h, 00h, 00h, 00h, 00h, 00h
F000:E61D  64 02 11 00				db	 64h, 02h, 11h, 00h
F000:E621  00 04 09 00 00 FF	hdsk_type_23	db	 00h, 04h, 09h, 00h, 00h,0FFh
F000:E627  FF 00 08 00 00 00			db	0FFh, 00h, 08h, 00h, 00h, 00h
F000:E62D  00 04 11 00				db	 00h, 04h, 11h, 00h
F000:E631  00 04 08 00 00 00	hdsk_type_24	db	 00h, 04h, 08h, 00h, 00h, 00h
F000:E637  02 00 00 00 00 00			db	 02h, 00h, 00h, 00h, 00h, 00h
F000:E63D  00 04 11 00				db	 00h, 04h, 11h, 00h
F000:E641  67 02 08 00 00 80	hdsk_type_25	db	 67h, 02h, 08h, 00h, 00h, 80h
F000:E647  00 00 00 00 00 00			db	 00h, 00h, 00h, 00h, 00h, 00h
F000:E64D  67 02 11 00				db	 67h, 02h, 11h, 00h
F000:E651  DB 03 03 00 00 DB	hdsk_type_26	db	0DBh, 03h, 03h, 00h, 00h,0DBh
F000:E657  03 00 00 00 00 00			db	 03h, 00h, 00h, 00h, 00h, 00h
F000:E65D  DB 03 11 00				db	0DBh, 03h, 11h, 00h
F000:E661  DB 03 07 00 00 DB	hdsk_type_27	db	0DBh, 03h, 07h, 00h, 00h,0DBh
F000:E667  03 00 00 00 00 00			db	 03h, 00h, 00h, 00h, 00h, 00h
F000:E66D  DB 03 11 00				db	0DBh, 03h, 11h, 00h
F000:E671  34 03 06 00 00 34	hdsk_type_28	db	 34h, 03h, 06h, 00h, 00h, 34h
F000:E677  03 00 00 00 00 00			db	 03h, 00h, 00h, 00h, 00h, 00h
F000:E67D  34 03 11 00				db	 34h, 03h, 11h, 00h
F000:E681  D1 03 05 00 00 D1	hdsk_type_29	db	0D1h, 03h, 05h, 00h, 00h,0D1h
F000:E687  03 00 00 00 00 00			db	 03h, 00h, 00h, 00h, 00h, 00h
F000:E68D  D1 03 11 00				db	0D1h, 03h, 11h, 00h
F000:E691  D5 03 05 00 00 D5	hdsk_type_2A	db	0D5h, 03h, 05h, 00h, 00h,0D5h
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 303

F000:E697  03 00 00 00 00 00			db	 03h, 00h, 00h, 00h, 00h, 00h
F000:E69D  D5 03 11 00				db	0D5h, 03h, 11h, 00h
F000:E6A1  3E 03 07 00 00 00	hdsk_type_2B	db	 3Eh, 03h, 07h, 00h, 00h, 00h
F000:E6A7  02 00 00 00 00 00			db	 02h, 00h, 00h, 00h, 00h, 00h
F000:E6AD  3E 03 11 00				db	 3Eh, 03h, 11h, 00h
F000:E6B1  3E 03 0A 00 00 FF	hdsk_type_2C	db	 3Eh, 03h, 0Ah, 00h, 00h,0FFh
F000:E6B7  FF 00 08 00 00 00			db	0FFh, 00h, 08h, 00h, 00h, 00h
F000:E6BD  3E 03 11 00				db	 3Eh, 03h, 11h, 00h
F000:E6C1  95 03 0F 00 00 FF	hdsk_type_2D	db	 95h, 03h, 0Fh, 00h, 00h,0FFh
F000:E6C7  FF 00 08 00 00 00			db	0FFh, 00h, 08h, 00h, 00h, 00h
F000:E6CD  96 03 11 00				db	 96h, 03h, 11h, 00h
F000:E6D1  C8 04 0F 00 00 FF	hdsk_type_2E	db	0C8h, 04h, 0Fh, 00h, 00h,0FFh
F000:E6D7  FF 00 08 00 00 00			db	0FFh, 00h, 08h, 00h, 00h, 00h
F000:E6DD  C7 04 11 00				db	0C7h, 04h, 11h, 00h
F000:E6E1  0011[00]				db	17 dup (0)

F000:E6F2			int_19h_entry:					;  xref F000:FF15
F000:E6F2  E9 A03C				jmp	int_19h_bootup		; (8731)
F000:E6F5  0008			Config_tbl_size	dw	8
F000:E6F7  FC			Config_model	db	0FCh
F000:E6F8  01			Config_submodel	db	1
F000:E6F9  00			Config_BIOS_rev	db	0
F000:E6FA  70			Config_features	db	70h
F000:E6FB  00 00 00 00		Config_bytes	db	0, 0, 0, 0
F000:E6FF  0013[00]				db	19 dup (0)
F000:E712  08 00 FC 01 00 74			db	 08h, 00h,0FCh, 01h, 00h, 74h
F000:E718  00					db	 00h
F000:E719  0010[00]				db	16 dup (0)
F000:E729  0417			baud_rate_tbl	dw	417h
F000:E72B  0300			baud_150	dw	300h
F000:E72D  0180			baud_300	dw	180h
F000:E72F  00C0			baud_600	dw	0C0h
F000:E731  0060			baud_1200	dw	60h
F000:E733  0030			baud_2400	dw	30h
F000:E735  0018			baud_4800	dw	18h
F000:E737  000C			baud_9600	dw	0Ch

F000:E739			int_14h_entry:					;  xref F000:FF0B
F000:E739  E9 11D7				jmp	int_14h_RS232		; (F913)

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:A415, D33F, E9CF, E9EE
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_331		proc	near
F000:E73C  50					push	ax
F000:E73D  2E: A0 8285				mov	al,cs:data_130		; (F000:8285=0)
F000:E741  0A C0				or	al,al			; Zero ?
F000:E743  75 1F				jnz	short loc_1185		; Jump if not zero
F000:E745			loc_1180:					;  xref F000:E75F
F000:E745  EC					in	al,dx			; port 0, DMA-1 bas&add ch 0
F000:E746  84 C4				test	al,ah
F000:E748  74 18				jz	short loc_1184		; Jump if zero
F000:E74A			loc_1181:					;  xref F000:E74E
F000:E74A  E4 61				in	al,61h			; port 61h, 8255 port B, read
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 304

F000:E74C  A8 10				test	al,10h
F000:E74E  74 FA				jz	loc_1181		; Jump if zero
F000:E750  49					dec	cx
F000:E751  74 0E				jz	short loc_1183		; Jump if zero
F000:E753  EC					in	al,dx			; port 0, DMA-1 bas&add ch 0
F000:E754  84 C4				test	al,ah
F000:E756  74 0A				jz	short loc_1184		; Jump if zero
F000:E758			loc_1182:					;  xref F000:E75C
F000:E758  E4 61				in	al,61h			; port 61h, 8255 port B, read
F000:E75A  A8 10				test	al,10h
F000:E75C  75 FA				jnz	loc_1182		; Jump if not zero
F000:E75E  49					dec	cx
F000:E75F  75 E4				jnz	loc_1180		; Jump if not zero
F000:E761			loc_1183:					;  xref F000:E751, E774
F000:E761 њF9					stc				; Set carry flag
F000:E762			loc_1184:					;  xref F000:E748, E756, E767
F000:E762  58					pop	ax
F000:E763  C3					retn
F000:E764			loc_1185:					;  xref F000:E743, E772
F000:E764  EC					in	al,dx			; port 0, DMA-1 bas&add ch 0
F000:E765  84 C4				test	al,ah
F000:E767  74 F9				jz	loc_1184		; Jump if zero
F000:E769  2E: A0 8285				mov	al,cs:data_130		; (F000:8285=0)
F000:E76D			loc_1186:					;  xref F000:E76F
F000:E76D  FE C8				dec	al
F000:E76F  75 FC				jnz	loc_1186		; Jump if not zero
F000:E771  49					dec	cx
F000:E772  75 F0				jnz	loc_1185		; Jump if not zero
F000:E774  EB EB				jmp	short loc_1183		; (E761)
				sub_331		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:A49D, D348, D38E
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_332		proc	near
F000:E776  50					push	ax
F000:E777  2E: A0 8285				mov	al,cs:data_130		; (F000:8285=0)
F000:E77B  0A C0				or	al,al			; Zero ?
F000:E77D  75 21				jnz	short loc_1192		; Jump if not zero
F000:E77F			loc_1187:					;  xref F000:E799
F000:E77F  EC					in	al,dx			; port 0, DMA-1 bas&add ch 0
F000:E780  84 C4				test	al,ah
F000:E782  75 18				jnz	short loc_1191		; Jump if not zero
F000:E784			loc_1188:					;  xref F000:E788
F000:E784  E4 61				in	al,61h			; port 61h, 8255 port B, read
F000:E786  A8 10				test	al,10h
F000:E788  74 FA				jz	loc_1188		; Jump if zero
F000:E78A  49					dec	cx
F000:E78B  74 0E				jz	short loc_1190		; Jump if zero
F000:E78D  EC					in	al,dx			; port 0, DMA-1 bas&add ch 0
F000:E78E  84 C4				test	al,ah
F000:E790  75 0A				jnz	short loc_1191		; Jump if not zero
F000:E792			loc_1189:					;  xref F000:E796
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 305

F000:E792  E4 61				in	al,61h			; port 61h, 8255 port B, read
F000:E794  A8 10				test	al,10h
F000:E796  75 FA				jnz	loc_1189		; Jump if not zero
F000:E798  49					dec	cx
F000:E799  75 E4				jnz	loc_1187		; Jump if not zero
F000:E79B			loc_1190:					;  xref F000:E78B, E7B0
F000:E79B њF9					stc				; Set carry flag
F000:E79C			loc_1191:					;  xref F000:E782, E790, E7A3
F000:E79C  58					pop	ax
F000:E79D  C3					retn
F000:E79E  90 90				db	 90h, 90h
F000:E7A0			loc_1192:					;  xref F000:E77D, E7AE
F000:E7A0  EC					in	al,dx			; port 0, DMA-1 bas&add ch 0
F000:E7A1  84 C4				test	al,ah
F000:E7A3  75 F7				jnz	loc_1191		; Jump if not zero
F000:E7A5  2E: A0 8285				mov	al,cs:data_130		; (F000:8285=0)
F000:E7A9			loc_1193:					;  xref F000:E7AB
F000:E7A9  FE C8				dec	al
F000:E7AB  75 FC				jnz	loc_1193		; Jump if not zero
F000:E7AD  49					dec	cx
F000:E7AE  75 F0				jnz	loc_1192		; Jump if not zero
F000:E7B0  EB E9				jmp	short loc_1190		; (E79B)
				sub_332		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:8669, A47B, D496, D49D
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_333		proc	near
F000:E7B2  50					push	ax
F000:E7B3  2E: A0 8285				mov	al,cs:data_130		; (F000:8285=0)
F000:E7B7  0A C0				or	al,al			; Zero ?
F000:E7B9  75 1F				jnz	short loc_1199		; Jump if not zero
F000:E7BB			loc_1194:					;  xref F000:E7D5
F000:E7BB  F6 07 80				test	byte ptr [bx],80h
F000:E7BE  75 18				jnz	short loc_1198		; Jump if not zero
F000:E7C0			loc_1195:					;  xref F000:E7C4
F000:E7C0  E4 61				in	al,61h			; port 61h, 8255 port B, read
F000:E7C2  A8 10				test	al,10h
F000:E7C4  74 FA				jz	loc_1195		; Jump if zero
F000:E7C6  49					dec	cx
F000:E7C7  74 0E				jz	short loc_1197		; Jump if zero
F000:E7C9  F6 07 80				test	byte ptr [bx],80h
F000:E7CC  75 0A				jnz	short loc_1198		; Jump if not zero
F000:E7CE			loc_1196:					;  xref F000:E7D2
F000:E7CE  E4 61				in	al,61h			; port 61h, 8255 port B, read
F000:E7D0  A8 10				test	al,10h
F000:E7D2  75 FA				jnz	loc_1196		; Jump if not zero
F000:E7D4  49					dec	cx
F000:E7D5  75 E4				jnz	loc_1194		; Jump if not zero
F000:E7D7			loc_1197:					;  xref F000:E7C7, E7EA
F000:E7D7 њF9					stc				; Set carry flag
F000:E7D8			loc_1198:					;  xref F000:E7BE, E7CC, E7DD
F000:E7D8  58					pop	ax
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 306

F000:E7D9  C3					retn
F000:E7DA			loc_1199:					;  xref F000:E7B9, E7E8
F000:E7DA  F6 07 80				test	byte ptr [bx],80h
F000:E7DD  75 F9				jnz	loc_1198		; Jump if not zero
F000:E7DF  2E: A0 8285				mov	al,cs:data_130		; (F000:8285=0)
F000:E7E3			loc_1200:					;  xref F000:E7E5
F000:E7E3  FE C8				dec	al
F000:E7E5  75 FC				jnz	loc_1200		; Jump if not zero
F000:E7E7  49					dec	cx
F000:E7E8  75 F0				jnz	loc_1199		; Jump if not zero
F000:E7EA  EB EB				jmp	short loc_1197		; (E7D7)
				sub_333		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:AEAB, C7A5, C7AC, C7B3, C7BA
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_334		proc	near
F000:E7EC  B9 4000				mov	cx,4000h
F000:E7EF  33 FF				xor	di,di			; Zero register
F000:E7F1  2E: F6 06 8281 40			test	cs:data_129,40h		; (F000:8281=0) '@'
F000:E7F7  75 07				jnz	short loc_1201		; Jump if not zero
F000:E7F9  66| 33 C0				xor	eax,eax			; Zero register
F000:E7FC  F3/ 66| AB				rep	stosd			; Rep when cx >0 Store ax to es:[di]
F000:E7FF  C3					retn
F000:E800			loc_1201:					;  xref F000:E7F7
F000:E800  B5 80				mov	ch,80h
F000:E802  33 C0				xor	ax,ax			; Zero register
F000:E804  F3/ AB				rep	stosw			; Rep when cx >0 Store ax to es:[di]
F000:E806  C3					retn
				sub_334		endp

							                        ;* No entry point to code
F000:E807  E3 00				jcxz	short $+2		; delay for I/O
F000:E809  B0 C0				mov	al,0C0h
F000:E80B  E6 D6				out	0D6h,al			; port 0D6h, DMA-2 mode reg
F000:E80D  B0 40				mov	al,40h			; '@'
F000:E80F  E3 00				jcxz	short $+2		; delay for I/O
F000:E811  E3 00				jcxz	short $+2		; delay for I/O
F000:E813  E6 0B				out	0Bh,al			; port 0Bh, DMA-1 mode reg
F000:E815  E8 0007				call	sub_335			; (E81F)
F000:E818  E8 0004				call	sub_335			; (E81F)
F000:E81B  E8 0001				call	sub_335			; (E81F)
F000:E81E  C3					retn

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:E815, E818, E81B
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_335		proc	near
F000:E81F  E3 00				jcxz	short $+2		; delay for I/O
F000:E821  40					inc	ax
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 307

F000:E822  E6 0B				out	0Bh,al			; port 0Bh, DMA-1 mode reg
F000:E824  E3 00				jcxz	short $+2		; delay for I/O
F000:E826  E3 00				jcxz	short $+2		; delay for I/O
F000:E828  E6 D6				out	0D6h,al			; port 0D6h, DMA-2 mode reg
F000:E82A  C3					retn
				sub_335		endp

F000:E82B  00 00 00				db	0, 0, 0

F000:E82E			int_16h_entry:					;  xref F000:FF0F
F000:E82E  E9 C27B				jmp	int_16h_keybd		; (AAAC)

F000:E831			int_0Eh_floppy	proc	near			;  xref F000:EF57
F000:E831 њFB					sti				; Enable interrupts
F000:E832  50					push	ax
F000:E833  1E					push	ds
F000:E834  6A 40				push	40h
F000:E836  1F					pop	ds
F000:E837  80 0E 003E 80			or	dsk_recal_stat,80h	; (0040:003E=0)
F000:E83C  B0 20				mov	al,20h			; ' '
F000:E83E  E6 20				out	20h,al			; port 20h, 8259-1 int command
										;  al = 20h, end of interrupt
F000:E840  B8 9101				mov	ax,9101h
F000:E843  EB 1B				jmp	short loc_1203		; (E860)

				int_0Eh_floppy	endp

F000:E845			int_76h_hddone	proc	near			;  xref F000:FF2F
F000:E845  FB					sti				; Enable interrupts
F000:E846  50					push	ax
F000:E847  1E					push	ds
F000:E848  6A 40				push	40h
F000:E84A  1F					pop	ds
F000:E84B  E8 CB1C				call	sub_198			; (B36A)
F000:E84E			loc_1202:					;  xref F000:E86E
F000:E84E њC6 06 008E FF			mov	hdsk_complete,0FFh	; (0040:008E=0)
F000:E853  B0 20				mov	al,20h			; ' '
F000:E855  E6 A0				out	0A0h,al			; port 0A0h, 8259-2 int command
										;  al = 20h, end of interrupt
F000:E857  E3 00				jcxz	short $+2		; delay for I/O
F000:E859  E3 00				jcxz	short $+2		; delay for I/O
F000:E85B  E6 20				out	20h,al			; port 20h, 8259-1 int command
										;  al = 20h, end of interrupt
F000:E85D  B8 9100				mov	ax,9100h
F000:E860			loc_1203:					;  xref F000:E843
F000:E860  1F					pop	ds
F000:E861  CD 15				int	15h			; General services, ah=func 91h
										;  interrupt complete, al=type
										;   es:bx=ptr of request block
F000:E863  58					pop	ax
F000:E864  CF					iret				; Interrupt return
				int_76h_hddone	endp

							                        ;* No entry point to code
F000:E865  FB					sti				; Enable interrupts
F000:E866  50					push	ax
F000:E867  1E					push	ds
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 308

F000:E868  6A 40				push	40h
F000:E86A  1F					pop	ds
F000:E86B  E8 CB08				call	sub_199			; (B376)
F000:E86E  EB DE				jmp	short loc_1202		; (E84E)
F000:E870  000E[00]				db	14 dup (0)
F000:E87E  52 3A 45 46 38 1D	shift_keys	db	 52h, 3Ah, 45h, 46h, 38h, 1Dh
F000:E884  2A 36				db	 2Ah, 36h
F000:E886  80 40 20 10 08 04	shift_mask_tbl	db	 80h, 40h, 20h, 10h, 08h, 04h
F000:E88C  02 01				db	 02h, 01h
F000:E88E  FB E8 16 D4 1E 6A			db	0FBh,0E8h, 16h,0D4h, 1Eh, 6Ah
F000:E894  40 1F 8E 1E 0E 00			db	 40h, 1Fh, 8Eh, 1Eh, 0Eh, 00h
F000:E89A  60 E8 B8 0A 75 25			db	 60h,0E8h,0B8h, 0Ah, 75h, 25h
F000:E8A0  E4 60 F6 06 26 00			db	0E4h, 60h,0F6h, 06h, 26h, 00h
F000:E8A6  80 75 1F				db	 80h, 75h, 1Fh
F000:E8A9			loc_1204:					;  xref F000:E8D6
F000:E8A9  57					push	di
F000:E8AA њBF 0026				mov	di,offset keybd_queue+8	; (0040:0026=0E0h)
F000:E8AD  8B 1D				mov	bx,[di]
F000:E8AF  81 E3 0707				and	bx,707h
F000:E8B3  80 25 F8				and	byte ptr [di],0F8h
F000:E8B6  32 FB				xor	bh,bl
F000:E8B8  74 2B				jz	short loc_1208		; Jump if zero
F000:E8BA  B7 00				mov	bh,0
F000:E8BC  88 87 0028				mov	byte ptr keybd_queue+0Ah[bx],al	; (0040:0028=0E0h)
F000:E8C0  FE C3				inc	bl
F000:E8C2  08 1D				or	[di],bl
F000:E8C4			loc_1205:					;  xref F000:E8E9
F000:E8C4  5F					pop	di
F000:E8C5			loc_1206:					;  xref F000:E8E3
F000:E8C5 њE9 009B				jmp	loc_1221		; (E963)
							                        ;* No entry point to code
F000:E8C8  B4 40				mov	ah,40h			; '@'
F000:E8CA  3C FE				cmp	al,0FEh
F000:E8CC  74 0C				je	short loc_1207		; Jump if equal
F000:E8CE  B4 10				mov	ah,10h
F000:E8D0  3C FC				cmp	al,0FCh
F000:E8D2  74 06				je	short loc_1207		; Jump if equal
F000:E8D4  3C FA				cmp	al,0FAh
F000:E8D6  75 D1				jne	loc_1204		; Jump if not equal
F000:E8D8  B4 20				mov	ah,20h			; ' '
F000:E8DA			loc_1207:					;  xref F000:E8CC, E8D2
F000:E8DA  80 26 0026 7F			and	byte ptr keybd_queue+8,7Fh	; (0040:0026=0E0h)
F000:E8DF  08 26 0026				or	byte ptr keybd_queue+8,ah	; (0040:0026=0E0h)
F000:E8E3  EB E0				jmp	short loc_1206		; (E8C5)
F000:E8E5			loc_1208:					;  xref F000:E8B8
F000:E8E5  F6 45 01 80				test	byte ptr [di+1],80h
F000:E8E9  74 D9				jz	loc_1205		; Jump if zero
F000:E8EB  56					push	si
F000:E8EC  8B F3				mov	si,bx
F000:E8EE њBF 0028				mov	di,offset keybd_queue+0Ah	; (0040:0028=0E0h)
F000:E8F1  33 DB				xor	bx,bx			; Zero register
F000:E8F3  8B CB				mov	cx,bx
F000:E8F5  8B D3				mov	dx,bx
F000:E8F7  8A E3				mov	ah,bl
F000:E8F9  D1 E6				shl	si,1			; Shift w/zeros fill
F000:E8FB  2E: FF A4 E900			jmp	word ptr cs:data_269[si]	;*(F000:E900=0E955h) 8 entries
F000:E900  E955			data_269	dw	offset loc_1220		; Data table (indexed access)
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 309

										;  xref F000:E8FB
F000:E902  E951			data_270	dw	offset loc_1218		;  xref F000:E8FB
F000:E904  E94A			data_271	dw	offset loc_1216		;  xref F000:E8FB
F000:E906  E941			data_272	dw	offset loc_1214		;  xref F000:E8FB
F000:E908  E937			data_273	dw	offset loc_1213		;  xref F000:E8FB
F000:E90A  E92D			data_274	dw	offset loc_1211		;  xref F000:E8FB
F000:E90C  E91D			data_275	dw	offset loc_1210		;  xref F000:E8FB
F000:E90E  E910			data_276	dw	offset loc_1209		;  xref F000:E8FB

				;ФФФФФ Indexed Entry Point ФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФ

F000:E910			loc_1209:					;  xref F000:E8FB, E90E
F000:E910  8A F8				mov	bh,al
F000:E912  8A 5D 04				mov	bl,[di+4]
F000:E915  8A 6D 06				mov	ch,[di+6]
F000:E918  8A 75 05				mov	dh,[di+5]
F000:E91B  EB 15				jmp	short loc_1212		; (E932)

				;ФФФФФ Indexed Entry Point ФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФ

F000:E91D			loc_1210:					;  xref F000:E8FB, E90C
F000:E91D  8A F8				mov	bh,al
F000:E91F  8A 5D 03				mov	bl,[di+3]
F000:E922  8A 6D 05				mov	ch,[di+5]
F000:E925  8A 4D 02				mov	cl,[di+2]
F000:E928  8A 75 04				mov	dh,[di+4]
F000:E92B  EB 1F				jmp	short loc_1217		; (E94C)

				;ФФФФФ Indexed Entry Point ФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФ

F000:E92D			loc_1211:					;  xref F000:E8FB, E90A
F000:E92D  8A E8				mov	ch,al
F000:E92F  8A 75 04				mov	dh,[di+4]
F000:E932			loc_1212:					;  xref F000:E91B
F000:E932  8A 4D 03				mov	cl,[di+3]
F000:E935  EB 0C				jmp	short loc_1215		; (E943)

				;ФФФФФ Indexed Entry Point ФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФ

F000:E937			loc_1213:					;  xref F000:E8FB, E908
F000:E937  8A E8				mov	ch,al
F000:E939  8A 4D 04				mov	cl,[di+4]
F000:E93C  8A 75 03				mov	dh,[di+3]
F000:E93F  EB 0B				jmp	short loc_1217		; (E94C)

				;ФФФФФ Indexed Entry Point ФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФ

F000:E941			loc_1214:					;  xref F000:E8FB, E906
F000:E941  8A C8				mov	cl,al
F000:E943			loc_1215:					;  xref F000:E935
F000:E943  8A 55 02				mov	dl,[di+2]
F000:E946  8B 05				mov	ax,[di]
F000:E948  EB 0B				jmp	short loc_1220		; (E955)

				;ФФФФФ Indexed Entry Point ФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФ

F000:E94A			loc_1216:					;  xref F000:E8FB, E904
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 310

F000:E94A  8A C8				mov	cl,al
F000:E94C			loc_1217:					;  xref F000:E92B, E93F
F000:E94C  8A 55 01				mov	dl,[di+1]
F000:E94F  EB 02				jmp	short loc_1219		; (E953)

				;ФФФФФ Indexed Entry Point ФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФ

F000:E951			loc_1218:					;  xref F000:E8FB, E902
F000:E951  8A E0				mov	ah,al
F000:E953			loc_1219:					;  xref F000:E94F
F000:E953  8A 05				mov	al,[di]

				;ФФФФФ Indexed Entry Point ФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФФ

F000:E955			loc_1220:					;  xref F000:E8FB, E900, E948
F000:E955  50					push	ax
F000:E956  52					push	dx
F000:E957  51					push	cx
F000:E958  53					push	bx
F000:E959  FF 1E 0022				call	dword ptr keybd_queue+4	; (0040:0022=50E0h)
F000:E95D  58					pop	ax
F000:E95E  58					pop	ax
F000:E95F  58					pop	ax
F000:E960  58					pop	ax
F000:E961  5E					pop	si
F000:E962  5F					pop	di
F000:E963			loc_1221:					;  xref F000:E8C5
F000:E963  FA					cli				; Disable interrupts
F000:E964  B0 20				mov	al,20h			; ' '
F000:E966  E6 A0				out	0A0h,al			; port 0A0h, 8259-2 int command
										;  al = 20h, end of interrupt
F000:E968  E3 00				jcxz	short $+2		; delay for I/O
F000:E96A  E3 00				jcxz	short $+2		; delay for I/O
F000:E96C  E6 20				out	20h,al			; port 20h, 8259-1 int command
										;  al = 20h, end of interrupt
F000:E96E  61					popa				; Restore all regs
F000:E96F  1F					pop	ds
F000:E970  E8 D335				call	sub_231			; (BCA8)
F000:E973  CF					iret				; Interrupt return
F000:E974  0013[00]				db	19 dup (0)

F000:E987			int_9_entry:					;  xref F000:FEF5
F000:E987  E9 9E5C				jmp	int_9_keyboard		; (87E6)

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:863B, 869C
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_336		proc	near
F000:E98A  1E					push	ds
F000:E98B  6A 40				push	40h
F000:E98D  1F					pop	ds
F000:E98E  FA					cli				; Disable interrupts
F000:E98F  F6 06 00A0 01			test	timer_clk_flag,1	; (0040:00A0=0)
F000:E994  F9					stc				; Set carry flag
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 311

F000:E995  75 22				jnz	short loc_1222		; Jump if not zero
F000:E997  E8 0228				call	sub_344			; (EBC2)
F000:E99A  C6 06 00A0 01			mov	timer_clk_flag,1	; (0040:00A0=0)
F000:E99F  89 1E 0098				mov	@timer_wait_off,bx	; (0040:0098=0)
F000:E9A3  8C 06 009A				mov	@timer_wait_seg,es	; (0040:009A=0)
F000:E9A7  89 16 009C				mov	timer_clk_low,dx	; (0040:009C=0)
F000:E9AB  89 0E 009E				mov	timer_clk_hi,cx		; (0040:009E=0)
F000:E9AF  E8 021B				call	sub_345			; (EBCD)
F000:E9B2  24 7F				and	al,7Fh
F000:E9B4  0C 40				or	al,40h			; '@'
F000:E9B6  E8 0220				call	sub_347			; (EBD9)
F000:E9B9			loc_1222:					;  xref F000:E995
F000:E9B9  FB					sti				; Enable interrupts
F000:E9BA  1F					pop	ds
F000:E9BB  C3					retn
				sub_336		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:8649, 8650, 8657
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_337		proc	near
F000:E9BC			loc_1223:					;  xref F000:E9C1
F000:E9BC  D1 E9				shr	cx,1			; Shift w/zeros fill
F000:E9BE  D1 DA				rcr	dx,1			; Rotate thru carry
F000:E9C0  4B					dec	bx
F000:E9C1  75 F9				jnz	loc_1223		; Jump if not zero
F000:E9C3  C3					retn
				sub_337		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:86B9, 86BF, 86C5, 86CB
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_338		proc	near
F000:E9C4  FA					cli				; Disable interrupts
F000:E9C5  E8 002C				call	sub_339			; (E9F4)
F000:E9C8  EE					out	dx,al			; port 0, DMA-1 bas&add ch 0
F000:E9C9  50					push	ax
F000:E9CA  B9 0100				mov	cx,100h
F000:E9CD  8A E3				mov	ah,bl
F000:E9CF  E8 FD6A				call	sub_331			; (E73C)
F000:E9D2  58					pop	ax
F000:E9D3  72 12				jc	short loc_1225		; Jump if carry Set
F000:E9D5  8B C8				mov	cx,ax
F000:E9D7  E8 001A				call	sub_339			; (E9F4)
F000:E9DA  3B C8				cmp	cx,ax
F000:E9DC  73 01				jae	short loc_1224		; Jump if above or =
F000:E9DE  40					inc	ax
F000:E9DF			loc_1224:					;  xref F000:E9DC
F000:E9DF  2B C8				sub	cx,ax
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 312

F000:E9E1  C1 E9 04				shr	cx,4			; Shift w/zeros fill
F000:E9E4  80 E5 01				and	ch,1
F000:E9E7			loc_1225:					;  xref F000:E9D3
F000:E9E7  FB					sti				; Enable interrupts
F000:E9E8  51					push	cx
F000:E9E9  B9 0100				mov	cx,100h
F000:E9EC  B4 0F				mov	ah,0Fh
F000:E9EE  E8 FD4B				call	sub_331			; (E73C)
F000:E9F1  F8					clc				; Clear carry flag
F000:E9F2  59					pop	cx
F000:E9F3  C3					retn
				sub_338		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:E9C5, E9D7
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_339		proc	near
F000:E9F4  B0 00				mov	al,0
F000:E9F6  E6 43				out	43h,al			; port 43h, 8253 timer control
										;  al = 0, latch timer0 count
F000:E9F8  E3 00				jcxz	short $+2		; delay for I/O
F000:E9FA  E3 00				jcxz	short $+2		; delay for I/O
F000:E9FC  E4 40				in	al,40h			; port 40h, 8253 timer 0 clock
F000:E9FE  86 C4				xchg	al,ah
F000:EA00  E3 00				jcxz	short $+2		; delay for I/O
F000:EA02  E3 00				jcxz	short $+2		; delay for I/O
F000:EA04  E4 40				in	al,40h			; port 40h, 8253 timer 0 clock
F000:EA06  86 C4				xchg	al,ah
F000:EA08  C3					retn
				sub_339		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:85E2
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_340		proc	near
F000:EA09  2E: F6 06 8280 10			test	cs:data_128,10h		; (F000:8280=2Fh)
F000:EA0F  74 07				jz	short loc_ret_1226	; Jump if zero
F000:EA11  50					push	ax
F000:EA12  E8 1475				call	sub_406			; (FE8A)
F000:EA15  A8 20				test	al,20h			; ' '
F000:EA17  58					pop	ax

F000:EA18			loc_ret_1226:					;  xref F000:EA0F
F000:EA18  C3					retn
				sub_340		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
           MBIOS.LST       BIOS ROM Analysis			Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 313

				;
				;         Called from:   F000:85A7, 8610
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_341		proc	near
F000:EA19  E8 01C5				call	sub_348			; (EBE1)
F000:EA1C  86 E0				xchg	ah,al
F000:EA1E  E8 01C0				call	sub_348			; (EBE1)
F000:EA21  C3					retn
				sub_341		endp


F000:EA22			int_7_unused	proc	near			;  xref F000:FEF1
F000:EA22  55					push	bp
F000:EA23  8B EC				mov	bp,sp
F000:EA25  50					push	ax
F000:EA26  53					push	bx
F000:EA27  1E					push	ds
F000:EA28  C5 5E 02				lds	bx,dword ptr [bp+2]	; Load 32 bit ptr
F000:EA2B  8A 07				mov	al,[bx]
F000:EA2D  3C 9B				cmp	al,9Bh
F000:EA2F  74 39				je	short loc_1230		; Jump if equal
F000:EA31  3C 2E				cmp	al,2Eh			; '.'
F000:EA33  74 14				je	short loc_1227		; Jump if equal
F000:EA35  3C 3E				cmp	al,3Eh			; '>'
F000:EA37  74 10				je	short loc_1227		; Jump if equal
F000:EA39  3C 36				cmp	al,36h			; '6'
F000:EA3B  74 0C				je	short loc_1227		; Jump if equal
F000:EA3D  3C 26				cmp	al,26h			; '&'
F000:EA3F  74 08				je	short loc_1227		; Jump if equal
F000:EA41  3C 64				cmp	al,64h			; 'd'
F000:EA43  74 04				je	short loc_1227		; Jump if equal
F000:EA45  3C 65				cmp	al,65h			; 'e'
F000:EA47  75 01				jne	short loc_1228		; Jump if not equal
F000:EA49			loc_1227:					;  xref F000:EA33, EA37, EA3B, EA3F
										;            EA43
F000:EA49  43					inc	bx
F000:EA4A			loc_1228:					;  xref F000:EA47
F000:EA4A  80 3F D8				cmp	byte ptr [bx],0D8h
F000:EA4D  72 24				jb	short loc_1232		; Jump if below
F000:EA4F  43					inc	bx
F000:EA50  8A 07				mov	al,[bx]
F000:EA52  43					inc	bx
F000:EA53  8A E0				mov	ah,al
F000:EA55  25 07C0				and	ax,7C0h
F000:EA58  3C 00				cmp	al,0
F000:EA5A  75 05				jne	short loc_1229		; Jump if not equal
F000:EA5C  80 FC 06				cmp	ah,6
F000:EA5F  75 0A				jne	short loc_1231		; Jump if not equal
F000:EA61			loc_1229:					;  xref F000:EA5A
F000:EA61  3C C0				cmp	al,0C0h
F000:EA63  74 06				je	short loc_1231		; Jump if equal
F000:EA65  43					inc	bx
F000:EA66  3C 40				cmp	al,40h			; '@'
F000:EA68  74 01				je	short loc_1231		; Jump if equal
F000:EA6A			loc_1230:					;  xref F000:EA2F, EA87
F000:EA6A  43					inc	bx
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 314

F000:EA6B			loc_1231:					;  xref F000:EA5F, EA63, EA68
F000:EA6B  89 5E 02				mov	[bp+2],bx
F000:EA6E  1F					pop	ds
F000:EA6F  5B					pop	bx
F000:EA70  58					pop	ax
F000:EA71  5D					pop	bp
F000:EA72  CF					iret				; Interrupt return
				int_7_unused	endp

F000:EA73			loc_1232:					;  xref F000:EA4D, EA8C
F000:EA73  1F					pop	ds
F000:EA74  5B					pop	bx
F000:EA75  58					pop	ax
F000:EA76  5D					pop	bp
F000:EA77  E9 0CF9				jmp	int_unused		; (F773)

F000:EA7A			int_6_badopcode	proc	near			;  xref F000:FEEF
F000:EA7A  55					push	bp
F000:EA7B  8B EC				mov	bp,sp
F000:EA7D  50					push	ax
F000:EA7E  53					push	bx
F000:EA7F  1E					push	ds
F000:EA80  C5 5E 02				lds	bx,dword ptr [bp+2]	; Load 32 bit ptr
F000:EA83  8B 07				mov	ax,[bx]
F000:EA85  3C F0				cmp	al,0F0h
F000:EA87  74 E1				je	loc_1230		; Jump if equal
F000:EA89  3D 050F				cmp	ax,50Fh
F000:EA8C  75 E5				jne	loc_1232		; Jump if not equal
F000:EA8E  FA					cli				; Disable interrupts
F000:EA8F  FC					cld				; Clear direction
F000:EA90  33 C0				xor	ax,ax			; Zero register
F000:EA92  8E D8				mov	ds,ax
F000:EA94  8B C4				mov	ax,sp
F000:EA96  83 C0 0E				add	ax,0Eh
F000:EA99  24 F8				and	al,0F8h
F000:EA9B  B9 0020				mov	cx,20h
F000:EA9E  2B C1				sub	ax,cx
F000:EAA0  8B E0				mov	sp,ax
F000:EAA2  8B F8				mov	di,ax
F000:EAA4  8B E8				mov	bp,ax
F000:EAA6  8C D0				mov	ax,ss
F000:EAA8  8E C0				mov	es,ax
F000:EAAA њBE E270				mov	si,data_14e		; (0000:E270=0BBh)
F000:EAAD  2E: F3/ A4				rep	movs byte ptr es:[di],cs:[si]	; Rep when cx >0 Mov [si] to es:[di]
F000:EAB0  8B FD				mov	di,bp
F000:EAB2  8A CC				mov	cl,ah
F000:EAB4  C0 E9 04				shr	cl,4			; Shift w/zeros fill
F000:EAB7  C1 E0 04				shl	ax,4			; Shift w/zeros fill
F000:EABA  03 C7				add	ax,di
F000:EABC  80 D1 00				adc	cl,0
F000:EABF  83 C7 02				add	di,2
F000:EAC2  AB					stosw				; Store ax to es:[di]
F000:EAC3  8A C1				mov	al,cl
F000:EAC5  AA					stosb				; Store al to es:[di]
F000:EAC6  32 ED				xor	ch,ch			; Zero register
F000:EAC8  83 C7 03				add	di,3
F000:EACB њBE 0848				mov	si,data_10e		; (0000:0848=9Bh)
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 315

F000:EACE  E8 0084				call	sub_342			; (EB55)
F000:EAD1  8B D8				mov	bx,ax
F000:EAD3  72 03				jc	short loc_1233		; Jump if carry Set
F000:EAD5  80 CD 01				or	ch,1
F000:EAD8			loc_1233:					;  xref F000:EAD3
F000:EAD8  83 C7 0C				add	di,0Ch
F000:EADB њBE 0836				mov	si,data_9e		; (0000:0836=2)
F000:EADE  E8 0074				call	sub_342			; (EB55)
F000:EAE1  72 03				jc	short loc_1234		; Jump if carry Set
F000:EAE3  80 CD 02				or	ch,2
F000:EAE6			loc_1234:					;  xref F000:EAE1
F000:EAE6  8E C0				mov	es,ax
F000:EAE8  8E DB				mov	ds,bx
F000:EAEA  66| C1 C8 10				ror	eax,10h			; Rotate
F000:EAEE  50					push	ax
F000:EAEF  0F 01 56 00				lgdt	fword ptr [bp]		; Load global des tbl
F000:EAF3  0F 20 C0				mov	eax,cr0			; Mov reg-control reg
F000:EAF6  0C 01				or	al,1
F000:EAF8  0F 22 C0				mov	cr0,eax			; Mov reg-control reg
				;* This jump is a protected mode jump to flush the pre-fetch queue -
				;* - the segment selector was ignored.
F000:EAFB  EA 0010EB00				jmp	far ptr loc_1235	; (EB00)
F000:EB00			loc_1235:					;  xref F000:EAFB
F000:EB00  D0 ED				shr	ch,1			; Shift w/zeros fill
F000:EB02  73 05				jnc	short loc_1236		; Jump if carry=0
F000:EB04  BB 0008				mov	bx,8
F000:EB07  8E DB				mov	ds,bx
F000:EB09			loc_1236:					;  xref F000:EB02
F000:EB09  D0 ED				shr	ch,1			; Shift w/zeros fill
F000:EB0B  73 05				jnc	short loc_1237		; Jump if carry=0
F000:EB0D  BB 0018				mov	bx,18h
F000:EB10  8E C3				mov	es,bx
F000:EB12			loc_1237:					;  xref F000:EB0B
F000:EB12  24 FE				and	al,0FEh
F000:EB14  0F 22 C0				mov	cr0,eax			; Mov reg-control reg
F000:EB17  EA F000EB1C				jmp	far ptr loc_1238	; (EB1C)
F000:EB1C			loc_1238:					;  xref F000:EB17
F000:EB1C  58					pop	ax
F000:EB1D  66| C1 C8 10				ror	eax,10h			; Rotate
F000:EB21  33 C0				xor	ax,ax			; Zero register
F000:EB23  8E D0				mov	ss,ax
F000:EB25  36: 8B 16 0818			mov	dx,ss:data_4e		; (0000:0818=4FF0h)
F000:EB2A  36: 8B 1E 081A			mov	bx,ss:data_5e		; (0000:081A=0F773h)
F000:EB2F  36: 8B 0E 0822			mov	cx,ss:data_7e		; (0000:0822=0FF0h)
F000:EB34  36: 8B 26 082C			mov	sp,ss:data_8e		; (0000:082C=0B8F0h)
F000:EB39  36: 8E 16 0820			mov	ss,ss:data_6e		; (0000:0820=0FEh)
F000:EB3E  52					push	dx
F000:EB3F  51					push	cx
F000:EB40  53					push	bx
F000:EB41  8E D0				mov	ss,ax
F000:EB43  BC 0826				mov	sp,826h
F000:EB46  61					popa				; Restore all regs
F000:EB47  36: 8B 26 082C			mov	sp,ss:data_8e		; (0000:082C=0B8F0h)
F000:EB4C  36: 8E 16 0820			mov	ss,ss:data_6e		; (0000:0820=0FEh)
F000:EB51  83 EC 06				sub	sp,6
F000:EB54  CF					iret				; Interrupt return
				int_6_badopcode	endp
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 316



				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:EACE, EADE
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_342		proc	near
F000:EB55  8B 44 04				mov	ax,[si+4]
F000:EB58  AB					stosw				; Store ax to es:[di]
F000:EB59  AD					lodsw				; String [si] to ax
F000:EB5A  AB					stosw				; Store ax to es:[di]
F000:EB5B  8A 0C				mov	cl,[si]
F000:EB5D  26: 88 0D				mov	es:[di],cl
F000:EB60  A8 0F				test	al,0Fh
F000:EB62  75 0E				jnz	short loc_ret_1239	; Jump if not zero
F000:EB64  F6 C1 F0				test	cl,0F0h
F000:EB67  75 09				jnz	short loc_ret_1239	; Jump if not zero
F000:EB69  C1 E8 04				shr	ax,4			; Shift w/zeros fill
F000:EB6C  C0 E1 04				shl	cl,4			; Shift w/zeros fill
F000:EB6F  0A E1				or	ah,cl
F000:EB71  F9					stc				; Set carry flag

F000:EB72			loc_ret_1239:					;  xref F000:EB62, EB67
F000:EB72  C3					retn
				sub_342		endp

F000:EB73			loc_1240:					;  xref F000:83B3
F000:EB73  B0 00				mov	al,0
F000:EB75  E6 F1				out	0F1h,al			; port 0F1h, 80287 reset
F000:EB77  E3 00				jcxz	short $+2		; delay for I/O
F000:EB79  E3 00				jcxz	short $+2		; delay for I/O

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:86DF
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_343		proc	near
F000:EB7B  B0 11				mov	al,11h
F000:EB7D  E6 A0				out	0A0h,al			; port 0A0h, 8259-2 int command
										;  al = 11h, initialize, 4 byte
F000:EB7F  E3 00				jcxz	short $+2		; delay for I/O
F000:EB81  E3 00				jcxz	short $+2		; delay for I/O
F000:EB83  E6 20				out	20h,al			; port 20h, 8259-1 int command
F000:EB85  E3 00				jcxz	short $+2		; delay for I/O
F000:EB87  E3 00				jcxz	short $+2		; delay for I/O
F000:EB89  8A C3				mov	al,bl
F000:EB8B  E6 A1				out	0A1h,al			; port 0A1h, 8259-2 int comands
F000:EB8D  E3 00				jcxz	short $+2		; delay for I/O
F000:EB8F  E3 00				jcxz	short $+2		; delay for I/O
F000:EB91  8A C7				mov	al,bh
F000:EB93  E6 21				out	21h,al			; port 21h, 8259-1 int comands
F000:EB95  E3 00				jcxz	short $+2		; delay for I/O
F000:EB97  E3 00				jcxz	short $+2		; delay for I/O
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 317

F000:EB99  B0 02				mov	al,2
F000:EB9B  E6 A1				out	0A1h,al			; port 0A1h, 8259-2 int comands
										;  al = 2, inhibit IRQ9
F000:EB9D  E3 00				jcxz	short $+2		; delay for I/O
F000:EB9F  E3 00				jcxz	short $+2		; delay for I/O
F000:EBA1  B0 04				mov	al,4
F000:EBA3  E6 21				out	21h,al			; port 21h, 8259-1 int comands
										;  al = 4, inhibit IRQ2
F000:EBA5  E3 00				jcxz	short $+2		; delay for I/O
F000:EBA7  E3 00				jcxz	short $+2		; delay for I/O
F000:EBA9  B0 01				mov	al,1
F000:EBAB  E6 A1				out	0A1h,al			; port 0A1h, 8259-2 int comands
										;  al = 1, inhibit IRQ8 RTC
F000:EBAD  E3 00				jcxz	short $+2		; delay for I/O
F000:EBAF  E3 00				jcxz	short $+2		; delay for I/O
F000:EBB1  E6 21				out	21h,al			; port 21h, 8259-1 int comands
										;  al = 1, inhibit IRQ0 timer
F000:EBB3  E3 00				jcxz	short $+2		; delay for I/O
F000:EBB5  E3 00				jcxz	short $+2		; delay for I/O
F000:EBB7  B0 FF				mov	al,0FFh
F000:EBB9  E6 A1				out	0A1h,al			; port 0A1h, 8259-2 int comands
										;  al = 0FFh, inhibit interrupts
F000:EBBB  E3 00				jcxz	short $+2		; delay for I/O
F000:EBBD  E3 00				jcxz	short $+2		; delay for I/O
F000:EBBF  E6 21				out	21h,al			; port 21h, 8259-1 int comands
F000:EBC1  C3					retn
				sub_343		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:AC84, E997
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_344		proc	near
F000:EBC2  E4 A1				in	al,0A1h			; port 0A1h, 8259-2 int IMR
F000:EBC4  24 FE				and	al,0FEh
F000:EBC6  E3 00				jcxz	short $+2		; delay for I/O
F000:EBC8  E3 00				jcxz	short $+2		; delay for I/O
F000:EBCA  E6 A1				out	0A1h,al			; port 0A1h, 8259-2 int comands
										;  al = 2, inhibit IRQ9
F000:EBCC  C3					retn
				sub_344		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:8687, ABF1, AC13, AC27, AC40, AC6F, AC87
				;                             E9AF, F72A, F744
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_345		proc	near
F000:EBCD  B0 0B				mov	al,0Bh
F000:EBCF  E8 000F				call	sub_348			; (EBE1)
F000:EBD2  C3					retn
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 318

				sub_345		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:ACB4, F721
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_346		proc	near
F000:EBD3  B0 0C				mov	al,0Ch
F000:EBD5  E8 0009				call	sub_348			; (EBE1)
F000:EBD8  C3					retn
				sub_346		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:868C, AC8E, E9B6, F749
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_347		proc	near
F000:EBD9  B4 0B				mov	ah,0Bh
F000:EBDB  86 C4				xchg	al,ah
F000:EBDD  E8 000A				call	sub_349			; (EBEA)
F000:EBE0  C3					retn
				sub_347		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:7D90, 7DE9, A9E7, AC56, ACB9, ACC5, ACCE
				;                             ACD3, ACD8, AD28, B2BA, C97A, D63D, EA19
				;                             EA1E, EBCF, EBD5, EC30, FE9E
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_348		proc	near
F000:EBE1			loc_1241:					;  xref F000:B40B, D67B
F000:EBE1  E6 70				out	70h,al			; port 70h, CMOS addr,bit7=NMI
F000:EBE3  E3 00				jcxz	short $+2		; delay for I/O
F000:EBE5  E3 00				jcxz	short $+2		; delay for I/O
F000:EBE7  E4 71				in	al,71h			; port 71h, CMOS data
F000:EBE9  C3					retn
				sub_348		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:9E56, AC0A, AC10, AC65, ACAB, ACB1, ACE2
				;                             ACE6, ACEA, B761, B767, D644, EBDD, F022
				;                             F029, F036
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_349		proc	near
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 319

F000:EBEA			loc_1242:					;  xref F000:B3D7, D687
F000:EBEA  E6 70				out	70h,al			; port 70h, CMOS addr,bit7=NMI
F000:EBEC  86 C4				xchg	al,ah
F000:EBEE  E3 00				jcxz	short $+2		; delay for I/O
F000:EBF0  E3 00				jcxz	short $+2		; delay for I/O
F000:EBF2  E6 71				out	71h,al			; port 71h, CMOS data
F000:EBF4  86 C4				xchg	al,ah
F000:EBF6  C3					retn
				sub_349		endp

							                        ;* No entry point to code
F000:EBF7  E4 61				in	al,61h			; port 61h, 8255 port B, read
F000:EBF9  0C 0C				or	al,0Ch
F000:EBFB  E3 00				jcxz	short $+2		; delay for I/O
F000:EBFD  E3 00				jcxz	short $+2		; delay for I/O
F000:EBFF  E6 61				out	61h,al			; port 61h, 8255 B - spkr, etc
										;  al = 0Ch, enable parity
F000:EC01  24 F3				and	al,0F3h
F000:EC03  E3 00				jcxz	short $+2		; delay for I/O
F000:EC05  E3 00				jcxz	short $+2		; delay for I/O
F000:EC07  E6 61				out	61h,al			; port 61h, 8255 B - spkr, etc
										;  al = 0, disable parity
F000:EC09  C3					retn

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:856B, 87BC, FE8E
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_350		proc	near
F000:EC0A  E8 0003				call	sub_351			; (EC10)
F000:EC0D  E6 70				out	70h,al			; port 70h, CMOS addr,bit7=NMI
										;  al = 0, seconds register
F000:EC0F  C3					retn
				sub_350		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:AB82, EC0A
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_351		proc	near
F000:EC10  E8 C69C				call	sub_188			; (B2AF)
F000:EC13  B8 000D				mov	ax,0Dh
F000:EC16  75 03				jnz	short loc_1243		; Jump if not zero
F000:EC18  B8 0C8D				mov	ax,0C8Dh
F000:EC1B			loc_1243:					;  xref F000:EC16
F000:EC1B  50					push	ax
F000:EC1C  E4 61				in	al,61h			; port 61h, 8255 port B, read
F000:EC1E  E3 00				jcxz	short $+2		; delay for I/O
F000:EC20  E3 00				jcxz	short $+2		; delay for I/O
F000:EC22  24 F3				and	al,0F3h
F000:EC24  0A C4				or	al,ah
F000:EC26  E6 61				out	61h,al			; port 61h, 8255 B - spkr, etc
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 320

F000:EC28  58					pop	ax
F000:EC29  C3					retn
				sub_351		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:CD05, CDC9, D4A1
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_352		proc	near
F000:EC2A  B0 0E				mov	al,0Eh
F000:EC2C  EB 02				jmp	short loc_1244		; (EC30)

				;пппп External Entry into Subroutine пппппппппппппппппппппппппппппппппппппп
				;
				;         Called from:   F000:7D6C, 8760, 8789, AD21, B2AF, FE93

				sub_353:
F000:EC2E  B0 8E				mov	al,8Eh
F000:EC30			loc_1244:					;  xref F000:EC2C
F000:EC30  E8 FFAE				call	sub_348			; (EBE1)
F000:EC33  A8 C0				test	al,0C0h
F000:EC35  C3					retn
				sub_352		endp


F000:EC36			int_71h_cascade	proc	near			;  xref F000:FF25
F000:EC36  50					push	ax
F000:EC37  B0 20				mov	al,20h			; ' '
F000:EC39  E6 A0				out	0A0h,al			; port 0A0h, 8259-2 int command
										;  al = 20h, end of interrupt
F000:EC3B  58					pop	ax
F000:EC3C  CD 0A				int	0Ah			; Find int from 2nd controller
F000:EC3E  CF					iret				; Interrupt return
				int_71h_cascade	endp


F000:EC3F			int_75h_math	proc	near			;  xref F000:FF2D
F000:EC3F  50					push	ax
F000:EC40  32 C0				xor	al,al			; Zero register
F000:EC42  E6 F0				out	0F0h,al			; port 0F0h, 80287 clear busy
F000:EC44  E8 F46F				call	sub_316			; (E0B6)
F000:EC47  58					pop	ax
F000:EC48  CD 02				int	2			; NMI (parity, video ticks, etc)
F000:EC4A  CF					iret				; Interrupt return
				int_75h_math	endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:AE5C
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_354		proc	near
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 321

F000:EC4B  E8 EA63				call	sub_299			; (D6B1)
F000:EC4E  E8 EA64				call	sub_300			; (D6B5)
F000:EC51  C3					retn
				sub_354		endp

F000:EC52  0007[00]				db	7 dup (0)

F000:EC59			int_13h_entry:					;  xref F000:FF09
F000:EC59  E9 DC6E				jmp	int_13h_floppy		; (C8CA)

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:EC85, EC95
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_355		proc	near
F000:EC5C  E8 0076				call	sub_361			; (ECD5)
F000:EC5F  75 07				jnz	short loc_ret_1245	; Jump if not zero
F000:EC61  E8 0035				call	sub_357			; (EC99)
F000:EC64  74 10				jz	short loc_1247		; Jump if zero
F000:EC66  38 E0				cmp	al,ah

F000:EC68			loc_ret_1245:					;  xref F000:EC5F
F000:EC68  C3					retn
							                        ;* No entry point to code
F000:EC69  E8 0078				call	sub_362			; (ECE4)
F000:EC6C  75 07				jnz	short loc_ret_1246	; Jump if not zero
F000:EC6E  E8 0028				call	sub_357			; (EC99)
F000:EC71  74 03				jz	short loc_1247		; Jump if zero
F000:EC73  38 E0				cmp	al,ah

F000:EC75			loc_ret_1246:					;  xref F000:EC6C
F000:EC75  C3					retn
F000:EC76			loc_1247:					;  xref F000:EC64, EC71
F000:EC76  0B E4				or	sp,sp			; Zero ?
F000:EC78  C3					retn
				sub_355		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:AD65
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_356		proc	near
F000:EC79  E4 64				in	al,64h			; port 64h, keyboard status
F000:EC7B  A8 01				test	al,1
F000:EC7D  74 04				jz	short loc_1248		; Jump if zero
F000:EC7F  E3 00				jcxz	short $+2		; delay for I/O
F000:EC81  E4 60				in	al,60h			; port 60h, keybd scan or sw1
F000:EC83			loc_1248:					;  xref F000:EC7D
F000:EC83  B0 C0				mov	al,0C0h
F000:EC85  E8 FFD4				call	sub_355			; (EC5C)
F000:EC88  C3					retn
				sub_356		endp
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 322


							                        ;* No entry point to code
F000:EC89  E4 64				in	al,64h			; port 64h, keyboard status
F000:EC8B  A8 01				test	al,1
F000:EC8D  74 04				jz	short loc_1249		; Jump if zero
F000:EC8F  E3 00				jcxz	short $+2		; delay for I/O
F000:EC91  E4 60				in	al,60h			; port 60h, keybd scan or sw1
F000:EC93			loc_1249:					;  xref F000:EC8D
F000:EC93  B0 D0				mov	al,0D0h
F000:EC95  E8 FFC4				call	sub_355			; (EC5C)
F000:EC98  C3					retn

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:EC61, EC6E
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_357		proc	near
F000:EC99  E8 0003				call	sub_358			; (EC9F)
F000:EC9C  E4 60				in	al,60h			; port 60h, keybd scan or sw1
F000:EC9E  C3					retn
				sub_357		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:EC99
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_358		proc	near
F000:EC9F  B9 000C				mov	cx,0Ch

				;пппп External Entry into Subroutine пппппппппппппппппппппппппппппппппппппп
				;
				;         Called from:   F000:D655

				sub_359:

F000:ECA2			locloop_1250:					;  xref F000:ECAC
F000:ECA2  51					push	cx
F000:ECA3  33 C9				xor	cx,cx			; Zero register

F000:ECA5			locloop_1251:					;  xref F000:ECA9
F000:ECA5  E4 64				in	al,64h			; port 64h, keyboard status
F000:ECA7  A8 01				test	al,1
F000:ECA9  E1 FA				loopz	locloop_1251		; Loop if zf=1, cx>0

F000:ECAB  59					pop	cx
F000:ECAC  E1 F4				loopz	locloop_1250		; Loop if zf=1, cx>0

F000:ECAE  C3					retn
				sub_358		endp

F000:ECAF  B4 0C 33 C9				db	0B4h, 0Ch, 33h,0C9h

           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 323

F000:ECB3			locloop_1252:					;  xref F000:ECB7, ECBD
F000:ECB3  E4 64				in	al,64h			; port 64h, keyboard status
F000:ECB5  A8 01				test	al,1
F000:ECB7  E1 FA				loopz	locloop_1252		; Loop if zf=1, cx>0

F000:ECB9  75 04				jnz	short loc_1253		; Jump if not zero
F000:ECBB  FE CC				dec	ah
F000:ECBD  75 F4				jnz	locloop_1252		; Jump if not zero
F000:ECBF			loc_1253:					;  xref F000:ECB9
F000:ECBF  E4 60				in	al,60h			; port 60h, keybd scan or sw1
F000:ECC1  C3					retn

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:ECD1, ECF5
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_360		proc	near
F000:ECC2  E8 0010				call	sub_361			; (ECD5)
F000:ECC5  75 05				jnz	short loc_ret_1254	; Jump if not zero
F000:ECC7  8A C4				mov	al,ah
F000:ECC9  E8 0018				call	sub_362			; (ECE4)

F000:ECCC			loc_ret_1254:					;  xref F000:ECC5
F000:ECCC  C3					retn
				sub_360		endp

							                        ;* No entry point to code
F000:ECCD  8A E0				mov	ah,al
F000:ECCF  B0 D1				mov	al,0D1h
F000:ECD1  E8 FFEE				call	sub_360			; (ECC2)
F000:ECD4  C3					retn

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:EC5C, ECC2, F2A9, F345
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_361		proc	near
F000:ECD5  50					push	ax
F000:ECD6  E8 0020				call	sub_364			; (ECF9)
F000:ECD9  58					pop	ax
F000:ECDA  75 07				jnz	short loc_ret_1255	; Jump if not zero
F000:ECDC  E6 64				out	64h,al			; port 64h, kybd cntrlr functn
										;  al = 0C0h, read 8042 in port
F000:ECDE  50					push	ax
F000:ECDF  E8 0017				call	sub_364			; (ECF9)
F000:ECE2  58					pop	ax

F000:ECE3			loc_ret_1255:					;  xref F000:ECDA
F000:ECE3  C3					retn
				sub_361		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 324

				;                              SUBROUTINE
				;
				;         Called from:   F000:EC69, ECC9
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_362		proc	near
F000:ECE4  50					push	ax
F000:ECE5  E8 0011				call	sub_364			; (ECF9)
F000:ECE8  58					pop	ax
F000:ECE9  75 05				jnz	short loc_ret_1256	; Jump if not zero
F000:ECEB  E6 60				out	60h,al			; port 60h, keybd data write
F000:ECED  E8 0009				call	sub_364			; (ECF9)

F000:ECF0			loc_ret_1256:					;  xref F000:ECE9
F000:ECF0  C3					retn
				sub_362		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:AEA2
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_363		proc	near
F000:ECF1  8A E0				mov	ah,al
F000:ECF3  B0 60				mov	al,60h			; '`'
F000:ECF5  E8 FFCA				call	sub_360			; (ECC2)
F000:ECF8  C3					retn
				sub_363		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:ECD6, ECDF, ECE5, ECED
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_364		proc	near
F000:ECF9			loc_1257:					;  xref F000:D665, D697
F000:ECF9  33 C9				xor	cx,cx			; Zero register

F000:ECFB			locloop_1258:					;  xref F000:ECFF
F000:ECFB  E4 64				in	al,64h			; port 64h, keyboard status
F000:ECFD  A8 02				test	al,2
F000:ECFF  E0 FA				loopnz	locloop_1258		; Loop if zf=0, cx>0

F000:ED01  74 0E				jz	short loc_ret_1261	; Jump if zero

F000:ED03			locloop_1259:					;  xref F000:ED07
F000:ED03  E4 64				in	al,64h			; port 64h, keyboard status
F000:ED05  A8 02				test	al,2
F000:ED07  E0 FA				loopnz	locloop_1259		; Loop if zf=0, cx>0

F000:ED09  74 06				jz	short loc_ret_1261	; Jump if zero

F000:ED0B			locloop_1260:					;  xref F000:ED0F
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 325

F000:ED0B  E4 64				in	al,64h			; port 64h, keyboard status
F000:ED0D  A8 02				test	al,2
F000:ED0F  E0 FA				loopnz	locloop_1260		; Loop if zf=0, cx>0


F000:ED11			loc_ret_1261:					;  xref F000:ED01, ED09
F000:ED11  C3					retn
				sub_364		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:86D8, 8F5C
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_365		proc	near
F000:ED12			loc_1262:					;  xref F000:B3DF, B492
F000:ED12  B4 DF				mov	ah,0DFh
F000:ED14  EB 02				jmp	short loc_1264		; (ED18)

				;пппп External Entry into Subroutine пппппппппппппппппппппппппппппппппппппп
				;
				;         Called from:   F000:858C, 8F61

				sub_366:
F000:ED16			loc_1263:					;  xref F000:B4A4
F000:ED16  B4 DD				mov	ah,0DDh
F000:ED18			loc_1264:					;  xref F000:ED14
F000:ED18  33 C9				xor	cx,cx			; Zero register

F000:ED1A			locloop_1265:					;  xref F000:ED1E
F000:ED1A  E4 64				in	al,64h			; port 64h, keyboard status
F000:ED1C  A8 02				test	al,2
F000:ED1E  E0 FA				loopnz	locloop_1265		; Loop if zf=0, cx>0

F000:ED20  B0 D1				mov	al,0D1h
F000:ED22  E6 64				out	64h,al			; port 64h, kybd cntrlr functn
										;  al = 0D1h, wrt 8042 out port
F000:ED24  33 C9				xor	cx,cx			; Zero register

F000:ED26			locloop_1266:					;  xref F000:ED2A
F000:ED26  E4 64				in	al,64h			; port 64h, keyboard status
F000:ED28  A8 02				test	al,2
F000:ED2A  E0 FA				loopnz	locloop_1266		; Loop if zf=0, cx>0

F000:ED2C  8A C4				mov	al,ah
F000:ED2E  E6 60				out	60h,al			; port 60h, keybd data write
F000:ED30  33 C9				xor	cx,cx			; Zero register

F000:ED32			locloop_1267:					;  xref F000:ED36
F000:ED32  E4 64				in	al,64h			; port 64h, keyboard status
F000:ED34  A8 02				test	al,2
F000:ED36  E0 FA				loopnz	locloop_1267		; Loop if zf=0, cx>0

F000:ED38  C3					retn
				sub_365		endp
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 326


F000:ED39			loc_1268:					;  xref F000:E08E
F000:ED39  50					push	ax
F000:ED3A  51					push	cx
F000:ED3B  52					push	dx
F000:ED3C  2E: 8A 26 8256			mov	ah,cs:data_105		; (F000:8256=0)
F000:ED41  0A E4				or	ah,ah			; Zero ?
F000:ED43  74 7B				jz	short loc_1272		; Jump if zero
F000:ED45  A0 0016				mov	al,byte ptr error_codes+1	; (0040:0016=8)
F000:ED48  A8 40				test	al,40h			; '@'
F000:ED4A  74 74				jz	short loc_1272		; Jump if zero
F000:ED4C  24 07				and	al,7
F000:ED4E  3C 07				cmp	al,7
F000:ED50  75 6A				jne	short loc_1271		; Jump if not equal
F000:ED52  BA 0020				mov	dx,20h
F000:ED55  E8 0A64				call	sub_401			; (F7BC)
F000:ED58  A8 02				test	al,2
F000:ED5A  75 64				jnz	short loc_1272		; Jump if not zero
F000:ED5C  B2 A0				mov	dl,0A0h
F000:ED5E  E8 0A5B				call	sub_401			; (F7BC)
F000:ED61  A8 10				test	al,10h
F000:ED63  75 5B				jnz	short loc_1272		; Jump if not zero
F000:ED65  E4 64				in	al,64h			; port 64h, keyboard status
F000:ED67  A8 03				test	al,3
F000:ED69  75 55				jnz	short loc_1272		; Jump if not zero
F000:ED6B  B0 CB				mov	al,0CBh
F000:ED6D  E8 0072				call	sub_367			; (EDE2)
F000:ED70  75 43				jnz	short loc_1270		; Jump if not zero
F000:ED72  FA					cli				; Disable interrupts
F000:ED73  E4 21				in	al,21h			; port 21h, 8259-1 int IMR
F000:ED75  E3 00				jcxz	short $+2		; delay for I/O
F000:ED77  8A F0				mov	dh,al
F000:ED79  0C 02				or	al,2
F000:ED7B  E6 21				out	21h,al			; port 21h, 8259-1 int comands
F000:ED7D  B0 C0				mov	al,0C0h
F000:ED7F  E8 0060				call	sub_367			; (EDE2)
F000:ED82  E8 0070				call	sub_369			; (EDF5)
F000:ED85  22 C4				and	al,ah
F000:ED87  24 7F				and	al,7Fh
F000:ED89  A0 0016				mov	al,byte ptr error_codes+1	; (0040:0016=8)
F000:ED8C  74 03				jz	short loc_1269		; Jump if zero
F000:ED8E  35 8080				xor	ax,8080h
F000:ED91			loc_1269:					;  xref F000:ED8C
F000:ED91  A8 80				test	al,80h
F000:ED93  74 42				jz	short loc_1275		; Jump if zero
F000:ED95  B0 20				mov	al,20h			; ' '
F000:ED97  E8 0048				call	sub_367			; (EDE2)
F000:ED9A  E8 0058				call	sub_369			; (EDF5)
F000:ED9D  50					push	ax
F000:ED9E  8A D0				mov	dl,al
F000:EDA0  B0 60				mov	al,60h			; '`'
F000:EDA2  E8 003D				call	sub_367			; (EDE2)
F000:EDA5  8A C2				mov	al,dl
F000:EDA7  0C 30				or	al,30h			; '0'
F000:EDA9  E8 003A				call	sub_368			; (EDE6)
F000:EDAC  0A E4				or	ah,ah			; Zero ?
F000:EDAE  78 16				js	short loc_1273		; Jump if sign=1
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 327

F000:EDB0  E8 C7E6				call	sub_210			; (B599)
F000:EDB3  EB 14				jmp	short loc_1274		; (EDC9)
F000:EDB5			loc_1270:					;  xref F000:ED70
F000:EDB5  B0 FF				mov	al,0FFh
F000:EDB7  E8 0028				call	sub_367			; (EDE2)
F000:EDBA  EB 04				jmp	short loc_1272		; (EDC0)
F000:EDBC			loc_1271:					;  xref F000:ED50
F000:EDBC  FE 06 0016				inc	byte ptr error_codes+1	; (0040:0016=8)
F000:EDC0			loc_1272:					;  xref F000:ED43, ED4A, ED5A, ED63
										;            ED69, EDBA, EDE0
F000:EDC0 њ5A					pop	dx
F000:EDC1  59					pop	cx
F000:EDC2  58					pop	ax
F000:EDC3  E9 F2CB				jmp	loc_1161		; (E091)
F000:EDC6			loc_1273:					;  xref F000:EDAE
F000:EDC6  E8 C78B				call	sub_209			; (B554)
F000:EDC9			loc_1274:					;  xref F000:EDB3
F000:EDC9  B0 60				mov	al,60h			; '`'
F000:EDCB  E8 0014				call	sub_367			; (EDE2)
F000:EDCE  58					pop	ax
F000:EDCF  E8 0014				call	sub_368			; (EDE6)
F000:EDD2  80 36 0016 80			xor	byte ptr error_codes+1,80h	; (0040:0016=8)
F000:EDD7			loc_1275:					;  xref F000:ED93
F000:EDD7  80 26 0016 F8			and	byte ptr error_codes+1,0F8h	; (0040:0016=8)
F000:EDDC  8A C6				mov	al,dh
F000:EDDE  E6 21				out	21h,al			; port 21h, 8259-1 int comands
F000:EDE0  EB DE				jmp	short loc_1272		; (EDC0)

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:ED6D, ED7F, ED97, EDA2, EDB7, EDCB
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_367		proc	near
F000:EDE2  E6 64				out	64h,al			; port 64h, kybd cntrlr functn
F000:EDE4  EB 02				jmp	short loc_1276		; (EDE8)

				;пппп External Entry into Subroutine пппппппппппппппппппппппппппппппппппппп
				;
				;         Called from:   F000:EDA9, EDCF

				sub_368:
F000:EDE6  E6 60				out	60h,al			; port 60h, keybd data write
F000:EDE8			loc_1276:					;  xref F000:EDE4, EDF2
F000:EDE8  E3 00				jcxz	short $+2		; delay for I/O
F000:EDEA  E4 64				in	al,64h			; port 64h, keyboard status
F000:EDEC  A8 01				test	al,1
F000:EDEE  75 04				jnz	short loc_ret_1277	; Jump if not zero
F000:EDF0  A8 02				test	al,2
F000:EDF2  75 F4				jnz	loc_1276		; Jump if not zero

F000:EDF4			loc_ret_1277:					;  xref F000:EDEE
F000:EDF4  C3					retn
				sub_367		endp


           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 328

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:ED82, ED9A
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_369		proc	near
F000:EDF5			loc_1278:					;  xref F000:EDFB
F000:EDF5  E3 00				jcxz	short $+2		; delay for I/O
F000:EDF7  E4 64				in	al,64h			; port 64h, keyboard status
F000:EDF9  A8 01				test	al,1
F000:EDFB  74 F8				jz	loc_1278		; Jump if zero
F000:EDFD  E4 60				in	al,60h			; port 60h, keybd scan or sw1
F000:EDFF  C3					retn
				sub_369		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:7C12, 7D77, 7DB8, 7E4E, 7EBA, AD6D, F37B
				;                             F3BE
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_370		proc	near
F000:EE00  B0 B6				mov	al,0B6h
F000:EE02  E6 43				out	43h,al			; port 43h, 8253 timer control
F000:EE04  E3 00				jcxz	short $+2		; delay for I/O
F000:EE06  E3 00				jcxz	short $+2		; delay for I/O
F000:EE08  B0 05				mov	al,5
F000:EE0A  E6 42				out	42h,al			; port 42h, 8253 timer 2 spkr
F000:EE0C  E3 00				jcxz	short $+2		; delay for I/O
F000:EE0E  E3 00				jcxz	short $+2		; delay for I/O
F000:EE10  E6 42				out	42h,al			; port 42h, 8253 timer 2 spkr
F000:EE12  E4 61				in	al,61h			; port 61h, 8255 port B, read
F000:EE14  50					push	ax
F000:EE15  E3 00				jcxz	short $+2		; delay for I/O
F000:EE17  E3 00				jcxz	short $+2		; delay for I/O
F000:EE19  0C 03				or	al,3
F000:EE1B  E6 61				out	61h,al			; port 61h, 8255 B - spkr, etc
F000:EE1D  51					push	cx
F000:EE1E  B9 2000				mov	cx,2000h
F000:EE21  E8 0A3A				call	sub_403			; (F85E)
F000:EE24  59					pop	cx
F000:EE25  58					pop	ax
F000:EE26  E6 61				out	61h,al			; port 61h, 8255 B - spkr, etc
F000:EE28  C3					retn
				sub_370		endp

F000:EE29  0017[00]				db	23 dup (0)
F000:EE40  DD 03 0F 00 00 FF			db	0DDh, 03h, 0Fh, 00h, 00h,0FFh
F000:EE46  FF 00 08 00 00 00			db	0FFh, 00h, 08h, 00h, 00h, 00h
F000:EE4C  DD 03 38 00 F0 01			db	0DDh, 03h, 38h, 00h,0F0h, 01h
F000:EE52  F6 03 A0 00 0E 10			db	0F6h, 03h,0A0h, 00h, 0Eh, 10h
F000:EE58  00 03 85 00 00 00			db	 00h, 03h, 85h, 00h, 00h, 00h
F000:EE5E  10 C0 32 01 04 00			db	 10h,0C0h, 32h, 01h, 04h, 00h
F000:EE64  00 80 00 00 00 00			db	 00h, 80h, 00h, 00h, 00h, 00h
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 329

F000:EE6A  00 00 31 01 11 00			db	 00h, 00h, 31h, 01h, 11h, 00h
F000:EE70  F0 01 F6 03 B0 00			db	0F0h, 01h,0F6h, 03h,0B0h, 00h
F000:EE76  0E					db	 0Eh
F000:EE77  0009[00]				db	9 dup (0)
F000:EE80  32 01 04 00 00 80			db	 32h, 01h, 04h, 00h, 00h, 80h
F000:EE86  00 00 00 00 00 00			db	 00h, 00h, 00h, 00h, 00h, 00h
F000:EE8C  31 01 11 00 70 01			db	 31h, 01h, 11h, 00h, 70h, 01h
F000:EE92  76 03 A0 00 0F			db	 76h, 03h,0A0h, 00h, 0Fh
F000:EE97  0009[00]				db	9 dup (0)
F000:EEA0  32			data_282	db	32h			;  xref F000:A3BB
F000:EEA1  01 04 00 00 80 00			db	 01h, 04h, 00h, 00h, 80h, 00h
F000:EEA7  00 00 00 00 00 31			db	 00h, 00h, 00h, 00h, 00h, 31h
F000:EEAD  01 11 00 70 01 76			db	 01h, 11h, 00h, 70h, 01h, 76h
F000:EEB3  03 B0 00 0F 00 00			db	 03h,0B0h, 00h, 0Fh, 00h, 00h
F000:EEB9  0007[00]				db	7 dup (0)
F000:EEC0  EB 16 90 EB 20 90			db	0EBh, 16h, 90h,0EBh, 20h, 90h
F000:EEC6  EB 21 90 EB 22 90			db	0EBh, 21h, 90h,0EBh, 22h, 90h
F000:EECC  EB 23 90 EB 24 90			db	0EBh, 23h, 90h,0EBh, 24h, 90h
F000:EED2  E9 C2 AF EB 22 90			db	0E9h,0C2h,0AFh,0EBh, 22h, 90h
F000:EED8  60 51 52 50 53 E8			db	 60h, 51h, 52h, 50h, 53h,0E8h
F000:EEDE  56 D1 83 C4 08 61			db	 56h,0D1h, 83h,0C4h, 08h, 61h
F000:EEE4  CB E8 76 09 CB E8			db	0CBh,0E8h, 76h, 09h,0CBh,0E8h
F000:EEEA  B7 C0 CB E8 E5 C0			db	0B7h,0C0h,0CBh,0E8h,0E5h,0C0h
F000:EEF0  CB E8 EF C0 CB E8			db	0CBh,0E8h,0EFh,0C0h,0CBh,0E8h
F000:EEF6  02 C1 CB E8 10 AD			db	 02h,0C1h,0CBh,0E8h, 10h,0ADh
F000:EEFC  CB					db	0CBh
F000:EEFD  0050[00]				db	80 dup (0)
F000:EF4D  E9 E3 CE 68 53 BE			db	0E9h,0E3h,0CEh, 68h, 53h,0BEh
F000:EF53  00 00 C3 90				db	 00h, 00h,0C3h, 90h

F000:EF57			int_0Eh_entry:					;  xref F000:FEFF
F000:EF57  E9 F8D7				jmp	int_0Eh_floppy		; (E831)
F000:EF5A			loc_1279:					;  xref F000:C74C, EF72, FA35
F000:EF5A њ8B D5				mov	dx,bp
F000:EF5C			loc_1280:					;  xref F000:EF68
F000:EF5C њBC EF61				mov	sp,0EF61h		; (F000:EF61=0E2h)
F000:EF5F  EB 13				jmp	short loc_1285		; (EF74)

F000:EF61			locloop_1281:					;  xref F000:EF61
F000:EF61  E2 FE				loop	locloop_1281		; Loop if cx > 0


F000:EF63			locloop_1282:					;  xref F000:EF63
F000:EF63  E2 FE				loop	locloop_1282		; Loop if cx > 0


F000:EF65			locloop_1283:					;  xref F000:EF65
F000:EF65  E2 FE				loop	locloop_1283		; Loop if cx > 0

F000:EF67  4A					dec	dx
F000:EF68  75 F2				jnz	loc_1280		; Jump if not zero
F000:EF6A  BA 0006				mov	dx,6

F000:EF6D			locloop_1284:					;  xref F000:EF6D, EF70
F000:EF6D  E2 FE				loop	locloop_1284		; Loop if cx > 0

F000:EF6F  4A					dec	dx
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 330

F000:EF70  75 FB				jnz	locloop_1284		; Jump if not zero
F000:EF72  EB E6				jmp	short loc_1279		; (EF5A)
F000:EF74			loc_1285:					;  xref F000:AD77, EF5F
F000:EF74  BB 0080				mov	bx,80h
F000:EF77  E4 61				in	al,61h			; port 61h, 8255 port B, read
F000:EF79  24 FE				and	al,0FEh
F000:EF7B  E3 00				jcxz	short $+2		; delay for I/O
F000:EF7D  E3 00				jcxz	short loc_1286		; Jump if cx=0
F000:EF7F			loc_1286:					;  xref F000:EF7D, EF92
F000:EF7F  0C 02				or	al,2
F000:EF81  E6 61				out	61h,al			; port 61h, 8255 B - spkr, etc
F000:EF83  B9 00E0				mov	cx,0E0h

F000:EF86			locloop_1287:					;  xref F000:EF86
F000:EF86  E2 FE				loop	locloop_1287		; Loop if cx > 0

F000:EF88  24 FD				and	al,0FDh
F000:EF8A  E6 61				out	61h,al			; port 61h, 8255 B - spkr, etc
										;  al = 0, disable parity
F000:EF8C  B9 00D0				mov	cx,0D0h

F000:EF8F			locloop_1288:					;  xref F000:EF8F
F000:EF8F  E2 FE				loop	locloop_1288		; Loop if cx > 0

F000:EF91  4B					dec	bx
F000:EF92  75 EB				jnz	loc_1286		; Jump if not zero
F000:EF94  FF E4				jmp	sp			;*Register jump

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:8784, AD0A, AD12, AD7E
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_371		proc	near
F000:EF96  B0 0D				mov	al,0Dh
F000:EF98  E8 E72A				call	sub_305			; (D6C5)
F000:EF9B  B0 0A				mov	al,0Ah
F000:EF9D  E8 E725				call	sub_305			; (D6C5)
F000:EFA0  C3					retn
				sub_371		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:AE8F, C6F2, C6FF, C728, C73E, C893
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_372		proc	near
F000:EFA1  B9 4000				mov	cx,4000h
F000:EFA4  33 F6				xor	si,si			; Zero register
F000:EFA6  33 FF				xor	di,di			; Zero register
						assume	ds:seg_d
F000:EFA8  2E: F6 06 8281 40			test	cs:data_129,40h		; (F000:8281=0) '@'
F000:EFAE  75 04				jnz	short loc_1289		; Jump if not zero
F000:EFB0  F3/ 66| A5				rep	movsd			; Rep when cx >0 Mov [si] to es:[di]
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 331

F000:EFB3  C3					retn
F000:EFB4			loc_1289:					;  xref F000:EFAE
F000:EFB4  B5 80				mov	ch,80h
F000:EFB6  F3/ A5				rep	movsw			; Rep when cx >0 Mov [si] to es:[di]
F000:EFB8  C3					retn
				sub_372		endp

F000:EFB9  000E[00]				db	14 dup (0)
F000:EFC7  DF			diskette7info_1	db	0DFh			;  xref F000:FF1F
F000:EFC8  02			diskette7info_2	db	2
F000:EFC9  25			dsk7motor_delay	db	25h
F000:EFCA  02			dsk7sectr_bytes	db	2
F000:EFCB  24			dsk7sector_trac	db	24h
F000:EFCC  1B			dsk7head_gap	db	1Bh
F000:EFCD  FF			dsk7data_length	db	0FFh
F000:EFCE  54			dsk7format_gap	db	54h
F000:EFCF  F6			dsk7format_byte	db	0F6h
F000:EFD0  0F			dsk7settlg_time	db	0Fh
F000:EFD1  08			dsk7startup_tim	db	8

F000:EFD2			int_17h_entry:					;  xref F000:FF11
F000:EFD2  E9 08B4				jmp	int_17h_printer		; (F889)
F000:EFD5			loc_1290:					;  xref F000:F030
F000:EFD5 њ33 DB				xor	bx,bx			; Zero register
F000:EFD7  B4 00				mov	ah,0
F000:EFD9  B9 00B7				mov	cx,0B7h
F000:EFDC			loc_1291:					;  xref F000:EFF8
F000:EFDC  8A C1				mov	al,cl
F000:EFDE  E6 70				out	70h,al			; port 70h, CMOS addr,bit7=NMI
										;  al = 0B7h, BCD year/100
F000:EFE0  E3 00				jcxz	short $+2		; delay for I/O
F000:EFE2  E3 00				jcxz	short $+2		; delay for I/O
F000:EFE4  E4 71				in	al,71h			; port 71h, CMOS data
F000:EFE6  E3 00				jcxz	short $+2		; delay for I/O
F000:EFE8  03 D8				add	bx,ax
F000:EFEA  41					inc	cx
F000:EFEB  81 F9 00BE				cmp	cx,0BEh
F000:EFEF  75 02				jne	short loc_1292		; Jump if not equal
F000:EFF1  41					inc	cx
F000:EFF2  41					inc	cx
F000:EFF3			loc_1292:					;  xref F000:EFEF
F000:EFF3  2E: 3B 0E 82CA			cmp	cx,cs:data_132		; (F000:82CA=0D5h)
F000:EFF8  76 E2				jbe	loc_1291		; Jump if below or =
F000:EFFA  FF E7				jmp	di			;*Register jump
F000:EFFC			loc_1293:					;  xref F000:F01C
F000:EFFC њ33 DB				xor	bx,bx			; Zero register
F000:EFFE  B4 00				mov	ah,0
F000:F000  B1 90				mov	cl,90h
F000:F002			loc_1294:					;  xref F000:F015
F000:F002  8A C1				mov	al,cl
F000:F004  E6 70				out	70h,al			; port 70h, CMOS addr,bit7=NMI
										;  al = 90h, floppy drive type
F000:F006  E3 00				jcxz	short $+2		; delay for I/O
F000:F008  E3 00				jcxz	short $+2		; delay for I/O
F000:F00A  E4 71				in	al,71h			; port 71h, CMOS data
F000:F00C  E3 00				jcxz	short $+2		; delay for I/O
F000:F00E  03 D8				add	bx,ax
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 332

F000:F010  FE C1				inc	cl
F000:F012  80 F9 AD				cmp	cl,0ADh
F000:F015  76 EB				jbe	loc_1294		; Jump if below or =
F000:F017  FF E7				jmp	di			;*
							                        ;* No entry point to code
F000:F019  BF F01E				mov	di,0F01Eh
F000:F01C  EB DE				jmp	short loc_1293		; (EFFC)
							                        ;* No entry point to code
F000:F01E  B0 AE				mov	al,0AEh
F000:F020  8A E7				mov	ah,bh
F000:F022  E8 FBC5				call	sub_349			; (EBEA)
F000:F025  B0 AF				mov	al,0AFh
F000:F027			loc_1295:					;  xref F000:F03B
F000:F027 њ8A E3				mov	ah,bl
F000:F029  E8 FBBE				call	sub_349			; (EBEA)
F000:F02C  C3					retn
							                        ;* No entry point to code
F000:F02D  BF F032				mov	di,0F032h
F000:F030  EB A3				jmp	short loc_1290		; (EFD5)
							                        ;* No entry point to code
F000:F032  B0 BE				mov	al,0BEh
F000:F034  8A E7				mov	ah,bh
F000:F036  E8 FBB1				call	sub_349			; (EBEA)
F000:F039  B0 BF				mov	al,0BFh
F000:F03B  EB EA				jmp	short loc_1295		; (F027)
F000:F03D  0028[00]				db	40 dup (0)

F000:F065			int_10h_entry:					;  xref F000:FF03
F000:F065  E9 84C0		;*		jmp	int_10h_video		;*(7528)
F000:F065  E9 C0 84				db	0E9h,0C0h, 84h
F000:F068  00 00				db	0, 0

F000:F06A			ROM_exception	proc	near			;  xref F000:8549, B38B, E160, E168
										;            E170, E178, E180, E188
										;            E190, E198, E1A8, E1B0
										;            E1B8, E1C0, E1C8, E1D0
										;            E1E0, E1E8, E1F0, E1F8
										;            E200, E208, E210, E218
										;            E220, E228, E230, E238
										;            E240, E248, E250, E258
F000:F06A  FA					cli				; Disable interrupts
F000:F06B  2E: F6 06 8281 40			test	cs:data_129,40h		; (F000:8281=0) '@'
F000:F071  74 03				jz	short loc_1296		; Jump if zero
F000:F073  E9 C431				jmp	loc_800			; (B4A7)
F000:F076			loc_1296:					;  xref F000:F071
F000:F076  2E: 0F 01 16 E268			lgdt	fword ptr cs:gdt_limit_1	; (F000:E268=60h) Load global des tbl
F000:F07C  B8 0040				mov	ax,seg_b
F000:F07F  8E D8				mov	ds,ax
F000:F081  8E C0				mov	es,ax
F000:F083  8E D0				mov	ss,ax
F000:F085  0F 20 C0				mov	eax,cr0			; Mov reg-control reg
F000:F088  24 FE				and	al,0FEh
F000:F08A  0F 22 C0				mov	cr0,eax			; Mov reg-control reg
F000:F08D  EA F000F092				jmp	far ptr loc_1297	; (F092)
F000:F092			loc_1297:					;  xref F000:F08D
F000:F092  2E: 0F 01 1E E2B8			lidt	fword ptr cs:data_263	; (F000:E2B8=3FFh) Load int des table
F000:F098  E9 EFC0				jmp	loc_1157		; (E05B)
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 333

F000:F09B  0009[00]				db	9 dup (0)
F000:F0A4  38 28 2D 0A 1F 06	video_hdwr_tbl1	db	 38h, 28h, 2Dh, 0Ah, 1Fh, 06h	;  xref F000:FF1D
F000:F0AA  19 1C 02 07 06 07			db	 19h, 1Ch, 02h, 07h, 06h, 07h
F000:F0B0  00 00 00 00				db	 00h, 00h, 00h, 00h
F000:F0B4  71 50 5A 0A 1F 06	video_hdrw_tbl2	db	 71h, 50h, 5Ah, 0Ah, 1Fh, 06h
F000:F0BA  19 1C 02 07 06 07			db	 19h, 1Ch, 02h, 07h, 06h, 07h
F000:F0C0  00 00 00 00				db	 00h, 00h, 00h, 00h
F000:F0C4  38 28 2D 0A 7F 06	video_hdwr_tbl3	db	 38h, 28h, 2Dh, 0Ah, 7Fh, 06h
F000:F0CA  64 70 02 01 06 07			db	 64h, 70h, 02h, 01h, 06h, 07h
F000:F0D0  00 00 00 00				db	 00h, 00h, 00h, 00h
F000:F0D4  61 50 52 0F 19 06	video_hdwr_tbl4	db	 61h, 50h, 52h, 0Fh, 19h, 06h
F000:F0DA  19 19 02 0D 0B 0C			db	 19h, 19h, 02h, 0Dh, 0Bh, 0Ch
F000:F0E0  00 00 00 00				db	 00h, 00h, 00h, 00h
F000:F0E4  0800			video_buf_size1	dw	800h
F000:F0E6  1000			video_buf_size2	dw	1000h
F000:F0E8  4000			video_buf_size3	dw	4000h
F000:F0EA  4000			video_buf_size4	dw	4000h
F000:F0EC  28 28 50 50 28 28	video_columntbl	db	 28h, 28h, 50h, 50h, 28h, 28h
F000:F0F2  50 50				db	 50h, 50h
F000:F0F4  2C 28 2D 29 2A 2E	video_hdwr_mode	db	 2Ch, 28h, 2Dh, 29h, 2Ah, 2Eh	;  xref F000:75A4
F000:F0FA  1E 29				db	 1Eh, 29h
F000:F0FC  03			data_289	db	3			;  xref F000:770E
F000:F0FD  03 05 05 03 03 03			db	 03h, 05h, 05h, 03h, 03h, 03h
F000:F103  04 00 C8 00 00			db	 04h, 00h,0C8h, 00h, 00h
F000:F108			loc_1298:					;  xref F000:85EC
F000:F108  55					push	bp
F000:F109  1E					push	ds
F000:F10A  57					push	di
F000:F10B  50					push	ax
F000:F10C  3C 08				cmp	al,8
F000:F10E  73 29				jae	short loc_1301		; Jump if above or =
F000:F110  6A 40				push	40h
F000:F112  1F					pop	ds
						assume	ds:seg_b
F000:F113  8E 1E 000E				mov	ds,BIOS_data_seg	; (0040:000E=0)
F000:F117  B4 00				mov	ah,0
F000:F119  D1 E0				shl	ax,1			; Shift w/zeros fill
F000:F11B  8B F8				mov	di,ax
F000:F11D  2E: FF 95 F13E			call	word ptr cs:data_290[di]	;*(F000:F13E=0F14Eh) 8 entries
F000:F122			loc_1299:					;  xref F000:F13C
F000:F122 њ8B EC				mov	bp,sp
F000:F124  88 66 01				mov	[bp+1],ah
F000:F127  B8 0201				mov	ax,201h
F000:F12A  72 05				jc	short loc_1300		; Jump if carry Set
F000:F12C  80 66 0C FE				and	byte ptr [bp+0Ch],0FEh
F000:F130  48					dec	ax
F000:F131			loc_1300:					;  xref F000:F12A
F000:F131  09 46 0C				or	[bp+0Ch],ax
F000:F134  58					pop	ax
F000:F135  5F					pop	di
F000:F136  1F					pop	ds
F000:F137  5D					pop	bp
F000:F138  CF					iret				; Interrupt return
				ROM_exception	endp

F000:F139			loc_1301:					;  xref F000:F10E
F000:F139  B4 01				mov	ah,1
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 334

F000:F13B  F9					stc				; Set carry flag
F000:F13C  EB E4				jmp	short loc_1299		; (F122)
F000:F13E  F14E			data_290	dw	offset sub_373		; Data table (indexed access) (F14E)
										;  xref F000:F11D
F000:F140  F193			data_291	dw	offset sub_375		; (F193)
										;  xref F000:F11D
F000:F142  F19F			data_292	dw	offset sub_376		; (F19F)
										;  xref F000:F11D
F000:F144  F1D4			data_293	dw	offset sub_377		; (F1D4)
										;  xref F000:F11D
F000:F146  F1DE			data_294	dw	offset sub_378		; (F1DE)
										;  xref F000:F11D
F000:F148  F1E9			data_295	dw	offset sub_379		; (F1E9)
										;  xref F000:F11D
F000:F14A  F174			data_296	dw	offset sub_374		; (F174)
										;  xref F000:F11D
F000:F14C  F226			data_297	dw	offset sub_380		; (F226)
										;  xref F000:F11D

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:F11D, F13E
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_373		proc	near
F000:F14E  80 FF 01				cmp	bh,1
F000:F151  72 06				jb	short loc_1304		; Jump if below
F000:F153  74 12				jz	short loc_1306		; Jump if zero
F000:F155			loc_1302:					;  xref F000:F177
F000:F155  B4 01				mov	ah,1
F000:F157			loc_1303:					;  xref F000:F16E
F000:F157  F9					stc				; Set carry flag
F000:F158  C3					retn
F000:F159			loc_1304:					;  xref F000:F151
F000:F159  B0 F5				mov	al,0F5h
F000:F15B			loc_1305:					;  xref F000:F172, F186
						assume	ds:seg_a
F000:F15B њ80 0E 0026 80			or	byte ptr vector_9h_seg,80h	; (0000:0026=6Dh)
F000:F160  BF 00FF				mov	di,0FFh
F000:F163  E8 013A				call	sub_382			; (F2A0)
F000:F166  C3					retn
F000:F167			loc_1306:					;  xref F000:F153
						assume	ds:seg_b
F000:F167  F6 06 0027 80			test	byte ptr keybd_queue+9,80h	; [0040:0027=50h]
F000:F16C  B4 05				mov	ah,5
F000:F16E  74 E7				jz	loc_1303		; Jump if zero
F000:F170  B0 F4				mov	al,0F4h
F000:F172  EB E7				jmp	short loc_1305		; (F15B)
				sub_373		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:F11D, F14A
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 335


				sub_374		proc	near
F000:F174  80 FF 02				cmp	bh,2
F000:F177  77 DC				ja	loc_1302		; Jump if above
F000:F179  0A FF				or	bh,bh			; Zero ?
F000:F17B  74 0B				jz	short loc_1308		; Jump if zero
F000:F17D  80 FF 01				cmp	bh,1
F000:F180  B0 E6				mov	al,0E6h
F000:F182  74 02				jz	short loc_1307		; Jump if zero
F000:F184  FE C0				inc	al
F000:F186			loc_1307:					;  xref F000:F182
F000:F186  EB D3				jmp	short loc_1305		; (F15B)
F000:F188			loc_1308:					;  xref F000:F17B
F000:F188  86 F9				xchg	bh,cl
F000:F18A  B8 03E9				mov	ax,3E9h
F000:F18D  E8 00B7				call	sub_381			; (F247)
F000:F190  86 F9				xchg	bh,cl
F000:F192  C3					retn
				sub_374		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:F11D, F140, F206
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_375		proc	near
F000:F193  B8 02FF				mov	ax,2FFh
F000:F196  E8 00AE				call	sub_381			; (F247)
F000:F199  C6 06 0026 00			mov	byte ptr keybd_queue+8,0	; (0040:0026=0E0h)
F000:F19E  C3					retn
				sub_375		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:F11D, F142
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_376		proc	near
F000:F19F  80 FF 06				cmp	bh,6
F000:F1A2  77 25				ja	short loc_1311		; Jump if above
F000:F1A4  53					push	bx
F000:F1A5  8A DF				mov	bl,bh
F000:F1A7  B7 00				mov	bh,0
F000:F1A9  2E: 8A BF F1CD			mov	bh,cs:data_298[bx]	; (F000:F1CD=0Ah)
F000:F1AE  B0 F3				mov	al,0F3h
F000:F1B0			loc_1309:					;  xref F000:F1DC
						assume	ds:seg_a
F000:F1B0 њ80 0E 0026 80			or	byte ptr vector_9h_seg,80h	; (0000:0026=6Dh)
F000:F1B5  BF 00FF				mov	di,0FFh
F000:F1B8  E8 00E5				call	sub_382			; (F2A0)
F000:F1BB  72 0A				jc	short loc_1310		; Jump if carry Set
F000:F1BD  8A C7				mov	al,bh
F000:F1BF  80 0E 0026 80			or	byte ptr vector_9h_seg,80h	; (0000:0026=6Dh)
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 336

F000:F1C4  E8 00D9				call	sub_382			; (F2A0)
F000:F1C7			loc_1310:					;  xref F000:F1BB
F000:F1C7  5B					pop	bx
F000:F1C8  C3					retn
F000:F1C9			loc_1311:					;  xref F000:F1A2, F1D7, F1EC, F1F0
F000:F1C9  F9					stc				; Set carry flag
F000:F1CA  B4 02				mov	ah,2
F000:F1CC  C3					retn
				sub_376		endp

F000:F1CD  0A			data_298	db	0Ah			; Data table (indexed access)
										;  xref F000:F1A9
F000:F1CE  14 28 3C 50 64 C8			db	 14h, 28h, 3Ch, 50h, 64h,0C8h

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:F11D, F144
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_377		proc	near
F000:F1D4  80 FF 03				cmp	bh,3
F000:F1D7  77 F0				ja	loc_1311		; Jump if above
F000:F1D9  B0 E8				mov	al,0E8h
F000:F1DB  53					push	bx
F000:F1DC  EB D2				jmp	short loc_1309		; (F1B0)
				sub_377		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:F11D, F146
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_378		proc	near
F000:F1DE  86 DF				xchg	bl,bh
F000:F1E0  B8 01F2				mov	ax,1F2h
F000:F1E3  E8 0061				call	sub_381			; (F247)
F000:F1E6  86 DF				xchg	bl,bh
F000:F1E8  C3					retn
				sub_378		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:F11D, F148
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_379		proc	near
F000:F1E9  80 FF 08				cmp	bh,8
F000:F1EC  77 DB				ja	loc_1311		; Jump if above
F000:F1EE  0A FF				or	bh,bh			; Zero ?
F000:F1F0  74 D7				jz	loc_1311		; Jump if zero
F000:F1F2  53					push	bx
F000:F1F3  FE CF				dec	bh
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 337

F000:F1F5  FA					cli				; Disable interrupts
						assume	ds:seg_b
F000:F1F6  80 26 0027 F8			and	byte ptr keybd_queue+9,0F8h	; [0040:0027=50h]
F000:F1FB  80 CF 40				or	bh,40h			; '@'
F000:F1FE  08 3E 0027				or	byte ptr keybd_queue+9,bh	; (0040:0027=50h)
F000:F202  BB 0003				mov	bx,3
F000:F205  FB					sti				; Enable interrupts
F000:F206			loc_1312:					;  xref F000:F20C
F000:F206  E8 FF8A				call	sub_375			; (F193)
F000:F209  73 0B				jnc	short loc_1313		; Jump if carry=0
F000:F20B  4B					dec	bx
F000:F20C  75 F8				jnz	loc_1312		; Jump if not zero
F000:F20E  80 26 0027 B8			and	byte ptr keybd_queue+9,0B8h	; (0040:0027=50h)
F000:F213  F9					stc				; Set carry flag
F000:F214  5B					pop	bx
F000:F215  C3					retn
F000:F216			loc_1313:					;  xref F000:F209
F000:F216  E4 A1				in	al,0A1h			; port 0A1h, 8259-2 int IMR
F000:F218  E3 00				jcxz	short $+2		; delay for I/O
F000:F21A  E3 00				jcxz	short $+2		; delay for I/O
F000:F21C  E3 00				jcxz	short $+2		; delay for I/O
F000:F21E  24 EF				and	al,0EFh
F000:F220  E6 A1				out	0A1h,al			; port 0A1h, 8259-2 int comands
F000:F222  32 E4				xor	ah,ah			; Zero register
F000:F224  5B					pop	bx
F000:F225  C3					retn
				sub_379		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:F11D, F14C
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_380		proc	near
F000:F226  50					push	ax
F000:F227 њBF 0022				mov	di,offset vector_8h_seg	; (0000:0022=6Dh)
F000:F22A  8C C0				mov	ax,es
F000:F22C  FA					cli				; Disable interrupts
F000:F22D  89 1D				mov	[di],bx
F000:F22F  89 45 02				mov	[di+2],ax
F000:F232  0B C3				or	ax,bx
F000:F234  A0 0027				mov	al,byte ptr keybd_queue+9	; [0040:0027=50h]
F000:F237  75 04				jnz	short loc_1314		; Jump if not zero
F000:F239  24 7F				and	al,7Fh
F000:F23B  EB 02				jmp	short loc_1315		; (F23F)
F000:F23D			loc_1314:					;  xref F000:F237
F000:F23D  0C 80				or	al,80h
F000:F23F			loc_1315:					;  xref F000:F23B
F000:F23F  A2 0027				mov	byte ptr keybd_queue+9,al	; (0040:0027=50h)
F000:F242  58					pop	ax
F000:F243  FB					sti				; Enable interrupts
F000:F244  32 E4				xor	ah,ah			; Zero register
F000:F246  C3					retn
				sub_380		endp

           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 338


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:F18D, F196, F1E3
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_381		proc	near
F000:F247  50					push	ax
F000:F248  E8 00EB				call	sub_385			; (F336)
F000:F24B  58					pop	ax
F000:F24C  75 4E				jnz	short loc_1319		; Jump if not zero
F000:F24E  50					push	ax
F000:F24F  33 FF				xor	di,di			; Zero register
F000:F251  E8 004C				call	sub_382			; (F2A0)
F000:F254  5F					pop	di
F000:F255  72 47				jc	short loc_1320		; Jump if carry Set
F000:F257  8B C7				mov	ax,di
F000:F259  E8 00A3				call	sub_383			; (F2FF)
F000:F25C  75 3E				jnz	short loc_1319		; Jump if not zero
F000:F25E  3C FA				cmp	al,0FAh
F000:F260  75 2C				jne	short loc_1318		; Jump if not equal
F000:F262  E8 009A				call	sub_383			; (F2FF)
F000:F265  75 35				jnz	short loc_1319		; Jump if not zero
F000:F267  8A D8				mov	bl,al
F000:F269  FE CC				dec	ah
F000:F26B  74 12				jz	short loc_1316		; Jump if zero
F000:F26D  E8 008F				call	sub_383			; (F2FF)
F000:F270  75 2A				jnz	short loc_1319		; Jump if not zero
F000:F272  8A F8				mov	bh,al
F000:F274  FE CC				dec	ah
F000:F276  74 07				jz	short loc_1316		; Jump if zero
F000:F278  E8 0084				call	sub_383			; (F2FF)
F000:F27B  75 1F				jnz	short loc_1319		; Jump if not zero
F000:F27D  8A D0				mov	dl,al
F000:F27F			loc_1316:					;  xref F000:F26B, F276
F000:F27F  F6 06 0027 40			test	byte ptr keybd_queue+9,40h	; (0040:0027=50h) '@'
F000:F284  74 05				jz	short loc_1317		; Jump if zero
F000:F286  E8 00B1				call	sub_386			; (F33A)
F000:F289  75 11				jnz	short loc_1319		; Jump if not zero
F000:F28B			loc_1317:					;  xref F000:F284
F000:F28B  32 E4				xor	ah,ah			; Zero register
F000:F28D  C3					retn
F000:F28E			loc_1318:					;  xref F000:F260
F000:F28E  F6 06 0027 40			test	byte ptr keybd_queue+9,40h	; (0040:0027=50h) '@'
F000:F293  B4 04				mov	ah,4
F000:F295  74 07				jz	short loc_1320		; Jump if zero
F000:F297  E8 00A0				call	sub_386			; (F33A)
F000:F29A  74 02				jz	short loc_1320		; Jump if zero
F000:F29C			loc_1319:					;  xref F000:F24C, F25C, F265, F270
										;            F27B, F289
F000:F29C  B4 03				mov	ah,3
F000:F29E			loc_1320:					;  xref F000:F255, F295, F29A
F000:F29E  F9					stc				; Set carry flag
F000:F29F  C3					retn
				sub_381		endp

           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 339


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:F163, F1B8, F1C4, F251
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_382		proc	near
F000:F2A0  51					push	cx
F000:F2A1  B9 0010				mov	cx,10h

F000:F2A4			locloop_1321:					;  xref F000:F2B4
F000:F2A4  50					push	ax
F000:F2A5  51					push	cx
F000:F2A6  FA					cli				; Disable interrupts
F000:F2A7  B0 D4				mov	al,0D4h
F000:F2A9  E8 FA29				call	sub_361			; (ECD5)
F000:F2AC  59					pop	cx
F000:F2AD  58					pop	ax
F000:F2AE  75 29				jnz	short loc_1325		; Jump if not zero
F000:F2B0  E8 0063				call	sub_384			; (F316)
F000:F2B3  FB					sti				; Enable interrupts
F000:F2B4  E0 EE				loopnz	locloop_1321		; Loop if zf=0, cx>0

F000:F2B6  75 21				jnz	short loc_1325		; Jump if not zero
F000:F2B8  F7 C7 00FF				test	di,0FFh
F000:F2BC  75 02				jnz	short loc_1322		; Jump if not zero
F000:F2BE  59					pop	cx
F000:F2BF  C3					retn
F000:F2C0			loc_1322:					;  xref F000:F2BC
F000:F2C0  B9 0010				mov	cx,10h

F000:F2C3			locloop_1323:					;  xref F000:F2CE
F000:F2C3  51					push	cx
F000:F2C4  33 C9				xor	cx,cx			; Zero register

F000:F2C6			locloop_1324:					;  xref F000:F2CB
						assume	ds:seg_a
F000:F2C6  F6 06 0026 80			test	byte ptr vector_9h_seg,80h	; (0000:0026=6Dh)
F000:F2CB  E0 F9				loopnz	locloop_1324		; Loop if zf=0, cx>0

F000:F2CD  59					pop	cx
F000:F2CE  E0 F3				loopnz	locloop_1323		; Loop if zf=0, cx>0

F000:F2D0  74 12				jz	short loc_1327		; Jump if zero
F000:F2D2  E8 0081				call	sub_387			; (F356)
F000:F2D5  75 02				jnz	short loc_1325		; Jump if not zero
F000:F2D7  E4 60				in	al,60h			; port 60h, keybd scan or sw1
F000:F2D9			loc_1325:					;  xref F000:F2AE, F2B6, F2D5, F2F0
F000:F2D9  FB					sti				; Enable interrupts
F000:F2DA  B4 03				mov	ah,3
F000:F2DC			loc_1326:					;  xref F000:F2F4
F000:F2DC њ80 26 0026 07			and	byte ptr vector_9h_seg,7	; (0000:0026=6Dh)
F000:F2E1  F9					stc				; Set carry flag
F000:F2E2  59					pop	cx
F000:F2E3  C3					retn
F000:F2E4			loc_1327:					;  xref F000:F2D0
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 340

F000:F2E4  F6 06 0026 20			test	byte ptr vector_9h_seg,20h	; (0000:0026=6Dh) ' '
F000:F2E9  75 0B				jnz	short loc_1328		; Jump if not zero
F000:F2EB  F6 06 0026 40			test	byte ptr vector_9h_seg,40h	; (0000:0026=6Dh) '@'
F000:F2F0  74 E7				jz	loc_1325		; Jump if zero
F000:F2F2  B4 04				mov	ah,4
F000:F2F4  EB E6				jmp	short loc_1326		; (F2DC)
F000:F2F6			loc_1328:					;  xref F000:F2E9
F000:F2F6  80 26 0026 07			and	byte ptr vector_9h_seg,7	; (0000:0026=6Dh)
F000:F2FB  32 E4				xor	ah,ah			; Zero register
F000:F2FD  59					pop	cx
F000:F2FE  C3					retn
				sub_382		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:F259, F262, F26D, F278
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_383		proc	near
F000:F2FF  51					push	cx
F000:F300  50					push	ax
F000:F301  B9 0010				mov	cx,10h

F000:F304			locloop_1329:					;  xref F000:F30D
F000:F304  51					push	cx
F000:F305  33 C9				xor	cx,cx			; Zero register

F000:F307			locloop_1330:					;  xref F000:F30A
F000:F307  E8 004C				call	sub_387			; (F356)
F000:F30A  E0 FB				loopnz	locloop_1330		; Loop if zf=0, cx>0

F000:F30C  59					pop	cx
F000:F30D  E0 F5				loopnz	locloop_1329		; Loop if zf=0, cx>0

F000:F30F  58					pop	ax
F000:F310  75 02				jnz	short loc_1331		; Jump if not zero
F000:F312  E4 60				in	al,60h			; port 60h, keybd scan or sw1
F000:F314			loc_1331:					;  xref F000:F310
F000:F314  59					pop	cx
F000:F315  C3					retn
				sub_383		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:F2B0, F34D
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_384		proc	near
F000:F316  51					push	cx
F000:F317  50					push	ax
F000:F318  33 C9				xor	cx,cx			; Zero register

F000:F31A			locloop_1332:					;  xref F000:F323
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 341

F000:F31A  E8 0039				call	sub_387			; (F356)
F000:F31D  74 09				jz	short loc_1333		; Jump if zero
F000:F31F  A8 01				test	al,1
F000:F321  74 0C				jz	short loc_1334		; Jump if zero
F000:F323  E2 F5				loop	locloop_1332		; Loop if cx > 0

F000:F325  58					pop	ax
F000:F326  59					pop	cx
F000:F327  C3					retn
F000:F328			loc_1333:					;  xref F000:F31D
F000:F328  E4 60				in	al,60h			; port 60h, keybd scan or sw1
F000:F32A  80 26 0026 F8			and	byte ptr vector_9h_seg,0F8h	; (0000:0026=6Dh)
F000:F32F			loc_1334:					;  xref F000:F321
F000:F32F  32 E4				xor	ah,ah			; Zero register
F000:F331  58					pop	ax
F000:F332  E6 60				out	60h,al			; port 60h, keybd data write
F000:F334  59					pop	cx
F000:F335  C3					retn
				sub_384		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:F248
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_385		proc	near
F000:F336  B0 65				mov	al,65h			; 'e'
F000:F338  EB 02				jmp	short loc_1335		; (F33C)

				;пппп External Entry into Subroutine пппппппппппппппппппппппппппппппппппппп
				;
				;         Called from:   F000:F286, F297

				sub_386:
F000:F33A  B0 47				mov	al,47h			; 'G'
F000:F33C			loc_1335:					;  xref F000:F338
F000:F33C  51					push	cx
F000:F33D  50					push	ax
F000:F33E  FA					cli				; Disable interrupts
F000:F33F  B9 0010				mov	cx,10h

F000:F342			locloop_1336:					;  xref F000:F350
F000:F342  51					push	cx
F000:F343  B0 60				mov	al,60h			; '`'
F000:F345  E8 F98D				call	sub_361			; (ECD5)
F000:F348  59					pop	cx
F000:F349  75 07				jnz	short loc_1337		; Jump if not zero
F000:F34B  58					pop	ax
F000:F34C  50					push	ax
F000:F34D  E8 FFC6				call	sub_384			; (F316)
F000:F350  E0 F0				loopnz	locloop_1336		; Loop if zf=0, cx>0

F000:F352			loc_1337:					;  xref F000:F349
F000:F352  FB					sti				; Enable interrupts
F000:F353  58					pop	ax
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 342

F000:F354  59					pop	cx
F000:F355  C3					retn
				sub_385		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:F2D2, F307, F31A
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_387		proc	near
F000:F356  E4 64				in	al,64h			; port 64h, keyboard status
F000:F358  24 21				and	al,21h			; '!'
F000:F35A  3C 21				cmp	al,21h			; '!'
F000:F35C  C3					retn
				sub_387		endp


F000:F35D			int_5_prn_scrn	proc	near			;  xref F000:FF54
F000:F35D њ60					pusha				; Save all regs
F000:F35E  1E					push	ds
F000:F35F  6A 40				push	40h
F000:F361  1F					pop	ds
F000:F362  B0 01				mov	al,1
						assume	ds:seg_b
F000:F364  86 06 0100				xchg	prn_scrn_stat_b,al	; (0040:0100=0)
F000:F368  3C 01				cmp	al,1
F000:F36A  74 60				je	short loc_1344		; Jump if equal
F000:F36C  FB					sti				; Enable interrupts
F000:F36D  33 D2				xor	dx,dx			; Zero register
F000:F36F  B4 02				mov	ah,2
F000:F371  CD 17				int	17h			; Printer  dx=prn1, ah=func 02h
										;  read status, ah=return status
F000:F373  80 F4 80				xor	ah,80h
F000:F376  F6 C4 A9				test	ah,0A9h
F000:F379  74 07				jz	short loc_1338		; Jump if zero
F000:F37B  E8 FA82				call	sub_370			; (EE00)
F000:F37E  B1 FF				mov	cl,0FFh
F000:F380  EB 45				jmp	short loc_1343		; (F3C7)
F000:F382			loc_1338:					;  xref F000:F379
F000:F382  E8 004A				call	sub_388			; (F3CF)
F000:F385  E8 E329				call	sub_299			; (D6B1)
F000:F388  8A DC				mov	bl,ah
F000:F38A  E8 E32C				call	sub_301			; (D6B9)
F000:F38D  52					push	dx
F000:F38E  2B D2				sub	dx,dx
F000:F390			loc_1339:					;  xref F000:F3A8, F3B8
F000:F390  E8 E32C				call	sub_303			; (D6BF)
F000:F393  E8 E334				call	sub_306			; (D6CA)
F000:F396  22 C0				and	al,al
F000:F398  75 02				jnz	short loc_1340		; Jump if not zero
F000:F39A  B0 20				mov	al,20h			; ' '
F000:F39C			loc_1340:					;  xref F000:F398
F000:F39C  E8 003B				call	sub_389			; (F3DA)
F000:F39F  F6 C4 29				test	ah,29h			; ')'
F000:F3A2  75 1A				jnz	short loc_1341		; Jump if not zero
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 343

F000:F3A4  FE C2				inc	dl
F000:F3A6  38 DA				cmp	dl,bl
F000:F3A8  75 E6				jne	loc_1339		; Jump if not equal
F000:F3AA  2A D2				sub	dl,dl
F000:F3AC  E8 0020				call	sub_388			; (F3CF)
F000:F3AF  FE C6				inc	dh
F000:F3B1  A0 0084				mov	al,video_rows		; (0040:0084=18h)
F000:F3B4  FE C0				inc	al
F000:F3B6  38 C6				cmp	dh,al
F000:F3B8  75 D6				jne	loc_1339		; Jump if not equal
F000:F3BA  B1 00				mov	cl,0
F000:F3BC  EB 05				jmp	short loc_1342		; (F3C3)
F000:F3BE			loc_1341:					;  xref F000:F3A2
F000:F3BE  E8 FA3F				call	sub_370			; (EE00)
F000:F3C1  B1 FF				mov	cl,0FFh
F000:F3C3			loc_1342:					;  xref F000:F3BC
F000:F3C3  5A					pop	dx
F000:F3C4  E8 E2F8				call	sub_303			; (D6BF)
F000:F3C7			loc_1343:					;  xref F000:F380
F000:F3C7  FA					cli				; Disable interrupts
F000:F3C8  88 0E 0100				mov	prn_scrn_stat_b,cl	; (0040:0100=0)
F000:F3CC			loc_1344:					;  xref F000:F36A
F000:F3CC  1F					pop	ds
F000:F3CD  61					popa				; Restore all regs
F000:F3CE  CF					iret				; Interrupt return
				int_5_prn_scrn	endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:F382, F3AC
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_388		proc	near
F000:F3CF  B0 0D				mov	al,0Dh
F000:F3D1  E8 0006				call	sub_389			; (F3DA)
F000:F3D4  B0 0A				mov	al,0Ah
F000:F3D6  E8 0001				call	sub_389			; (F3DA)
F000:F3D9  C3					retn
				sub_388		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:F39C, F3D1, F3D6
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_389		proc	near
F000:F3DA  52					push	dx
F000:F3DB  33 D2				xor	dx,dx			; Zero register
F000:F3DD  32 E4				xor	ah,ah			; Zero register
F000:F3DF  CD 17				int	17h			; Printer  dx=prn1, ah=func 00h
										;  print char al, get status ah
F000:F3E1  5A					pop	dx
F000:F3E2  C3					retn
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 344

				sub_389		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:89B5, 8AAF
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_390		proc	near
F000:F3E3  E8 004B				call	sub_394			; (F431)
F000:F3E6  75 13				jnz	short loc_ret_1346	; Jump if not zero
F000:F3E8  84 26 0018				test	ah,keybd_flags_2	; (0040:0018=0)
F000:F3EC  75 0B				jnz	short loc_1345		; Jump if not zero
F000:F3EE  08 26 0018				or	keybd_flags_2,ah	; (0040:0018=0)
F000:F3F2  30 26 0017				xor	keybd_flags_1,ah	; (0040:0017=20h)
F000:F3F6  E8 EF53				call	sub_322			; (E34C)
F000:F3F9			loc_1345:					;  xref F000:F3EC
F000:F3F9  EB 11				jmp	short loc_1347		; (F40C)

F000:F3FB			loc_ret_1346:					;  xref F000:F3E6
F000:F3FB  C3					retn

				;пппп External Entry into Subroutine пппппппппппппппппппппппппппппппппппппп
				;
				;         Called from:   F000:89B8, 8A1A, 8AB6

				sub_391:
F000:F3FC  F6 06 0018 08			test	keybd_flags_2,8		; (0040:0018=0)
F000:F401  74 0C				jz	short loc_ret_1348	; Jump if zero
F000:F403  3C 45				cmp	al,45h			; 'E'
F000:F405  74 05				je	short loc_1347		; Jump if equal
F000:F407  80 26 0018 F7			and	keybd_flags_2,0F7h	; (0040:0018=0)
F000:F40C			loc_1347:					;  xref F000:F3F9, F405, F418, F424
F000:F40C  E9 9752				jmp	loc_356			; (8B61)

F000:F40F			loc_ret_1348:					;  xref F000:F401
F000:F40F  C3					retn
				sub_390		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:89C3, 89D0, 8A20, 8B36
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_392		proc	near
F000:F410  8A E0				mov	ah,al
F000:F412  FE C8				dec	al
F000:F414  2E: D7				xlat	cs:[bx]			; al=[al+[bx]] table
F000:F416  3C FF				cmp	al,0FFh
F000:F418  74 F2				je	loc_1347		; Jump if equal
F000:F41A  C3					retn
				sub_392		endp


           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 345

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:8B33
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_393		proc	near
F000:F41B  3C 52				cmp	al,52h			; 'R'
F000:F41D  75 11				jne	short loc_ret_1349	; Jump if not equal
F000:F41F  F6 06 0018 80			test	keybd_flags_2,80h	; (0040:0018=0)
F000:F424  75 E6				jnz	loc_1347		; Jump if not zero
F000:F426  80 0E 0018 80			or	keybd_flags_2,80h	; (0040:0018=0)
F000:F42B  80 36 0017 80			xor	keybd_flags_1,80h	; (0040:0017=20h)

F000:F430			loc_ret_1349:					;  xref F000:F41D
F000:F430  C3					retn
				sub_393		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:88A2, F3E3
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_394		proc	near
F000:F431  B4 40				mov	ah,40h			; '@'
F000:F433  3C 3A				cmp	al,3Ah			; ':'
F000:F435  74 0A				je	short loc_ret_1350	; Jump if equal
F000:F437  B4 20				mov	ah,20h			; ' '
F000:F439  3C 45				cmp	al,45h			; 'E'
F000:F43B  74 04				je	short loc_ret_1350	; Jump if equal
F000:F43D  B4 10				mov	ah,10h
F000:F43F  3C 46				cmp	al,46h			; 'F'

F000:F441			loc_ret_1350:					;  xref F000:F435, F43B
F000:F441  C3					retn
				sub_394		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:8891, 88C4, 8918, 8935
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_395		proc	near
F000:F442  B4 08				mov	ah,8
F000:F444  3C 38				cmp	al,38h			; '8'
F000:F446  74 10				je	short loc_ret_1351	; Jump if equal
F000:F448  B4 04				mov	ah,4
F000:F44A  3C 1D				cmp	al,1Dh
F000:F44C  74 0A				je	short loc_ret_1351	; Jump if equal

				;пппп External Entry into Subroutine пппппппппппппппппппппппппппппппппппппп
				;
				;         Called from:   F000:889D, 88D0, 8930, 893F
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 346


				sub_396:
F000:F44E  B4 02				mov	ah,2
F000:F450  3C 2A				cmp	al,2Ah			; '*'
F000:F452  74 04				je	short loc_ret_1351	; Jump if equal
F000:F454  B4 01				mov	ah,1
F000:F456  3C 36				cmp	al,36h			; '6'

F000:F458			loc_ret_1351:					;  xref F000:F446, F44C, F452
F000:F458  C3					retn
				sub_395		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:8979, 8A32, 8A70, 8AD0, 8B6B, 8BBD, AB20
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_397		proc	near
F000:F459  E8 EF70				call	sub_326			; (E3CC)
F000:F45C  B0 AE				mov	al,0AEh
F000:F45E  E6 64				out	64h,al			; port 64h, kybd cntrlr functn
										;  al = 0AEh, enable keyboard
F000:F460  FB					sti				; Enable interrupts
F000:F461  C3					retn
				sub_397		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:87F5, AB12
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_398		proc	near
F000:F462  E8 EF67				call	sub_326			; (E3CC)
F000:F465  B0 AD				mov	al,0ADh
F000:F467  E6 64				out	64h,al			; port 64h, kybd cntrlr functn
										;  al = 0ADh, disable keyboard
F000:F469  E8 EF60				call	sub_326			; (E3CC)
F000:F46C  E4 60				in	al,60h			; port 60h, keybd scan or sw1
F000:F46E  C3					retn
				sub_398		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:AB18, AB1D, AB26, E3A1, E3B7, E3C3
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_399		proc	near
F000:F46F  8A E0				mov	ah,al
F000:F471  B9 0003				mov	cx,3

F000:F474			locloop_1352:					;  xref F000:F494
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 347

F000:F474  51					push	cx
F000:F475  E8 EF54				call	sub_326			; (E3CC)
F000:F478  8A C4				mov	al,ah
F000:F47A  E6 60				out	60h,al			; port 60h, keybd data write
F000:F47C  80 26 0097 4F			and	keybd_flags_4,4Fh	; (0040:0097=12h) 'O'
F000:F481  FB					sti				; Enable interrupts
F000:F482  33 C9				xor	cx,cx			; Zero register

F000:F484			locloop_1353:					;  xref F000:F48B
F000:F484  F6 06 0097 30			test	keybd_flags_4,30h	; (0040:0097=12h) '0'
F000:F489  75 02				jnz	short loc_1354		; Jump if not zero
F000:F48B  E2 F7				loop	locloop_1353		; Loop if cx > 0

F000:F48D			loc_1354:					;  xref F000:F489
F000:F48D  FA					cli				; Disable interrupts
F000:F48E  59					pop	cx
F000:F48F  F6 06 0097 10			test	keybd_flags_4,10h	; (0040:0097=12h)
F000:F494  E1 DE				loopz	locloop_1352		; Loop if zf=1, cx>0

F000:F496  75 05				jnz	short loc_ret_1355	; Jump if not zero
F000:F498  80 0E 0097 80			or	keybd_flags_4,80h	; (0040:0097=12h)

F000:F49D			loc_ret_1355:					;  xref F000:F496
F000:F49D  C3					retn
				sub_399		endp

F000:F49E  F0 78 79 7A 7B 7C	key_scan_codes	db	0F0h, 78h, 79h, 7Ah, 7Bh, 7Ch
F000:F4A4  7D 7E 7F 80 81 82			db	 7Dh, 7Eh, 7Fh, 80h, 81h, 82h
F000:F4AA  83 F0 A5 10 11 12			db	 83h,0F0h,0A5h, 10h, 11h, 12h
F000:F4B0  13 14 15 16 17 18			db	 13h, 14h, 15h, 16h, 17h, 18h
F000:F4B6  19 F0 F0 F0 FF 1E			db	 19h,0F0h,0F0h,0F0h,0FFh, 1Eh
F000:F4BC  1F 20 21 22 23 24			db	 1Fh, 20h, 21h, 22h, 23h, 24h
F000:F4C2  25 26 F0 F0 F0 FF			db	 25h, 26h,0F0h,0F0h,0F0h,0FFh
F000:F4C8  F0 2C 2D 2E 2F 30			db	0F0h, 2Ch, 2Dh, 2Eh, 2Fh, 30h
F000:F4CE  31 32 F0 F0 F0 FF			db	 31h, 32h,0F0h,0F0h,0F0h,0FFh
F000:F4D4  F0 FF 20 FF 68 69			db	0F0h,0FFh, 20h,0FFh, 68h, 69h
F000:F4DA  6A 6B 6C 6D 6E 6F			db	 6Ah, 6Bh, 6Ch, 6Dh, 6Eh, 6Fh
F000:F4E0  70 71 FF FF 07 08			db	 70h, 71h,0FFh,0FFh, 07h, 08h
F000:F4E6  09 F0 04 05 06 F0			db	 09h,0F0h, 04h, 05h, 06h,0F0h
F000:F4EC  01 02 03 00 53 FF			db	 01h, 02h, 03h, 00h, 53h,0FFh
F000:F4F2  FF FF 8B 8C BB E2			db	0FFh,0FFh, 8Bh, 8Ch,0BBh,0E2h
F000:F4F8  B3 E2 81 79 31 69			db	0B3h,0E2h, 81h, 79h, 31h, 69h
F000:F4FE  B1 C1 B9 59 FB F2			db	0B1h,0C1h,0B9h, 59h,0FBh,0F2h
F000:F504  E1 E1 D1 61 61 FB			db	0E1h,0E1h,0D1h, 61h, 61h,0FBh
F000:F50A  92 D1 59 B9 81 D9			db	 92h,0D1h, 59h,0B9h, 81h,0D9h
F000:F510  61 FB B2 89 E1 8B			db	 61h,0FBh,0B2h, 89h,0E1h, 8Bh
F000:F516  FF FE 67 04 03 FF			db	0FFh,0FEh, 67h, 04h, 03h,0FFh
F000:F51C  00 0F 1B FF 00 FF			db	 00h, 0Fh, 1Bh,0FFh, 00h,0FFh
F000:F522  FF FF 1E FF FF FF			db	0FFh,0FFh, 1Eh,0FFh,0FFh,0FFh
F000:F528  FF 1F FF 7F 94 11			db	0FFh, 1Fh,0FFh, 7Fh, 94h, 11h
F000:F52E  17 05 12 14 19 15			db	 17h, 05h, 12h, 14h, 19h, 15h
F000:F534  09 0F 10 1B 1D 0A			db	 09h, 0Fh, 10h, 1Bh, 1Dh, 0Ah
F000:F53A  FF 01 13 04 06 07			db	0FFh, 01h, 13h, 04h, 06h, 07h
F000:F540  08 0A 0B 0C FF FF			db	 08h, 0Ah, 0Bh, 0Ch,0FFh,0FFh
F000:F546  FF FF 1C 1A 18 03			db	0FFh,0FFh, 1Ch, 1Ah, 18h, 03h
F000:F54C  16 02 0E 0D FF FF			db	 16h, 02h, 0Eh, 0Dh,0FFh,0FFh
F000:F552  95 FF 96 FF 20 FF			db	 95h,0FFh, 96h,0FFh, 20h,0FFh
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 348

F000:F558  5E 5F 60 61 62 63			db	 5Eh, 5Fh, 60h, 61h, 62h, 63h
F000:F55E  64 65 66 67 45 46			db	 64h, 65h, 66h, 67h, 45h, 46h
F000:F564  77 8D 84 8E 73 8F			db	 77h, 8Dh, 84h, 8Eh, 73h, 8Fh
F000:F56A  74 90 75 91 76 92			db	 74h, 90h, 75h, 91h, 76h, 92h
F000:F570  93 FF FF FF 89 8A			db	 93h,0FFh,0FFh,0FFh, 89h, 8Ah
F000:F576  5F F2 5B 7F CA CA			db	 5Fh,0F2h, 5Bh, 7Fh,0CAh,0CAh
F000:F57C  F2 7F EE 5A 62 5A			db	0F2h, 7Fh,0EEh, 5Ah, 62h, 5Ah
F000:F582  2E 7A 4E 7F B2 1A			db	 2Eh, 7Ah, 4Eh, 7Fh,0B2h, 1Ah
F000:F588  32 2E 6A 4A 32 4F			db	 32h, 2Eh, 6Ah, 4Ah, 32h, 4Fh
F000:F58E  7F DA C6 EE DA FA			db	 7Fh,0DAh,0C6h,0EEh,0DAh,0FAh
F000:F594  4F 7F 3B 3B 4B 3B			db	 4Fh, 7Fh, 3Bh, 3Bh, 4Bh, 3Bh
F000:F59A  33 4B 1F 2B 1B 21			db	 33h, 4Bh, 1Fh, 2Bh, 1Bh, 21h
F000:F5A0  40 23 24 25 5E 26			db	 40h, 23h, 24h, 25h, 5Eh, 26h
F000:F5A6  2A 28 29 5F 2B 08			db	 2Ah, 28h, 29h, 5Fh, 2Bh, 08h
F000:F5AC  00 51 57 45 52 54			db	 00h, 51h, 57h, 45h, 52h, 54h
F000:F5B2  59 55 49 4F 50 7B			db	 59h, 55h, 49h, 4Fh, 50h, 7Bh
F000:F5B8  7D 0D FF 41 53 44			db	 7Dh, 0Dh,0FFh, 41h, 53h, 44h
F000:F5BE  46 47 48 4A 4B 4C			db	 46h, 47h, 48h, 4Ah, 4Bh, 4Ch
F000:F5C4  3A 22 7E FF 7C 5A			db	 3Ah, 22h, 7Eh,0FFh, 7Ch, 5Ah
F000:F5CA  58 43 56 42 4E 4D			db	 58h, 43h, 56h, 42h, 4Eh, 4Dh
F000:F5D0  3C 3E 3F FF 2A FF			db	 3Ch, 3Eh, 3Fh,0FFh, 2Ah,0FFh
F000:F5D6  20 FF 54 55 56 57			db	 20h,0FFh, 54h, 55h, 56h, 57h
F000:F5DC  58 59 5A 5B 5C 5D			db	 58h, 59h, 5Ah, 5Bh, 5Ch, 5Dh
F000:F5E2  FF FF 37 38 39 2D			db	0FFh,0FFh, 37h, 38h, 39h, 2Dh
F000:F5E8  34 35 36 2B 31 32			db	 34h, 35h, 36h, 2Bh, 31h, 32h
F000:F5EE  33 30 2E FF FF 7C			db	 33h, 30h, 2Eh,0FFh,0FFh, 7Ch
F000:F5F4  87 88 2A 35 36 37			db	 87h, 88h, 2Ah, 35h, 36h, 37h
F000:F5FA  38 39 3F 2F BB E2			db	 38h, 39h, 3Fh, 2Fh,0BBh,0E2h
F000:F600  B3 E2 81 79 31 69			db	0B3h,0E2h, 81h, 79h, 31h, 69h
F000:F606  B1 C1 B9 59 FB F2			db	0B1h,0C1h,0B9h, 59h,0FBh,0F2h
F000:F60C  E1 E1 D1 61 61 FB			db	0E1h,0E1h,0D1h, 61h, 61h,0FBh
F000:F612  92 D1 59 B9 81 D9			db	 92h,0D1h, 59h,0B9h, 81h,0D9h
F000:F618  61 FB B2 89 E1 8B			db	 61h,0FBh,0B2h, 89h,0E1h, 8Bh
F000:F61E  1B 31 32 33 34 35			db	 1Bh, 31h, 32h, 33h, 34h, 35h
F000:F624  36 37 38 39 30 2D			db	 36h, 37h, 38h, 39h, 30h, 2Dh
F000:F62A  3D 08 09 71 77 65			db	 3Dh, 08h, 09h, 71h, 77h, 65h
F000:F630  72 74 79 75 69 6F			db	 72h, 74h, 79h, 75h, 69h, 6Fh
F000:F636  70 5B 5D 0D FF 61			db	 70h, 5Bh, 5Dh, 0Dh,0FFh, 61h
F000:F63C  73 64 66 67 68 6A			db	 73h, 64h, 66h, 67h, 68h, 6Ah
F000:F642  6B 6C 3B 27 60 FF			db	 6Bh, 6Ch, 3Bh, 27h, 60h,0FFh
F000:F648  5C 7A 78 63 76 62			db	 5Ch, 7Ah, 78h, 63h, 76h, 62h
F000:F64E  6E 6D 2C 2E 2F FF			db	 6Eh, 6Dh, 2Ch, 2Eh, 2Fh,0FFh
F000:F654  2A FF 20 FF 3B 3C			db	 2Ah,0FFh, 20h,0FFh, 3Bh, 3Ch
F000:F65A  3D 3E 3F 40 41 42			db	 3Dh, 3Eh, 3Fh, 40h, 41h, 42h
F000:F660  43 44 FF FF 47 48			db	 43h, 44h,0FFh,0FFh, 47h, 48h
F000:F666  49 2D 4B F0 4D 2B			db	 49h, 2Dh, 4Bh,0F0h, 4Dh, 2Bh
F000:F66C  4F 50 51 52 53 FF			db	 4Fh, 50h, 51h, 52h, 53h,0FFh
F000:F672  FF 5C 85 86 5F F2			db	0FFh, 5Ch, 85h, 86h, 5Fh,0F2h
F000:F678  5B 7F CA CA F2 7F			db	 5Bh, 7Fh,0CAh,0CAh,0F2h, 7Fh
F000:F67E  EE 5A 62 5A 2E 7A			db	0EEh, 5Ah, 62h, 5Ah, 2Eh, 7Ah
F000:F684  4E 7F B2 1A 32 2E			db	 4Eh, 7Fh,0B2h, 1Ah, 32h, 2Eh
F000:F68A  6A 4A 32 4F 7F DA			db	 6Ah, 4Ah, 32h, 4Fh, 7Fh,0DAh
F000:F690  C6 EE DA FA 4F 7F			db	0C6h,0EEh,0DAh,0FAh, 4Fh, 7Fh
F000:F696  3B 3B 4B 3B 33 4B			db	 3Bh, 3Bh, 4Bh, 3Bh, 33h, 4Bh
F000:F69C  1F 2B				db	 1Fh, 2Bh
F000:F69E  F0			data_300	db	0F0h
F000:F69F  78 79 7A 7B 7C 7D			db	 78h, 79h, 7Ah, 7Bh, 7Ch, 7Dh
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 349

F000:F6A5  7E 7F 80 81 82 83			db	 7Eh, 7Fh, 80h, 81h, 82h, 83h
F000:F6AB  FF A5 10 11 12 13			db	0FFh,0A5h, 10h, 11h, 12h, 13h
F000:F6B1  14 15 16 17 18 19			db	 14h, 15h, 16h, 17h, 18h, 19h
F000:F6B7  FF FF A6 FF 1E 1F			db	0FFh,0FFh,0A6h,0FFh, 1Eh, 1Fh
F000:F6BD  20 21 22 23 24 25			db	 20h, 21h, 22h, 23h, 24h, 25h
F000:F6C3  26 FF FF FF FF FF			db	 26h,0FFh,0FFh,0FFh,0FFh,0FFh
F000:F6C9  2C 2D 2E 2F 30 31			db	 2Ch, 2Dh, 2Eh, 2Fh, 30h, 31h
F000:F6CF  32 FF FF A4 FF FF			db	 32h,0FFh,0FFh,0A4h,0FFh,0FFh
F000:F6D5  FF					db	0FFh
F000:F6D6  20					db	20h
F000:F6D7  000D[FF]				db	13 dup (0FFh)
F000:F6E4  97 98 99 F0 9B 9C			db	 97h, 98h, 99h,0F0h, 9Bh, 9Ch
F000:F6EA  9D F0 9F A0 A1 A2			db	 9Dh,0F0h, 9Fh,0A0h,0A1h,0A2h
F000:F6F0  A3 FF FF FF 8B 8C			db	0A3h,0FFh,0FFh,0FFh, 8Bh, 8Ch
F000:F6F6  BB E2 B3 E2 81 79			db	0BBh,0E2h,0B3h,0E2h, 81h, 79h
F000:F6FC  31 69 B1 C1 B9 59			db	 31h, 69h,0B1h,0C1h,0B9h, 59h
F000:F702  FB F2 E1 E1 D1 61			db	0FBh,0F2h,0E1h,0E1h,0D1h, 61h
F000:F708  61 FB 92 D1 59 B9			db	 61h,0FBh, 92h,0D1h, 59h,0B9h
F000:F70E  81 D9 61 FB B2 89			db	 81h,0D9h, 61h,0FBh,0B2h, 89h
F000:F714  E1 8B FF FE 67 04			db	0E1h, 8Bh,0FFh,0FEh, 67h, 04h
F000:F71A  03 FF 00 0F				db	 03h,0FFh, 00h, 0Fh

F000:F71E			int_70h_clock	proc	near			;  xref F000:FF23
F000:F71E  1E					push	ds
F000:F71F  50					push	ax
F000:F720  57					push	di
F000:F721			loc_1356:					;  xref F000:F75B, F763
F000:F721 њE8 F4AF				call	sub_346			; (EBD3)
F000:F724  A8 60				test	al,60h			; '`'
F000:F726			loc_1358:
F000:F726  74 3D				jz	short loc_1360		; Jump if zero
F000:F728  8A E0				mov	ah,al
F000:F72A  E8 F4A0				call	sub_345			; (EBCD)
F000:F72D  22 C4				and	al,ah
F000:F72F  50					push	ax
F000:F730  A8 40				test	al,40h			; '@'
F000:F732  74 24				jz	short loc_1359		; Jump if zero
F000:F734  6A 40				push	40h
F000:F736  1F					pop	ds
F000:F737  81 2E 009C 03D0			sub	timer_clk_low,3D0h	; (0040:009C=0)
F000:F73D  83 1E 009E 00			sbb	timer_clk_hi,0		; (0040:009E=0)
F000:F742  73 14				jnc	short loc_1359		; Jump if carry=0
F000:F744  E8 F486				call	sub_345			; (EBCD)
F000:F747  24 BF				and	al,0BFh
F000:F749  E8 F48D				call	sub_347			; (EBD9)
F000:F74C  C6 06 00A0 00			mov	timer_clk_flag,0	; (0040:00A0=0)
F000:F751  C5 3E 0098				lds	di,dword ptr @timer_wait_off	; (0040:0098=0) Load 32 bit ptr
F000:F755  C6 05 80				mov	byte ptr [di],80h
F000:F758			loc_1359:					;  xref F000:F732, F742
F000:F758  58					pop	ax
F000:F759  A8 20				test	al,20h			; ' '
F000:F75B  74 C4				jz	loc_1356		; Jump if zero
F000:F75D  FB					sti				; Enable interrupts
F000:F75E  52					push	dx
F000:F75F  CD 4A				int	4Ah			; RTC Alarm occurred
F000:F761  5A					pop	dx
F000:F762  FA					cli				; Disable interrupts
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 350

F000:F763  EB BC				jmp	short loc_1356		; (F721)
F000:F765			loc_1360:					;  xref F000:F726
F000:F765  B0 20				mov	al,20h			; ' '
F000:F767  E6 A0				out	0A0h,al			; port 0A0h, 8259-2 int command
										;  al = 20h, end of interrupt
F000:F769  E3 00				jcxz	short $+2		; delay for I/O
F000:F76B  E3 00				jcxz	short $+2		; delay for I/O
F000:F76D  E6 20				out	20h,al			; port 20h, 8259-1 int command
										;  al = 20h, end of interrupt
F000:F76F  5F					pop	di
F000:F770  58					pop	ax
F000:F771  1F					pop	ds
F000:F772  CF					iret				; Interrupt return
				int_70h_clock	endp


F000:F773			int_unused	proc	near			;  xref F000:EA77, FEE3, FEE5, FEE9
										;            FEEB, FEF7, FEF9, FEFB
										;            FEFD, FF27, FF29, FF2B
F000:F773  50					push	ax
F000:F774  52					push	dx
F000:F775  BA 0020				mov	dx,20h
F000:F778  E8 0041				call	sub_401			; (F7BC)
F000:F77B  74 20				jz	short loc_1362		; Jump if zero
F000:F77D  50					push	ax
F000:F77E  B2 A0				mov	dl,0A0h
F000:F780  E8 0039				call	sub_401			; (F7BC)
F000:F783  74 0D				jz	short loc_1361		; Jump if zero
F000:F785  B2 A1				mov	dl,0A1h
F000:F787  E8 001F				call	sub_400			; (F7A9)
F000:F78A  B0 20				mov	al,20h			; ' '
F000:F78C  E6 20				out	20h,al			; port 20h, 8259-1 int command
										;  al = 20h, end of interrupt
F000:F78E  58					pop	ax
F000:F78F  40					inc	ax
F000:F790  EB 0B				jmp	short loc_1362		; (F79D)
F000:F792			loc_1361:					;  xref F000:F783
F000:F792  58					pop	ax
F000:F793  24 FB				and	al,0FBh
F000:F795  B2 21				mov	dl,21h			; '!'
F000:F797  E8 000F				call	sub_400			; (F7A9)
F000:F79A  8A C4				mov	al,ah
F000:F79C  40					inc	ax
F000:F79D			loc_1362:					;  xref F000:F77B, F790
F000:F79D  48					dec	ax
F000:F79E  1E					push	ds
F000:F79F  6A 40				push	40h
F000:F7A1  1F					pop	ds
F000:F7A2  A2 006B				mov	gen_int_occured,al	; (0040:006B=0FFh)
F000:F7A5  1F					pop	ds
F000:F7A6  5A					pop	dx
F000:F7A7  58					pop	ax
F000:F7A8  CF					iret				; Interrupt return
				int_unused	endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 351

				;                              SUBROUTINE
				;
				;         Called from:   F000:F787, F797
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_400		proc	near
F000:F7A9  8A E0				mov	ah,al
F000:F7AB  EC					in	al,dx			; port 0A1h, 8259-2 int IMR
F000:F7AC  0A C4				or	al,ah
F000:F7AE  E3 00				jcxz	short $+2		; delay for I/O
F000:F7B0  E3 00				jcxz	short $+2		; delay for I/O
F000:F7B2  EE					out	dx,al			; port 0A1h, 8259-2 int comands
F000:F7B3  B0 20				mov	al,20h			; ' '
F000:F7B5  4A					dec	dx
F000:F7B6  E3 00				jcxz	short $+2		; delay for I/O
F000:F7B8  E3 00				jcxz	short $+2		; delay for I/O
F000:F7BA  EE					out	dx,al			; port 0A0h, 8259-2 int command
										;  al = 20h, end of interrupt
F000:F7BB  C3					retn
				sub_400		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:ED55, ED5E, F778, F780
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_401		proc	near
F000:F7BC  B0 0B				mov	al,0Bh
F000:F7BE  EE					out	dx,al			; port 20h, 8259-1 int command
										;  al = 0Bh, read InServiceReg
F000:F7BF  E3 00				jcxz	short $+2		; delay for I/O
F000:F7C1  E3 00				jcxz	short $+2		; delay for I/O
F000:F7C3  EC					in	al,dx			; port 20h, 8259-1 int IRR/ISR
F000:F7C4  0A C0				or	al,al			; Zero ?
F000:F7C6  C3					retn
				sub_401		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:FA24, FA2D
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_402		proc	near
F000:F7C7			loc_1363:					;  xref F000:F7D8
F000:F7C7  33 C9				xor	cx,cx			; Zero register

F000:F7C9			locloop_1364:					;  xref F000:F7D5
F000:F7C9  E8 BD2C				call	sub_206			; (B4F8)
F000:F7CC  EC					in	al,dx			; port 6, DMA-1 bas&add ch 3
F000:F7CD  8A E0				mov	ah,al
F000:F7CF  22 C3				and	al,bl
F000:F7D1  38 D8				cmp	al,bl
F000:F7D3  74 06				je	short loc_ret_1365	; Jump if equal
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 352

F000:F7D5  E2 F2				loop	locloop_1364		; Loop if cx > 0

F000:F7D7  4F					dec	di
F000:F7D8  75 ED				jnz	loc_1363		; Jump if not zero
F000:F7DA  4F					dec	di

F000:F7DB			loc_ret_1365:					;  xref F000:F7D3
F000:F7DB  C3					retn
				sub_402		endp

F000:F7DC  0065[00]				db	101 dup (0)

F000:F841			int_12h_memsiz	proc	near			;  xref F000:FF07
F000:F841  FB					sti				; Enable interrupts
F000:F842  1E					push	ds
F000:F843  6A 40				push	40h
F000:F845  1F					pop	ds
F000:F846  A1 0013				mov	ax,main_ram_size	; (0040:0013=280h)
F000:F849  1F					pop	ds
F000:F84A  CF					iret				; Interrupt return
				int_12h_memsiz	endp

F000:F84B  00 00				db	0, 0

F000:F84D			int_11h_equip	proc	near			;  xref F000:FF05
F000:F84D  E8 BCAD				call	sub_207			; (B4FD)
F000:F850  1E					push	ds
F000:F851  6A 40				push	40h
F000:F853  1F					pop	ds
F000:F854  A1 0010				mov	ax,equip_bits		; (0040:0010=4463h)
F000:F857  1F					pop	ds
F000:F858  CF					iret				; Interrupt return
				int_11h_equip	endp


F000:F859			int_15h_entry:					;  xref F000:FF0D
F000:F859  E9 9E24				jmp	int_15h_servics		; (9680)
F000:F85C  00 00				db	0, 0

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:9562, 9F6F, A2DF, A440, A7DC, A7E5, A82D
				;                             A863, A936, CF84, D07B, D1A7, D334, D36C
				;                             D384, D450, EE21, F8E6
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_403		proc	near
F000:F85E  50					push	ax
F000:F85F  2E: A0 8285				mov	al,cs:data_130		; (F000:8285=0)
F000:F863  0A C0				or	al,al			; Zero ?
F000:F865  75 15				jnz	short loc_1369		; Jump if not zero
F000:F867  90					nop
F000:F868			loc_1366:					;  xref F000:F86C, F878
F000:F868  E4 61				in	al,61h			; port 61h, 8255 port B, read
F000:F86A  A8 10				test	al,10h
F000:F86C  74 FA				jz	loc_1366		; Jump if zero
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 353

F000:F86E  49					dec	cx
F000:F86F  74 09				jz	short loc_1368		; Jump if zero
F000:F871			loc_1367:					;  xref F000:F875
F000:F871  E4 61				in	al,61h			; port 61h, 8255 port B, read
F000:F873  A8 10				test	al,10h
F000:F875  75 FA				jnz	loc_1367		; Jump if not zero
F000:F877  49					dec	cx
F000:F878  75 EE				jnz	loc_1366		; Jump if not zero
F000:F87A			loc_1368:					;  xref F000:F86F, F887
F000:F87A њ58					pop	ax
F000:F87B  C3					retn
F000:F87C			loc_1369:					;  xref F000:F865, F885
F000:F87C  2E: A0 8285				mov	al,cs:data_130		; (F000:8285=0)
F000:F880			loc_1370:					;  xref F000:F882
F000:F880  FE C8				dec	al
F000:F882  75 FC				jnz	loc_1370		; Jump if not zero
F000:F884  49					dec	cx
F000:F885  75 F5				jnz	loc_1369		; Jump if not zero
F000:F887  EB F1				jmp	short loc_1368		; (F87A)
				sub_403		endp


F000:F889			int_17h_printer	proc	near			;  xref F000:EFD2
F000:F889  FB					sti				; Enable interrupts
F000:F88A  E8 C41B				call	sub_231			; (BCA8)
F000:F88D  53					push	bx
F000:F88E  51					push	cx
F000:F88F  52					push	dx
F000:F890  1E					push	ds
F000:F891  6A 40				push	40h
F000:F893  1F					pop	ds
F000:F894  83 FA 03				cmp	dx,3
F000:F897  73 72				jae	short loc_1379		; Jump if above or =
F000:F899  8B DA				mov	bx,dx
F000:F89B  D1 E3				shl	bx,1			; Shift w/zeros fill
F000:F89D  8B 97 0008				mov	dx,@prn_port_1[bx]	; (0040:0008=378h)
F000:F8A1  23 D2				and	dx,dx
F000:F8A3  74 66				jz	short loc_1379		; Jump if zero
F000:F8A5  D0 EC				shr	ah,1			; Shift w/zeros fill
F000:F8A7  8A E0				mov	ah,al
F000:F8A9  75 51				jnz	short loc_1377		; Jump if not zero
F000:F8AB  72 31				jc	short loc_1374		; Jump if carry Set
F000:F8AD  EE					out	dx,al			; port 378h, printer-2 data
F000:F8AE  E8 BC47				call	sub_206			; (B4F8)
F000:F8B1  42					inc	dx
F000:F8B2  EC					in	al,dx			; port 379h, printer-2 status
F000:F8B3  A8 80				test	al,80h
F000:F8B5  75 07				jnz	short loc_1371		; Jump if not zero
F000:F8B7  50					push	ax
F000:F8B8  B8 90FE				mov	ax,90FEh
F000:F8BB  CD 15				int	15h			; General services, ah=func 90h
										;  device busy, al=type,
										;   es:bx=ptr of request block
F000:F8BD  58					pop	ax
F000:F8BE			loc_1371:					;  xref F000:F8B5
F000:F8BE  D1 EB				shr	bx,1			; Shift w/zeros fill
F000:F8C0  8A 9F 0078				mov	bl,prn_timeout_1[bx]	; (0040:0078=14h)
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 354

F000:F8C4  32 FF				xor	bh,bh			; Zero register
F000:F8C6  C1 E3 02				shl	bx,2			; Shift w/zeros fill
F000:F8C9			loc_1372:					;  xref F000:F8D6
F000:F8C9  33 C9				xor	cx,cx			; Zero register

F000:F8CB			locloop_1373:					;  xref F000:F8D3
F000:F8CB  E8 BC2A				call	sub_206			; (B4F8)
F000:F8CE  EC					in	al,dx			; port 379h, printer-2 status
F000:F8CF  A8 80				test	al,80h
F000:F8D1  75 18				jnz	short loc_1375		; Jump if not zero
F000:F8D3  E2 F6				loop	locloop_1373		; Loop if cx > 0

F000:F8D5  4B					dec	bx
F000:F8D6  75 F1				jnz	loc_1372		; Jump if not zero
F000:F8D8  24 F8				and	al,0F8h
F000:F8DA  0C 01				or	al,1
F000:F8DC  EB 29				jmp	short loc_1378		; (F907)
F000:F8DE			loc_1374:					;  xref F000:F8AB
F000:F8DE  B0 08				mov	al,8
F000:F8E0  42					inc	dx
F000:F8E1  42					inc	dx
F000:F8E2  EE					out	dx,al			; port 37Bh ??i/o non-standard
F000:F8E3  B9 0400				mov	cx,400h
F000:F8E6  E8 FF75				call	sub_403			; (F85E)
F000:F8E9  EB 0B				jmp	short loc_1376		; (F8F6)
F000:F8EB			loc_1375:					;  xref F000:F8D1
F000:F8EB  E8 BC0A				call	sub_206			; (B4F8)
F000:F8EE  B0 0D				mov	al,0Dh
F000:F8F0  42					inc	dx
F000:F8F1  FA					cli				; Disable interrupts
F000:F8F2  EE					out	dx,al			; port 37Ch ??i/o non-standard
F000:F8F3  E8 BC02				call	sub_206			; (B4F8)
F000:F8F6			loc_1376:					;  xref F000:F8E9
F000:F8F6  B0 0C				mov	al,0Ch
F000:F8F8  EE					out	dx,al			; port 37Ch ??i/o non-standard
F000:F8F9  FB					sti				; Enable interrupts
F000:F8FA  4A					dec	dx
F000:F8FB  4A					dec	dx
F000:F8FC			loc_1377:					;  xref F000:F8A9
F000:F8FC  42					inc	dx
F000:F8FD  E8 BBF8				call	sub_206			; (B4F8)
F000:F900  EC					in	al,dx			; port 37Bh ??i/o non-standard
F000:F901  E8 BBF4				call	sub_206			; (B4F8)
F000:F904  EC					in	al,dx			; port 37Bh ??i/o non-standard
F000:F905  24 F8				and	al,0F8h
F000:F907			loc_1378:					;  xref F000:F8DC
F000:F907  34 48				xor	al,48h			; 'H'
F000:F909  86 C4				xchg	al,ah
F000:F90B			loc_1379:					;  xref F000:F897, F8A3
F000:F90B  1F					pop	ds
F000:F90C  5A					pop	dx
F000:F90D  59					pop	cx
F000:F90E  5B					pop	bx
F000:F90F  E8 C396				call	sub_231			; (BCA8)
F000:F912  CF					iret				; Interrupt return
				int_17h_printer	endp

           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 355


F000:F913			int_14h_RS232	proc	near			;  xref F000:E739
F000:F913  FB					sti				; Enable interrupts
F000:F914  E8 C391				call	sub_231			; (BCA8)
F000:F917  83 FA 04				cmp	dx,4
F000:F91A  73 39				jae	short loc_1381		; Jump if above or =
F000:F91C  80 FC 06				cmp	ah,6
F000:F91F  73 34				jae	short loc_1381		; Jump if above or =
F000:F921  60					pusha				; Save all regs
F000:F922  8B EC				mov	bp,sp
F000:F924  1E					push	ds
F000:F925  6A 40				push	40h
F000:F927  1F					pop	ds
F000:F928  8B FA				mov	di,dx
F000:F92A  D1 E7				shl	di,1			; Shift w/zeros fill
F000:F92C  8B 95 0000				mov	dx,@rs232_port_1[di]	; (0040:0000=3F8h)
F000:F930  23 D2				and	dx,dx
F000:F932  74 1F				jz	short loc_1380		; Jump if zero
F000:F934  D1 EF				shr	di,1			; Shift w/zeros fill
F000:F936  8B BD 007C				mov	di,word ptr rs232_timeout_1[di]	; (0040:007C=101h)
F000:F93A  81 E7 00FF				and	di,0FFh
F000:F93E  C1 E7 02				shl	di,2			; Shift w/zeros fill
F000:F941  8A C4				mov	al,ah
F000:F943  B4 00				mov	ah,0
F000:F945  D1 E0				shl	ax,1			; Shift w/zeros fill
F000:F947  97					xchg	di,ax
F000:F948  2E: 8B BD F959			mov	di,cs:data_303[di]	; (F000:F959=0F965h)
F000:F94D  97					xchg	di,ax
F000:F94E  FF D0				call	ax			;*
F000:F950  89 46 0E				mov	[bp+0Eh],ax
F000:F953			loc_1380:					;  xref F000:F932
F000:F953  1F					pop	ds
F000:F954  61					popa				; Restore all regs
F000:F955			loc_1381:					;  xref F000:F91A, F91F
F000:F955  E8 C350				call	sub_231			; (BCA8)
F000:F958  CF					iret				; Interrupt return
				int_14h_RS232	endp

F000:F959  F965			data_303	dw	0F965h			; Data table (indexed access)
										;  xref F000:F948
F000:F95B  B5 F9 F3 F9 A6 F9			db	0B5h,0F9h,0F3h,0F9h,0A6h,0F9h
F000:F961  C8 F9 02 FA 8A 7E			db	0C8h,0F9h, 02h,0FAh, 8Ah, 7Eh
F000:F967  0E 8A DF 80 E7 1F			db	 0Eh, 8Ah,0DFh, 80h,0E7h, 1Fh
F000:F96D  C0 EB 05				db	0C0h,0EBh, 05h
F000:F970			loc_1382:					;  xref F000:F9F0
F000:F970 њB9 0417				mov	cx,417h
F000:F973  0A DB				or	bl,bl			; Zero ?
F000:F975  74 09				jz	short loc_1384		; Jump if zero
F000:F977  B9 0600				mov	cx,600h
F000:F97A			loc_1383:					;  xref F000:F97E
F000:F97A  D1 E9				shr	cx,1			; Shift w/zeros fill
F000:F97C  FE CB				dec	bl
F000:F97E  75 FA				jnz	loc_1383		; Jump if not zero
F000:F980			loc_1384:					;  xref F000:F975
F000:F980  B0 80				mov	al,80h
F000:F982  83 C2 03				add	dx,3
F000:F985  EE					out	dx,al			; port 3, DMA-1 bas&cnt ch 1
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 356

F000:F986  E8 BB6F				call	sub_206			; (B4F8)
F000:F989  52					push	dx
F000:F98A  8A C5				mov	al,ch
F000:F98C  4A					dec	dx
F000:F98D  4A					dec	dx
F000:F98E  EE					out	dx,al			; port 1, DMA-1 bas&cnt ch 0
F000:F98F  E8 BB66				call	sub_206			; (B4F8)
F000:F992  8A C1				mov	al,cl
F000:F994  4A					dec	dx
F000:F995  EE					out	dx,al			; port 0, DMA-1 bas&add ch 0
F000:F996  E8 BB5F				call	sub_206			; (B4F8)
F000:F999  5A					pop	dx
F000:F99A  8A C7				mov	al,bh
F000:F99C  EE					out	dx,al			; port 3, DMA-1 bas&cnt ch 1
F000:F99D  E8 BB58				call	sub_206			; (B4F8)
F000:F9A0  2A C0				sub	al,al
F000:F9A2  4A					dec	dx
F000:F9A3  4A					dec	dx
F000:F9A4  EE					out	dx,al			; port 1, DMA-1 bas&cnt ch 0
F000:F9A5  4A					dec	dx
F000:F9A6  83 C2 05				add	dx,5
F000:F9A9			loc_1385:					;  xref F000:FA19
F000:F9A9 њE8 BB4C				call	sub_206			; (B4F8)
F000:F9AC  EC					in	al,dx			; port 5, DMA-1 bas&cnt ch 2
F000:F9AD  E8 BB48				call	sub_206			; (B4F8)
F000:F9B0  8A E0				mov	ah,al
F000:F9B2  42					inc	dx
F000:F9B3  EC					in	al,dx			; port 6, DMA-1 bas&add ch 3
F000:F9B4  C3					retn
							                        ;* No entry point to code
F000:F9B5  B0 03				mov	al,3
F000:F9B7  BB 2030				mov	bx,2030h
F000:F9BA  E8 005F				call	sub_404			; (FA1C)
F000:F9BD  8A 46 0E				mov	al,[bp+0Eh]
F000:F9C0  75 02				jnz	short loc_1386		; Jump if not zero
F000:F9C2  EE					out	dx,al			; port 0, DMA-1 bas&add ch 0
F000:F9C3  C3					retn
F000:F9C4			loc_1386:					;  xref F000:F9C0, F9FB
F000:F9C4  80 CC 80				or	ah,80h
F000:F9C7  C3					retn
							                        ;* No entry point to code
F000:F9C8  B0 00				mov	al,0
F000:F9CA  80 7E 0E 00				cmp	byte ptr [bp+0Eh],0
F000:F9CE  74 02				je	short loc_1387		; Jump if equal
F000:F9D0  B0 40				mov	al,40h			; '@'
F000:F9D2			loc_1387:					;  xref F000:F9CE
F000:F9D2  0A FF				or	bh,bh			; Zero ?
F000:F9D4  74 10				jz	short loc_1389		; Jump if zero
F000:F9D6  0C 08				or	al,8
F000:F9D8  F6 C7 01				test	bh,1
F000:F9DB  75 02				jnz	short loc_1388		; Jump if not zero
F000:F9DD  0C 10				or	al,10h
F000:F9DF			loc_1388:					;  xref F000:F9DB
F000:F9DF  80 FF 02				cmp	bh,2
F000:F9E2  76 02				jbe	short loc_1389		; Jump if below or =
F000:F9E4  0C 20				or	al,20h			; ' '
F000:F9E6			loc_1389:					;  xref F000:F9D4, F9E2
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 357

F000:F9E6  0A DB				or	bl,bl			; Zero ?
F000:F9E8  74 02				jz	short loc_1390		; Jump if zero
F000:F9EA  0C 04				or	al,4
F000:F9EC			loc_1390:					;  xref F000:F9E8
F000:F9EC  0A E8				or	ch,al
F000:F9EE  8B D9				mov	bx,cx
F000:F9F0  E9 FF7D				jmp	loc_1382		; (F970)
							                        ;* No entry point to code
F000:F9F3  B0 01				mov	al,1
F000:F9F5  BB 0120				mov	bx,120h
F000:F9F8  E8 0021				call	sub_404			; (FA1C)
F000:F9FB  75 C7				jnz	loc_1386		; Jump if not zero
F000:F9FD  80 E4 1E				and	ah,1Eh
F000:FA00  EC					in	al,dx			; port 0, DMA-1 bas&add ch 0
F000:FA01  C3					retn
							                        ;* No entry point to code
F000:FA02  83 C2 04				add	dx,4
F000:FA05  80 7E 0E 01				cmp	byte ptr [bp+0Eh],1
F000:FA09  72 09				jb	short loc_1391		; Jump if below
F000:FA0B  77 0E				ja	short loc_ret_1393	; Jump if above
F000:FA0D  8A C3				mov	al,bl
F000:FA0F  24 1F				and	al,1Fh
F000:FA11  EE					out	dx,al			; port 4, DMA-1 bas&add ch 2
F000:FA12  EB 04				jmp	short loc_1392		; (FA18)
F000:FA14			loc_1391:					;  xref F000:FA09
F000:FA14  EC					in	al,dx			; port 4, DMA-1 bas&add ch 2
F000:FA15  88 46 08				mov	[bp+8],al
F000:FA18			loc_1392:					;  xref F000:FA12
F000:FA18  42					inc	dx
F000:FA19  EB 8E				jmp	short loc_1385		; (F9A9)

F000:FA1B			loc_ret_1393:					;  xref F000:FA0B
F000:FA1B  C3					retn

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:F9BA, F9F8
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_404		proc	near
F000:FA1C  52					push	dx
F000:FA1D  83 C2 04				add	dx,4
F000:FA20  EE					out	dx,al			; port 4, DMA-1 bas&add ch 2
F000:FA21  42					inc	dx
F000:FA22  42					inc	dx
F000:FA23  57					push	di
F000:FA24  E8 FDA0				call	sub_402			; (F7C7)
F000:FA27  5F					pop	di
F000:FA28  75 06				jnz	short loc_1394		; Jump if not zero
F000:FA2A  8A DF				mov	bl,bh
F000:FA2C  4A					dec	dx
F000:FA2D  E8 FD97				call	sub_402			; (F7C7)
F000:FA30			loc_1394:					;  xref F000:FA28
F000:FA30  5A					pop	dx
F000:FA31  C3					retn
				sub_404		endp
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 358


							                        ;* No entry point to code
F000:FA32  BD 0007				mov	bp,7
F000:FA35  E9 F522				jmp	loc_1279		; (EF5A)
F000:FA38  E8 CF F1 CD 19			db	0E8h,0CFh,0F1h,0CDh, 19h
F000:FA3D			loc_1395:					;  xref F000:877B
F000:FA3D  B0 AA				mov	al,0AAh
F000:FA3F  E8 DC6A				call	sub_298			; (D6AC)
F000:FA42			loc_1396:					;  xref F000:FA44
F000:FA42 њFB					sti				; Enable interrupts
F000:FA43  F4					hlt				; Halt processor
F000:FA44  EB FC				jmp	short loc_1396		; (FA42)
							                        ;* No entry point to code
F000:FA46  E4 60				in	al,60h			; port 60h, keybd scan or sw1
F000:FA48  B0 20				mov	al,20h			; ' '
F000:FA4A  E6 20				out	20h,al			; port 20h, 8259-1 int command
										;  al = 20h, end of interrupt
F000:FA4C  FF 2E 0067				jmp	dword ptr @gen_use_ptr	; (0040:0067=17A4h)

				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:AD8C
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_405		proc	near
F000:FA50  E8 DC72				call	sub_305			; (D6C5)
F000:FA53  FA					cli				; Disable interrupts
F000:FA54  FC					cld				; Clear direction
F000:FA55  B0 8D				mov	al,8Dh
F000:FA57  E6 70				out	70h,al			; port 70h, CMOS addr,bit7=NMI
										;  al = 8Dh, status register D
F000:FA59  C3					retn
				sub_405		endp

F000:FA5A  0014[00]				db	20 dup (0)
F000:FA6E  00 00 00 00 00 00	video_char_tbl	db	 00h, 00h, 00h, 00h, 00h, 00h
F000:FA74  00 00 7E 81 A5 81			db	 00h, 00h, 7Eh, 81h,0A5h, 81h
F000:FA7A  BD 99 81 7E 7E FF			db	0BDh, 99h, 81h, 7Eh, 7Eh,0FFh
F000:FA80  DB FF C3 E7 FF 7E			db	0DBh,0FFh,0C3h,0E7h,0FFh, 7Eh
F000:FA86  44 EE FE FE 7C 38			db	 44h,0EEh,0FEh,0FEh, 7Ch, 38h
F000:FA8C  10 00 10 38 7C FE			db	 10h, 00h, 10h, 38h, 7Ch,0FEh
F000:FA92  7C 38 10 00 18 3C			db	 7Ch, 38h, 10h, 00h, 18h, 3Ch
F000:FA98  DB FF DB 18 3C 00			db	0DBh,0FFh,0DBh, 18h, 3Ch, 00h
F000:FA9E  18 3C 7E FF 7E 18			db	 18h, 3Ch, 7Eh,0FFh, 7Eh, 18h
F000:FAA4  3C 00 00 00 3C 3C			db	 3Ch, 00h, 00h, 00h, 3Ch, 3Ch
F000:FAAA  3C 3C 00 00 FF FF			db	 3Ch, 3Ch, 00h, 00h,0FFh,0FFh
F000:FAB0  C3 C3 C3 C3 FF FF			db	0C3h,0C3h,0C3h,0C3h,0FFh,0FFh
F000:FAB6  00 7E 42 42 42 42			db	 00h, 7Eh, 42h, 42h, 42h, 42h
F000:FABC  7E 00 FF 81 BD BD			db	 7Eh, 00h,0FFh, 81h,0BDh,0BDh
F000:FAC2  BD BD 81 FF 0F 07			db	0BDh,0BDh, 81h,0FFh, 0Fh, 07h
F000:FAC8  07 7D CC CC CC 78			db	 07h, 7Dh,0CCh,0CCh,0CCh, 78h
F000:FACE  78 CC CC CC 78 30			db	 78h,0CCh,0CCh,0CCh, 78h, 30h
F000:FAD4  FC 30 1F 33 3F 30			db	0FCh, 30h, 1Fh, 33h, 3Fh, 30h
F000:FADA  30 70 F0 E0 3F 63			db	 30h, 70h,0F0h,0E0h, 3Fh, 63h
F000:FAE0  7F 63 63 67 E6 C0			db	 7Fh, 63h, 63h, 67h,0E6h,0C0h
F000:FAE6  DB DB 3C E7 E7 3C			db	0DBh,0DBh, 3Ch,0E7h,0E7h, 3Ch
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 359

F000:FAEC  DB DB C0 F0 F8 FE			db	0DBh,0DBh,0C0h,0F0h,0F8h,0FEh
F000:FAF2  F8 F0 C0 00 06 1E			db	0F8h,0F0h,0C0h, 00h, 06h, 1Eh
F000:FAF8  3E FE 3E 1E 06 00			db	 3Eh,0FEh, 3Eh, 1Eh, 06h, 00h
F000:FAFE  30 78 FC 30 30 FC			db	 30h, 78h,0FCh, 30h, 30h,0FCh
F000:FB04  78 30 6C 6C 6C 6C			db	 78h, 30h, 6Ch, 6Ch, 6Ch, 6Ch
F000:FB0A  6C 00 6C 00 7F DB			db	 6Ch, 00h, 6Ch, 00h, 7Fh,0DBh
F000:FB10  DB DB 7B 1B 1B 00			db	0DBh,0DBh, 7Bh, 1Bh, 1Bh, 00h
F000:FB16  3C 60 3C 66 66 3C			db	 3Ch, 60h, 3Ch, 66h, 66h, 3Ch
F000:FB1C  06 3C 00 00 00 00			db	 06h, 3Ch, 00h, 00h, 00h, 00h
F000:FB22  FE FE FE 00 18 3C			db	0FEh,0FEh,0FEh, 00h, 18h, 3Ch
F000:FB28  7E 18 7E 3C 18 7E			db	 7Eh, 18h, 7Eh, 3Ch, 18h, 7Eh
F000:FB2E  30 78 FC 30 30 30			db	 30h, 78h,0FCh, 30h, 30h, 30h
F000:FB34  30 00 30 30 30 30			db	 30h, 00h, 30h, 30h, 30h, 30h
F000:FB3A  FC 78 30 00 00 08			db	0FCh, 78h, 30h, 00h, 00h, 08h
F000:FB40  0C FE 0C 08 00 00			db	 0Ch,0FEh, 0Ch, 08h, 00h, 00h
F000:FB46  00 20 60 FE 60 20			db	 00h, 20h, 60h,0FEh, 60h, 20h
F000:FB4C  00 00 00 00 C0 C0			db	 00h, 00h, 00h, 00h,0C0h,0C0h
F000:FB52  FE 00 00 00 00 24			db	0FEh, 00h, 00h, 00h, 00h, 24h
F000:FB58  42 FF 42 24 00 00			db	 42h,0FFh, 42h, 24h, 00h, 00h
F000:FB5E  00 10 38 7C FE FE			db	 00h, 10h, 38h, 7Ch,0FEh,0FEh
F000:FB64  00 00 00 FE FE 7C			db	 00h, 00h, 00h,0FEh,0FEh, 7Ch
F000:FB6A  38 10 00 00 00 00			db	 38h, 10h, 00h, 00h, 00h, 00h
F000:FB70  00 00 00 00 00 00			db	 00h, 00h, 00h, 00h, 00h, 00h
F000:FB76  18 18 18 18 18 00			db	 18h, 18h, 18h, 18h, 18h, 00h
F000:FB7C  18 00 CC CC CC 00			db	 18h, 00h,0CCh,0CCh,0CCh, 00h
F000:FB82  00 00 00 00 36 6C			db	 00h, 00h, 00h, 00h, 36h, 6Ch
F000:FB88  FE 6C FE 6C D8 00			db	0FEh, 6Ch,0FEh, 6Ch,0D8h, 00h
F000:FB8E  18 7E C0 7C 06 FC			db	 18h, 7Eh,0C0h, 7Ch, 06h,0FCh
F000:FB94  30 00 C2 C6 0C 18			db	 30h, 00h,0C2h,0C6h, 0Ch, 18h
F000:FB9A  30 66 C6 00 38 6C			db	 30h, 66h,0C6h, 00h, 38h, 6Ch
F000:FBA0  38 70 DE CC 76 00			db	 38h, 70h,0DEh,0CCh, 76h, 00h
F000:FBA6  30 30 60 00 00 00			db	 30h, 30h, 60h, 00h, 00h, 00h
F000:FBAC  00 00 0C 18 30 30			db	 00h, 00h, 0Ch, 18h, 30h, 30h
F000:FBB2  30 18 0C 00 30 18			db	 30h, 18h, 0Ch, 00h, 30h, 18h
F000:FBB8  0C 0C 0C 18 30 00			db	 0Ch, 0Ch, 0Ch, 18h, 30h, 00h
F000:FBBE  00 6C 38 FE 38 6C			db	 00h, 6Ch, 38h,0FEh, 38h, 6Ch
F000:FBC4  00 00 00 18 18 7E			db	 00h, 00h, 00h, 18h, 18h, 7Eh
F000:FBCA  18 18 00 00 00 00			db	 18h, 18h, 00h, 00h, 00h, 00h
F000:FBD0  00 00 00 18 18 30			db	 00h, 00h, 00h, 18h, 18h, 30h
F000:FBD6  00 00 00 7E 00 00			db	 00h, 00h, 00h, 7Eh, 00h, 00h
F000:FBDC  00 00 00 00 00 00			db	 00h, 00h, 00h, 00h, 00h, 00h
F000:FBE2  00 18 18 00 02 06			db	 00h, 18h, 18h, 00h, 02h, 06h
F000:FBE8  0C 18 30 60 C0 00			db	 0Ch, 18h, 30h, 60h,0C0h, 00h
F000:FBEE  7C CE DE F6 E6 C6			db	 7Ch,0CEh,0DEh,0F6h,0E6h,0C6h
F000:FBF4  7C 00 18 38 18 18			db	 7Ch, 00h, 18h, 38h, 18h, 18h
F000:FBFA  18 18 7E 00 7C C6			db	 18h, 18h, 7Eh, 00h, 7Ch,0C6h
F000:FC00  06 1C 70 C6 FE 00			db	 06h, 1Ch, 70h,0C6h,0FEh, 00h
F000:FC06  7C C6 06 1C 06 C6			db	 7Ch,0C6h, 06h, 1Ch, 06h,0C6h
F000:FC0C  7C 00 1C 3C 6C CC			db	 7Ch, 00h, 1Ch, 3Ch, 6Ch,0CCh
F000:FC12  FE 0C 0C 00 FE C0			db	0FEh, 0Ch, 0Ch, 00h,0FEh,0C0h
F000:FC18  FC 06 06 C6 7C 00			db	0FCh, 06h, 06h,0C6h, 7Ch, 00h
F000:FC1E  3C 60 C0 FC C6 C6			db	 3Ch, 60h,0C0h,0FCh,0C6h,0C6h
F000:FC24  7C 00 FE C6 0C 18			db	 7Ch, 00h,0FEh,0C6h, 0Ch, 18h
F000:FC2A  30 30 30 00 7C C6			db	 30h, 30h, 30h, 00h, 7Ch,0C6h
F000:FC30  C6 7C C6 C6 7C 00			db	0C6h, 7Ch,0C6h,0C6h, 7Ch, 00h
F000:FC36  7C C6 C6 7E 06 0C			db	 7Ch,0C6h,0C6h, 7Eh, 06h, 0Ch
F000:FC3C  78 00 00 18 18 00			db	 78h, 00h, 00h, 18h, 18h, 00h
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 360

F000:FC42  00 18 18 00 00 18			db	 00h, 18h, 18h, 00h, 00h, 18h
F000:FC48  18 00 00 18 18 30			db	 18h, 00h, 00h, 18h, 18h, 30h
F000:FC4E  0C 18 30 60 30 18			db	 0Ch, 18h, 30h, 60h, 30h, 18h
F000:FC54  0C 00 00 00 7E 00			db	 0Ch, 00h, 00h, 00h, 7Eh, 00h
F000:FC5A  00 7E 00 00 30 18			db	 00h, 7Eh, 00h, 00h, 30h, 18h
F000:FC60  0C 06 0C 18 30 00			db	 0Ch, 06h, 0Ch, 18h, 30h, 00h
F000:FC66  3C 66 06 0C 18 00			db	 3Ch, 66h, 06h, 0Ch, 18h, 00h
F000:FC6C  18 00 7C C6 DE DE			db	 18h, 00h, 7Ch,0C6h,0DEh,0DEh
F000:FC72  DE C0 7C 00 38 6C			db	0DEh,0C0h, 7Ch, 00h, 38h, 6Ch
F000:FC78  C6 C6 FE C6 C6 00			db	0C6h,0C6h,0FEh,0C6h,0C6h, 00h
F000:FC7E  FC 6E 66 7C 66 6E			db	0FCh, 6Eh, 66h, 7Ch, 66h, 6Eh
F000:FC84  FC 00 3E 62 C0 C0			db	0FCh, 00h, 3Eh, 62h,0C0h,0C0h
F000:FC8A  C0 62 3E 00 F8 6E			db	0C0h, 62h, 3Eh, 00h,0F8h, 6Eh
F000:FC90  66 66 66 6E F8 00			db	 66h, 66h, 66h, 6Eh,0F8h, 00h
F000:FC96  FE 62 60 78 60 62			db	0FEh, 62h, 60h, 78h, 60h, 62h
F000:FC9C  FE 00 FE 62 60 78			db	0FEh, 00h,0FEh, 62h, 60h, 78h
F000:FCA2  60 60 F0 00 3E 62			db	 60h, 60h,0F0h, 00h, 3Eh, 62h
F000:FCA8  C0 C0 CE 66 3E 00			db	0C0h,0C0h,0CEh, 66h, 3Eh, 00h
F000:FCAE  C6 C6 C6 FE C6 C6			db	0C6h,0C6h,0C6h,0FEh,0C6h,0C6h
F000:FCB4  C6 00 3C 18 18 18			db	0C6h, 00h, 3Ch, 18h, 18h, 18h
F000:FCBA  18 18 3C 00 1E 0C			db	 18h, 18h, 3Ch, 00h, 1Eh, 0Ch
F000:FCC0  0C 0C 0C CC 78 00			db	 0Ch, 0Ch, 0Ch,0CCh, 78h, 00h
F000:FCC6  E6 66 6C 78 78 6C			db	0E6h, 66h, 6Ch, 78h, 78h, 6Ch
F000:FCCC  E6 00 F0 60 60 60			db	0E6h, 00h,0F0h, 60h, 60h, 60h
F000:FCD2  60 66 FE 00 C6 EE			db	 60h, 66h,0FEh, 00h,0C6h,0EEh
F000:FCD8  FE D6 C6 C6 C6 00			db	0FEh,0D6h,0C6h,0C6h,0C6h, 00h
F000:FCDE  C6 E6 F6 FE DE CE			db	0C6h,0E6h,0F6h,0FEh,0DEh,0CEh
F000:FCE4  C6 00 7C C6 C6 C6			db	0C6h, 00h, 7Ch,0C6h,0C6h,0C6h
F000:FCEA  C6 C6 7C 00 FC 66			db	0C6h,0C6h, 7Ch, 00h,0FCh, 66h
F000:FCF0  66 7C 60 60 E0 00			db	 66h, 7Ch, 60h, 60h,0E0h, 00h
F000:FCF6  7C C6 C6 D6 DE 7C			db	 7Ch,0C6h,0C6h,0D6h,0DEh, 7Ch
F000:FCFC  06 00 FC 66 66 7C			db	 06h, 00h,0FCh, 66h, 66h, 7Ch
F000:FD02  78 6C E6 00 7C C6			db	 78h, 6Ch,0E6h, 00h, 7Ch,0C6h
F000:FD08  E0 38 0E C6 7C 00			db	0E0h, 38h, 0Eh,0C6h, 7Ch, 00h
F000:FD0E  7E 5A 18 18 18 18			db	 7Eh, 5Ah, 18h, 18h, 18h, 18h
F000:FD14  3C 00 66 66 66 66			db	 3Ch, 00h, 66h, 66h, 66h, 66h
F000:FD1A  66 66 3C 00 66 66			db	 66h, 66h, 3Ch, 00h, 66h, 66h
F000:FD20  66 66 66 3C 18 00			db	 66h, 66h, 66h, 3Ch, 18h, 00h
F000:FD26  C6 C6 C6 D6 FE FE			db	0C6h,0C6h,0C6h,0D6h,0FEh,0FEh
F000:FD2C  C6 00 C6 6C 38 38			db	0C6h, 00h,0C6h, 6Ch, 38h, 38h
F000:FD32  6C C6 C6 00 66 66			db	 6Ch,0C6h,0C6h, 00h, 66h, 66h
F000:FD38  66 3C 18 18 3C 00			db	 66h, 3Ch, 18h, 18h, 3Ch, 00h
F000:FD3E  FE CC 18 30 60 C6			db	0FEh,0CCh, 18h, 30h, 60h,0C6h
F000:FD44  FE 00 3C 30 30 30			db	0FEh, 00h, 3Ch, 30h, 30h, 30h
F000:FD4A  30 30 3C 00 80 C0			db	 30h, 30h, 3Ch, 00h, 80h,0C0h
F000:FD50  60 30 18 0C 06 00			db	 60h, 30h, 18h, 0Ch, 06h, 00h
F000:FD56  3C 0C 0C 0C 0C 0C			db	 3Ch, 0Ch, 0Ch, 0Ch, 0Ch, 0Ch
F000:FD5C  3C 00 18 3C 66 00			db	 3Ch, 00h, 18h, 3Ch, 66h, 00h
F000:FD62  00 00 00 00 00 00			db	 00h, 00h, 00h, 00h, 00h, 00h
F000:FD68  00 00 00 00 00 FF			db	 00h, 00h, 00h, 00h, 00h,0FFh
F000:FD6E  18 18 0C 00 00 00			db	 18h, 18h, 0Ch, 00h, 00h, 00h
F000:FD74  00 00 00 00 38 0C			db	 00h, 00h, 00h, 00h, 38h, 0Ch
F000:FD7A  7C CC 76 00 60 60			db	 7Ch,0CCh, 76h, 00h, 60h, 60h
F000:FD80  60 7C 66 66 DC 00			db	 60h, 7Ch, 66h, 66h,0DCh, 00h
F000:FD86  00 00 7C C4 C0 C4			db	 00h, 00h, 7Ch,0C4h,0C0h,0C4h
F000:FD8C  7C 00 0C 0C 0C 7C			db	 7Ch, 00h, 0Ch, 0Ch, 0Ch, 7Ch
F000:FD92  CC CC 76 00 00 00			db	0CCh,0CCh, 76h, 00h, 00h, 00h
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 361

F000:FD98  78 CC FC C0 7C 00			db	 78h,0CCh,0FCh,0C0h, 7Ch, 00h
F000:FD9E  38 6C 60 F8 60 60			db	 38h, 6Ch, 60h,0F8h, 60h, 60h
F000:FDA4  E0 00 00 00 76 CC			db	0E0h, 00h, 00h, 00h, 76h,0CCh
F000:FDAA  CC 7C 0C 7C E0 60			db	0CCh, 7Ch, 0Ch, 7Ch,0E0h, 60h
F000:FDB0  60 7C 66 66 66 00			db	 60h, 7Ch, 66h, 66h, 66h, 00h
F000:FDB6  30 00 70 30 30 30			db	 30h, 00h, 70h, 30h, 30h, 30h
F000:FDBC  38 00 0C 00 1C 0C			db	 38h, 00h, 0Ch, 00h, 1Ch, 0Ch
F000:FDC2  0C CC CC 78 E0 60			db	 0Ch,0CCh,0CCh, 78h,0E0h, 60h
F000:FDC8  66 6C 78 6C 66 00			db	 66h, 6Ch, 78h, 6Ch, 66h, 00h
F000:FDCE  70 30 30 30 30 30			db	 70h, 30h, 30h, 30h, 30h, 30h
F000:FDD4  38 00 00 00 CC FE			db	 38h, 00h, 00h, 00h,0CCh,0FEh
F000:FDDA  D6 C6 C6 00 00 00			db	0D6h,0C6h,0C6h, 00h, 00h, 00h
F000:FDE0  DC 66 66 66 66 00			db	0DCh, 66h, 66h, 66h, 66h, 00h
F000:FDE6  00 00 3C 66 66 66			db	 00h, 00h, 3Ch, 66h, 66h, 66h
F000:FDEC  3C 00 00 00 DC 66			db	 3Ch, 00h, 00h, 00h,0DCh, 66h
F000:FDF2  66 7C 60 E0 00 00			db	 66h, 7Ch, 60h,0E0h, 00h, 00h
F000:FDF8  76 CC CC 7C 0C 0E			db	 76h,0CCh,0CCh, 7Ch, 0Ch, 0Eh
F000:FDFE  00 00 DC 76 60 60			db	 00h, 00h,0DCh, 76h, 60h, 60h
F000:FE04  60 00 00 00 78 C0			db	 60h, 00h, 00h, 00h, 78h,0C0h
F000:FE0A  78 0C 78 00 10 30			db	 78h, 0Ch, 78h, 00h, 10h, 30h
F000:FE10  78 30 30 34 18 00			db	 78h, 30h, 30h, 34h, 18h, 00h
F000:FE16  00 00 CC CC CC CC			db	 00h, 00h,0CCh,0CCh,0CCh,0CCh
F000:FE1C  76 00 00 00 66 66			db	 76h, 00h, 00h, 00h, 66h, 66h
F000:FE22  66 3C 18 00 00 00			db	 66h, 3Ch, 18h, 00h, 00h, 00h
F000:FE28  C6 C6 D6 FE 6C 00			db	0C6h,0C6h,0D6h,0FEh, 6Ch, 00h
F000:FE2E  00 00 CC 78 30 78			db	 00h, 00h,0CCh, 78h, 30h, 78h
F000:FE34  CC 00 00 00 CC CC			db	0CCh, 00h, 00h, 00h,0CCh,0CCh
F000:FE3A  CC 7C 0C 7C 00 00			db	0CCh, 7Ch, 0Ch, 7Ch, 00h, 00h
F000:FE40  FC 18 30 60 FC 00			db	0FCh, 18h, 30h, 60h,0FCh, 00h
F000:FE46  0E 18 18 70 18 18			db	 0Eh, 18h, 18h, 70h, 18h, 18h
F000:FE4C  0E 00 30 30 30 00			db	 0Eh, 00h, 30h, 30h, 30h, 00h
F000:FE52  30 30 30 00 70 18			db	 30h, 30h, 30h, 00h, 70h, 18h
F000:FE58  18 0E 18 18 70 00			db	 18h, 0Eh, 18h, 18h, 70h, 00h
F000:FE5E  00 76 DC 00 00 00			db	 00h, 76h,0DCh, 00h, 00h, 00h
F000:FE64  00 00 10 38 6C C6			db	 00h, 00h, 10h, 38h, 6Ch,0C6h
F000:FE6A  C6 C6 FE 00				db	0C6h,0C6h,0FEh, 00h

F000:FE6E			int_1Ah_entry:					;  xref F000:FF17
F000:FE6E  E9 8DD9				jmp	int_1Ah_RTC		; (8C4A)
							                        ;* No entry point to code
F000:FE71  00 00				add	[bx+si],al
F000:FE73  B0 60				mov	al,60h			; '`'
F000:FE75  E6 64				out	64h,al			; port 64h, kybd cntrlr functn
										;  al = 60h, write command byte
F000:FE77			loc_1410:					;  xref F000:FE87
F000:FE77  E3 00				jcxz	short $+2		; delay for I/O
F000:FE79  E3 00				jcxz	short $+2		; delay for I/O
F000:FE7B  E4 64				in	al,64h			; port 64h, keyboard status
F000:FE7D  50					push	ax
F000:FE7E  A8 01				test	al,1
F000:FE80  74 02				jz	short loc_1411		; Jump if zero
F000:FE82  E4 60				in	al,60h			; port 60h, keybd scan or sw1
F000:FE84			loc_1411:					;  xref F000:FE80
F000:FE84  58					pop	ax
F000:FE85  A8 02				test	al,2
F000:FE87  75 EE				jnz	loc_1410		; Jump if not zero
F000:FE89  C3					retn
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 362


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:7E68, 8751, EA12
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_406		proc	near
F000:FE8A  E8 0006				call	sub_407			; (FE93)
F000:FE8D  50					push	ax
F000:FE8E  E8 ED79				call	sub_350			; (EC0A)
F000:FE91  58					pop	ax
F000:FE92  C3					retn
				sub_406		endp


				;пппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп
				;                              SUBROUTINE
				;
				;         Called from:   F000:7E47, 8F7A, FE8A
				;мммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм

				sub_407		proc	near
F000:FE93  E8 ED98				call	sub_353			; (EC2E)
F000:FE96  2E: A0 B85E				mov	al,cs:data_234		; (F000:B85E=2)
F000:FE9A  75 05				jnz	short loc_ret_1412	; Jump if not zero
F000:FE9C  B0 AD				mov	al,0ADh
F000:FE9E  E8 ED40				call	sub_348			; (EBE1)

F000:FEA1			loc_ret_1412:					;  xref F000:FE9A
F000:FEA1  C3					retn
				sub_407		endp

F000:FEA2  00 00 00				db	0, 0, 0

F000:FEA5			int_8_entry:					;  xref F000:FEF3
F000:FEA5  E9 E1B6				jmp	int_8_timer		; (E05E)
F000:FEA8  AEB0 F000		data_309	dw	0AEB0h, 0F000h		;  xref F000:AFB2, AFD9, AFE8, AFFF
										;            B0BB
F000:FEAC  F0 AE 00 F0				db	0F0h,0AEh, 00h,0F0h
F000:FEB0  F000AEFA		data_310	dd	0F000AEFAh		;  xref F000:AFA6
F000:FEB4  002F[00]				db	47 dup (0)
F000:FEE3  F773			int_vec_table_0	dw	offset int_unused
F000:FEE5  F773					dw	offset int_unused
F000:FEE7  E2C3					dw	offset int_2_entry
F000:FEE9  F773					dw	offset int_unused
F000:FEEB  F773					dw	offset int_unused
F000:FEED  FF54					dw	offset int_5_entry
F000:FEEF  EA7A					dw	offset int_6_badopcode
F000:FEF1  EA22					dw	offset int_7_unused
F000:FEF3  FEA5			int_vec_table_1	dw	offset int_8_entry
F000:FEF5  E987					dw	offset int_9_entry
F000:FEF7  F773					dw	offset int_unused
F000:FEF9  F773					dw	offset int_unused
F000:FEFB  F773					dw	offset int_unused
F000:FEFD  F773					dw	offset int_unused
F000:FEFF  EF57					dw	offset int_0Eh_entry
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 363

F000:FF01  FF53					dw	offset int_return
F000:FF03  F065					dw	offset int_10h_entry
F000:FF05  F84D					dw	offset int_11h_equip
F000:FF07  F841					dw	offset int_12h_memsiz
F000:FF09  EC59					dw	offset int_13h_entry
F000:FF0B  E739					dw	offset int_14h_entry
F000:FF0D  F859					dw	offset int_15h_entry
F000:FF0F  E82E					dw	offset int_16h_entry
F000:FF11  EFD2					dw	offset int_17h_entry
F000:FF13  E000					dw	offset int_18h_entry
F000:FF15  E6F2					dw	offset int_19h_entry
F000:FF17  FE6E					dw	offset int_1Ah_entry
F000:FF19  FF53					dw	offset int_return
F000:FF1B  FF53					dw	offset int_return
F000:FF1D  F0A4			int_data_table	dw	offset video_hdwr_tbl1
F000:FF1F  EFC7					dw	offset diskette7info_1
F000:FF21  0000			video_ptr	dw	0
F000:FF23  F71E			int_vec_table_2	dw	offset int_70h_clock
F000:FF25  EC36					dw	offset int_71h_cascade
F000:FF27  F773					dw	offset int_unused
F000:FF29  F773					dw	offset int_unused
F000:FF2B  F773					dw	offset int_unused
F000:FF2D  EC3F					dw	offset int_75h_math
F000:FF2F  E845					dw	offset int_76h_hddone
F000:FF31  BCA7					dw	offset int_77h
F000:FF33  0020[00]				db	32 dup (0)

				;лллллллллллллллллллллллллллллллллллллллллллллллллллллллллллллллллллллллллл
				;
				;                       External Entry Point
				;
				;лллллллллллллллллллллллллллллллллллллллллллллллллллллллллллллллллллллллллл

F000:FF53			int_return	proc	near			;  xref F000:E1D8, FF01, FF19, FF1B
F000:FF53  CF					iret				; Interrupt return
				int_return	endp


F000:FF54			int_5_entry:					;  xref F000:FEED
F000:FF54  E9 F406				jmp	int_5_prn_scrn		; (F35D)
F000:FF57  00 00				db	0, 0
F000:FF59  28 43 29 31 39 39			db	'(C)1994AMI,404-263-8181'
F000:FF5F  34 41 4D 49 2C 34
F000:FF65  30 34 2D 32 36 33
F000:FF6B  2D 38 31 38 31
F000:FF70  97 AF AF FE FE FE			db	 97h,0AFh,0AFh,0FEh,0FEh,0FEh
F000:FF76  FE FE D5 4D F5 9D			db	0FEh,0FEh,0D5h, 4Dh,0F5h, 9Dh
F000:FF7C  55 F5 5D B5 85 8D			db	 55h,0F5h, 5Dh,0B5h, 85h, 8Dh
F000:FF82  FE E5 85 7D 35 9E			db	0FEh,0E5h, 85h, 7Dh, 35h, 9Eh
F000:FF88  FE 8D 85 5D FE CD			db	0FEh, 8Dh, 85h, 5Dh,0FEh,0CDh
F000:FF8E  85 6D FE 65 F5 9D			db	 85h, 6Dh,0FEh, 65h,0F5h, 9Dh
F000:FF94  D5 97 AF FE FE FE			db	0D5h, 97h,0AFh,0FEh,0FEh,0FEh
F000:FF9A  FE FE BE E5 B6 FE			db	0FEh,0FEh,0BEh,0E5h,0B6h,0FEh
F000:FFA0  F5 94 D4 6C B4 E4			db	0F5h, 94h,0D4h, 6Ch,0B4h,0E4h
F000:FFA6  F4 8C FE 95 D4 C4			db	0F4h, 8Ch,0FEh, 95h,0D4h,0C4h
F000:FFAC  F4 5C 6C D4 8C DC			db	0F4h, 5Ch, 6Ch,0D4h, 8Ch,0DCh
F000:FFB2  64 FE B5 8C E4 8E			db	 64h,0FEh,0B5h, 8Ch,0E4h, 8Eh
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 364

F000:FFB8  9E 97 AF AB				db	 9Eh, 97h,0AFh,0ABh
F000:FFBC  000C[FF]				db	12 dup (0FFh)
F000:FFC8  5F F2 5B 7F CA CA			db	 5Fh,0F2h, 5Bh, 7Fh,0CAh,0CAh
F000:FFCE  F2 7F EE 5A 62 5A			db	0F2h, 7Fh,0EEh, 5Ah, 62h, 5Ah
F000:FFD4  2E 7A 4E 7F B2 1A			db	 2Eh, 7Ah, 4Eh, 7Fh,0B2h, 1Ah
F000:FFDA  32 2E 6A 4A 32 4F			db	 32h, 2Eh, 6Ah, 4Ah, 32h, 4Fh
F000:FFE0  7F DA C6 EE DA FA			db	 7Fh,0DAh,0C6h,0EEh,0DAh,0FAh
F000:FFE6  4F 7F 3B 3B 4B 3B			db	 4Fh, 7Fh, 3Bh, 3Bh, 4Bh, 3Bh
F000:FFEC  33 4B 1F				db	 33h, 4Bh, 1Fh
F000:FFEF  2B					db	2Bh

F000:FFF0			power_on_reset:					;  xref F000:AEA6
F000:FFF0  EA F000E05B				jmp	far ptr loc_1157	; (E05B)
F000:FFF5  31 30 2F 31 30 2F	rom_versn_date	db	'10/10/94', 0
F000:FFFB  39 34 00
F000:FFFE  FC			model_type	db	0FCh
F000:FFFF  00			model_sub_type	db	0

				seg_d		ends



						end
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 365


				ББББББББББББББББББББ CROSS REFERENCE - KEY ENTRY POINTS БББББББББББББББББББ

				    seg:off    type	   label
				   ---- ----   ----   --------------------------------
				   0000:7C00   far    run_boot_sector
				   F000:7528   near   int_10h_video
				   F000:8370   near   system_reset
				   F000:8731   near   int_19h_bootup
				   F000:87E6   near   int_9_keyboard
				   F000:8C4A   near   int_1Ah_RTC
				   F000:9680   near   int_15h_servics
				   F000:9683   near   int_2_NMI
				   F000:9E97   near   int_13h_hrd_dsk
				   F000:AAAC   near   int_16h_keybd
				   F000:BCA7   near   int_77h
				   F000:C8CA   near   int_13h_floppy
				   F000:E000   extn   int_18h_entry
				   F000:E005   near   int_18h_basic
				   F000:E05E   near   int_8_timer
				   F000:E2C3   extn   int_2_entry
				   F000:E6F2   extn   int_19h_entry
				   F000:E739   extn   int_14h_entry
				   F000:E82E   extn   int_16h_entry
				   F000:E831   near   int_0Eh_floppy
				   F000:E845   near   int_76h_hddone
				   F000:E987   extn   int_9_entry
				   F000:EA22   near   int_7_unused
				   F000:EA7A   near   int_6_badopcode
				   F000:EC36   near   int_71h_cascade
				   F000:EC3F   near   int_75h_math
				   F000:EC59   extn   int_13h_entry
				   F000:EF57   extn   int_0Eh_entry
				   F000:EFD2   extn   int_17h_entry
				   F000:F065   extn   int_10h_entry
				   F000:F06A   near   ROM_exception
				   F000:F35D   near   int_5_prn_scrn
				   F000:F71E   near   int_70h_clock
				   F000:F773   near   int_unused
				   F000:F841   near   int_12h_memsiz
				   F000:F84D   near   int_11h_equip
				   F000:F859   extn   int_15h_entry
				   F000:F889   near   int_17h_printer
				   F000:F913   near   int_14h_RS232
				   F000:FE6E   extn   int_1Ah_entry
				   F000:FEA5   extn   int_8_entry
				   F000:FF53   near   int_return
				   F000:FF54   extn   int_5_entry
				   F000:FFF0   extn   power_on_reset

				 ББББББББББББББББББ Interrupt Usage Synopsis ББББББББББББББББББ

				        Interrupt 2   : NMI (parity, video ticks, etc)
				        Interrupt 5   : Print screen (status at 50:0h)
				        Interrupt 0Ah : Find int from 2nd controller
				        Interrupt 10h : Video display	ah=functn xxh
				        Interrupt 10h :  ah=02h	 set cursor location in dx
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 366

				        Interrupt 10h :  ah=03h	 get cursor loc in dx, mode cx
				        Interrupt 10h :  ah=06h	 scroll	up, al=lines
				        Interrupt 10h :  ah=08h	 get char al & attrib ah @curs
				        Interrupt 10h :  ah=0Ah	 set char al at present curs
				        Interrupt 10h :  ah=0Eh	 write char al, teletype mode
				        Interrupt 10h :  ax=1130h  get font type bh info into
				        Interrupt 13h : Disk  dl=drive #  ah=func xxh
				        Interrupt 13h :  ah=00h	 reset disk, al=return status
				        Interrupt 13h :  ah=02h	 read sectors to memory es:bx
				        Interrupt 15h : General	services, ah=func xxh
				        Interrupt 15h :  ah=4Fh	 keybd intercept, al=scan code
				        Interrupt 15h :  ah=85h	 SysReq	key, al=0 make, =1 brk
				        Interrupt 15h :  ah=90h	 device	busy, al=type,
				        Interrupt 15h :  ah=91h	 interrupt complete, al=type
				        Interrupt 16h : Keyboard i/o  ah=function xxh
				        Interrupt 16h :  ah=00h	 get keybd char in al, ah=scan
				        Interrupt 16h :  ah=01h	 get status, if zf=0  al=char
				        Interrupt 17h : Printer	 dx=prn#, ah=func xxh
				        Interrupt 17h :  ah=00h	 print char al, get status ah
				        Interrupt 17h :  ah=02h	 read status, ah=return status
				        Interrupt 18h : ROM basic
				        Interrupt 1Bh : Keyboard break (cntrl-break)
				        Interrupt 1Ch : Timer break (call each 18.2ms)
				        Interrupt 40h : Floppy dl=drive	# ah=func xxh
				        Interrupt 40h :  ah=00h	 reset disk, al=return status
				        Interrupt 40h :  ah=01h	 read status, al=return status
				        Interrupt 4Ah : RTC Alarm occurred

				 ББББББББББББББББББ I/O Port Usage Synopsis  ББББББББББББББББББ

				        Port 0     : DMA-1 bas&add ch 0
				        Port 1     : DMA-1 bas&cnt ch 0
				        Port 3     : DMA-1 bas&cnt ch 1
				        Port 4     : DMA-1 bas&add ch 2
				        Port 5     : DMA-1 bas&cnt ch 2
				        Port 6     : DMA-1 bas&add ch 3
				        Port 7     : DMA-1 bas&cnt ch 3
				        Port 0Ah   : DMA-1 mask	reg bit
				        Port 0Bh   : DMA-1 mode	reg
				        Port 0Ch   : DMA-1 clr byte ptr
				        Port 20h   : 8259-1 int	IRR/ISR
				        Port 20h   : 8259-1 int	command
				        Port 20h   :  al = 0Bh,	read InServiceReg
				        Port 20h   :  al = 20h,	end of interrupt
				        Port 21h   : 8259-1 int	IMR
				        Port 21h   : 8259-1 int	comands
				        Port 21h   :  al = 1, inhibit IRQ0 timer
				        Port 21h   :  al = 4, inhibit IRQ2
				        Port 22h   : C&T NEAT,Index Reg
				        Port 23h   : C&T NEAT, Data Reg
				        Port 40h   : 8253 timer	0 clock
				        Port 41h   : 8253 timer	1 refsh
				        Port 42h   : 8253 timer	2 spkr
				        Port 43h   : 8253 timer	control
				        Port 43h   :  al = 0, latch timer0 count
				        Port 60h   : keybd scan	or sw1
				        Port 60h   : keybd data	write
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 367

				        Port 61h   : 8255 port B, read
				        Port 61h   : 8255 B - spkr, etc
				        Port 61h   :  al = 0, disable parity
				        Port 61h   :  al = 0Ch,	enable parity
				        Port 64h   : keyboard status
				        Port 64h   : kybd cntrlr functn
				        Port 64h   :  al = 60h,	write command byte
				        Port 64h   :  al = 0ADh, disable keyboard
				        Port 64h   :  al = 0AEh, enable	keyboard
				        Port 64h   :  al = 0C0h, read 8042 in port
				        Port 64h   :  al = 0D1h, wrt 8042 out port
				        Port 64h   :  al = 0FEh, pulse CPU reset
				        Port 70h   : CMOS addr,bit7=NMI
				        Port 70h   :  al = 0, seconds register
				        Port 70h   :  al = 0Dh,	status register D
				        Port 70h   :  al = 0Eh,	test results reg
				        Port 70h   :  al = 0Fh,	shutdown status
				        Port 70h   :  al = 10h,	floppy drive type
				        Port 70h   :  al = 37h,	BCD year/100
				        Port 71h   : CMOS data
				        Port 80h   : POST checkpoint
				        Port 81h   : DMA page reg ch 2
				        Port 92h   : system cntrl bits
				        Port 0A0h  : 8259-2 int	IRR/ISR
				        Port 0A0h  : 8259-2 int	command
				        Port 0A0h  :  al = 0Ah,	read IntRequestReg
				        Port 0A0h  :  al = 11h,	initialize, 4 byte
				        Port 0A0h  :  al = 20h,	end of interrupt
				        Port 0A1h  : 8259-2 int	IMR
				        Port 0A1h  : 8259-2 int	comands
				        Port 0A1h  :  al = 1, inhibit IRQ8 RTC
				        Port 0A1h  :  al = 2, inhibit IRQ9
				        Port 0A1h  :  al = 0FFh, inhibit interrupts
				        Port 0D6h  : DMA-2 mode	reg
				        Port 0F0h  : 80287 clear busy
				        Port 0F1h  : 80287 reset
				        Port 177h  : hdsk1-status reg
				        Port 1F7h  : hdsk0-status reg
				        Port 201h  : start game	1-shots
				        Port 378h  : printer-2 data
				        Port 379h  : printer-2 status
				        Port 3B4h  : MDA/EGA reg index
				        Port 3B4h  :  al = 0, horiz char total
				        Port 3B5h  : MDA/EGA indxd data
				        Port 3B8h  : MDA video control
				        Port 3B9h  : CGA color(port3D9)
				        Port 3C4h  : EGA sequencr index
				        Port 3C4h  :  al = 2, map mask register
				        Port 3C5h  : EGA sequencr func
				        Port 3D4h  : CGA/EGA reg index
				        Port 3D4h  :  al = 0Ch,	start address high
				        Port 3D4h  :  al = 0Dh,	start address low
				        Port 3D4h  :  al = 10h,	light pen high
				        Port 3D4h  :  al = 11h,	light pen low
				        Port 3D5h  : CGA/EGA indxd data
				        Port 3D8h  : CGA video control
				        Port 3D9h  : CGA color control
           MBIOS.LST       BIOS ROM Analysis	Sourcer	v5.10    9-Feb- 0   6:51 pm   Page 368

				        Port 3DAh  : CGA/EGA vid status
				        Port 3DBh  : CGA light pen clr
				        Port 3F2h  : dsk0 contrl output
				        Port 3F4h  : dsk0 cntrlr status
				        Port 3F5h  : dsk0 controlr data
				        Port 3F5h  :  al = 3, specify
				        Port 3F7h  : disk status
				        Port 3F7h  : dsk0 config ctrl
				           69 Ocurrences of non-standard I/O ports used (search for ??).

