        LIST P=16C84,E=2
;CONST
RTCC		EQU	01h
INTCON		EQU	0Bh
STATUS		EQU	03h
OPTN		EQU	01h	;(81h)
TRISA		EQU	05h	;(85h)
TRISB		EQU	06h	;(86h)
EECON1		EQU	08h	;(88h)
EECON2		EQU	09h	;(89h)
EEADR		EQU	09h
EEDATA		EQU	08h

PORTA		EQU	05h
PORTB		EQU	06h

;RAM
FLAGS	        EQU     0Eh
KEYFL		EQU	0	;BITS
KEYFL1		EQU	1	;
ALERT		EQU	2	;IF ALERT=1 THEN SIGNALIZATION ACTIVAITED
EEPROG		EQU	3	;MODE OF WRITE NEW COD
KEYERR		EQU	4	;IF 1 THEN PRESS ERROR KEY
ALERTF		EQU	5	;WAIT FOR ACTIVAITED ALERT (FIRST WDT)

SCAN	        EQU     0Fh
SCAN1	        EQU     10h
SCANCNT         EQU     11h
TMRH		EQU	12h     ;HIGH BYIT TIMER
TMRL		EQU	13h	;LOW  BYIT TIMER

KEYTMR		EQU	14h
KEYTMR1		EQU	15h
KEYCNT		EQU	16h	;QWANTITI OF PRESS KEY
DAT		EQU	17h	;DATA FOR EEPROM
ADDR		EQU	18h	;ADRESS	FOR EEPROM
	

	
        ORG	0h
	GOTO	MAIN
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP

TMRINT	MOVLW	B'00000000'
	MOVWF	INTCON
	MOVLW	40H
	MOVWF	RTCC

	CLRWDT
	BSF	STATUS,5
	MOVLW	B'10000111'
	MOVWF	OPTN
	BCF	STATUS,5
	CLRWDT
	CLRF	RTCC
	BSF	STATUS,5
	MOVLW	B'10000111'
	MOVWF	OPTN
	BCF	STATUS,5
	
;	MOVLW	1
;	ADDWF	TMRL,1
;	BTFSC	STATUS,0
;	INCF	TMRH
	INCF	TMRL
	RETEIF

MAIN	MOVLW	0h
	TRIS	PORTB
	TRIS	PORTA
	CLRF	PORTB
	CLRF	PORTA
	BTFSC	STATUS,4
	BSF	PORTA,0
	CLRWDT
	BSF	STATUS,5
	MOVLW	B'10001111'
	MOVWF	OPTN
	BCF	STATUS,5
	CLRF	RTCC
	MOVLW	B'10100000'
	MOVWF	INTCON


WAIT	MOVFW	TMRL
	MOVWF	PORTB
	CLRWDT
	BSF	INTCON,5
	GOTO	WAIT	

END