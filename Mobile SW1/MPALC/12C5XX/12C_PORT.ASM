LIST P=16C54
;LIST P=12C509		;exempl

INDF		EQU	00h
TMR0		EQU	01h
PCL		EQU	02h
STATUS		EQU	03h
FSR		EQU	04h
OSCCAL		EQU	05h
GPIO		EQU	06h

D1		EQU	07h
TIME		EQU	08h
TIME2		EQU	09h
D24		EQU	1Fh

	ORG	0
	NOP
	BTFSC	STATUS,7
	GOTO	WAKEUP
	BTFSS	STATUS,4
	GOTO	OVERW

	CALL	INIP
SLEEP_	MOVLW	4h
	MOVWF	GPIO
	MOVFW	GPIO
	SLEEP

CIKL1	MOVLW	0FFh
	MOVWF	GPIO
	CALL	TML
	MOVLW	0
	MOVWF	GPIO
	CALL	TML
	GOTO	CIKL1

WAKEUP	CALL	INIP
	MOVLW	01h
	MOVWF	GPIO
	CALL	TML2
	MOVLW	0
	MOVWF	GPIO
	CALL	TML
	GOTO	SLEEP_

OVERW	CALL	INIP
	MOVLW	02h
	MOVWF	GPIO
	CALL	TML
	MOVLW	0
	MOVWF	GPIO
	CALL	TML
	GOTO	SLEEP_

INIP	CLRWDT
	MOVLW	0Fh
	OPTION
	CLRF	STATUS
	MOVLW	0F8h
	TRIS	GPIO
	RETLW	0

;----------------------TM----------------------------------------------------
       
TM	MOVLW	0FFh
	MOVWF	TIME
LL3	CLRWDT
	DECFSZ	TIME,1
	GOTO	LL3
	RETLW 	0

TML	MOVLW	20h
	MOVWF	TIME
LL1	MOVLW	0FFh
	MOVWF	TIME2
LL2	CLRWDT
	DECFSZ	TIME2,1
	GOTO	LL2	

	DECFSZ	TIME,1
	GOTO	LL1
	RETLW	0

TML2	MOVLW	0FEh
	MOVWF	TIME
AL1	MOVLW	0FFh
	MOVWF	TIME2
AL2	CLRWDT
	DECFSZ	TIME2,1
	GOTO	AL2	
	DECFSZ	TIME,1
	GOTO	AL1
	RETLW	0

end