
                      РУСИФИКАЦИЯ  ВИДЕОАДАПТЕРОВ

                           Ручная русификация

    Чтобы русифицировать карту EGA, надо:

  - извлечь ПЗУ из карты, сосчитать его на программаторе, записать
    в файл.

  - запустить   программу   FONT-PIC.EXE   и  преобразовать  файл,
    считанный  с  ПЗУ.

  - просмотреть преобразованный файл при помощи  любого текстового
    редактора,   найти  и  выписать  начальный  адрес,  с которого
    начинаются  шрифты,  подлежащие замене.  (Адрес   указан   над
    изображением  символа, код  снизу.) (Вместо FONT-PIC.EXE можно
    воспользоваться редактором  знакогенератора в режиме "Работа с
    буфером".)

  - пользуясь возможностью загрузки из файла в буфер  по  заданным
    адресам в режиме "Работа с буфером" и сервисным набором фонтов,
    заменить имеющийся в EGA шрифтовой массив  на  соответствующий
    фонт с русским шрифтом.

  -  посчитать  контрольную сумму русифицированной EGA. Она должна
    иметь в двух младших разрядах нули. Если это  не  так, следует
    изменить  дополнение  к контрольной  сумме (находится обычно в
    последнем  адресе  ПЗУ)  таким  образом, чтобы получить в двух
    младших разрядах нули. Например, контрольная сумма - 5FE814h,а
    в последнем  адресе  ПЗУ записан код 24h. Следует записать его
    равным  10h  -  тогда  контрольная  сумма  станет 5FE800h (при
    подсчете контрольной  суммы программа автоматически определяет
    дополнение  для   последнего  адреса).  Замену   байта   можно
    произвести, пользуясь режимом "Редактирование буфера".

  - полученный таким образом новый файл надо  запрограммировать  в
    ПЗУ и вставить в EGA карту.

    CGA  и  Hercules  русифицируются  аналогичным  образом, но без
    подсчета контрольной суммы.


                     Автоматическая русификация.

    Чтобы  русифицировать  карту  EGA, CGA, Hercules  надо:

  - извлечь ПЗУ из карты, сосчитать его на программаторе, записать
    в файл.

  -  в режиме "Работа с буфером", далее - "Русификация адаптеров",
    выбрать  файл,  который  необходимо  русифицировать. Программа
    автоматически  выполнит  все,  что требуется: найдет и заменит
    фонты, подсчитает, если  это  необходимо, контрольную  сумму и
    дополнение к контрольной сумме запишет в последний адрес.

    Примечание:

    Русификация VGA имеет свои особенности, например, дополнение к
  контрольной сумме не всегда располагается в конце файла, поэтому
  стандартного способа русификации VGA не существует, но  основные
  методы  -  те  же,  что  и  при  русификации  EGA. Если BIOS VGA
  находится на двух ПЗУ (четные и нечетные  адреса), необходимо  в
  режиме  "Работа  с  буфером"  объединить  две  ПЗУ  с  четными и
  нечетными адресами при  помощи загрузки в буфер "Через байт",  и
  затем  записать в один файл. После русификации при помощи записи
  из буфера в файл "Через байт" записать в два файла с  четными  и
  нечетными адресами.

    Также встречаются ПЗУ, в которых программа запрограммирована с
  нестандартным расположением адресов и данных.  Это  можно прове-
  рить сравнением,  сосчитав  BIOS  непосредственно из компьютера.
  Для таких случаев в программе предусмотрена загрузка из файла  в
  буфер с переадресацией: при этом можно изменять порядок располо-
  жения адресов и данных.

    В EGA и VGA  в  стороне  от  основных  массивов  фонтов  часто
  располагаются   рисунки   отдельных   символов,  перед  которыми
  находятся их коды. Все эти символы вместе  с  кодами  необходимо
  стереть (заполнить нулями) и проверить контрольную сумму.

